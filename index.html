<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ELVHNXC9MJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-ELVHNXC9MJ');
    </script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, interactive-widget=overlays-content">
    <meta name="theme-color" content="#000000">
    <meta name="msapplication-navbutton-color" content="#000000">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>BOO - Bunch of Others</title>
    
    <!-- Favicons -->
    <link rel="icon" href="Images/Favicon/favicon.svg" type="image/svg+xml">
    <link rel="icon" href="Images/Favicon/favicon.ico" sizes="any">
    <link rel="apple-touch-icon" href="Images/Favicon/apple-touch-icon.png">
    
    <!-- Early error handler to catch CORS/external resource errors -->
    <script>
    (function() {
        // Suppress all script errors (CORS, external resources, etc.)
        window.onerror = function() { return true; };
        window.onunhandledrejection = function(e) { try { e.preventDefault(); } catch(x) {} return true; };
        // Also use addEventListener for maximum compatibility
        window.addEventListener('error', function(e) { e.preventDefault(); e.stopPropagation(); return true; }, true);
        window.addEventListener('unhandledrejection', function(e) { e.preventDefault(); return true; }, true);
    })();
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Bebas+Neue&display=swap" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/rumble-brave" rel="stylesheet">
    <style>
        /* Loading screen with animated logo */
        .page-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            height: 100dvh; /* Dynamic viewport for mobile - accounts for address bar */
            background: #0a0a0a;
            z-index: 99999;
            opacity: 1;
            -webkit-transition: opacity 0.4s ease-out;
            transition: opacity 0.4s ease-out;
            pointer-events: all;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            /* GPU layer for fixed element stability */
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }
        
        .page-loader .loader-logo-container {
            position: relative;
            width: 180px;
            padding: 0.3rem;
            border-radius: 22px;
            /* Start with hot orange */
            background: #ff6600;
            -webkit-animation: loaderColorSweep 1s cubic-bezier(0.37, 0, 0.63, 1) forwards;
            animation: loaderColorSweep 1s cubic-bezier(0.37, 0, 0.63, 1) forwards;
            box-shadow: 0 0 30px rgba(255, 102, 0, 0.6), 0 0 60px rgba(255, 102, 0, 0.4);
            /* GPU layer */
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }
        
        /* Color sweep from hot to cold - each color appears once */
        @-webkit-keyframes loaderColorSweep {
            0% {
                background: #ff6600;
                box-shadow: 0 0 30px rgba(255, 102, 0, 0.6), 0 0 60px rgba(255, 102, 0, 0.4);
            }
            15% {
                background: #ff1493;
                box-shadow: 0 0 30px rgba(255, 20, 147, 0.5), 0 0 60px rgba(255, 20, 147, 0.35);
            }
            30% {
                background: #ff00ff;
                box-shadow: 0 0 30px rgba(255, 0, 255, 0.5), 0 0 60px rgba(255, 0, 255, 0.35);
            }
            50% {
                background: #9b30ff;
                box-shadow: 0 0 30px rgba(155, 48, 255, 0.5), 0 0 60px rgba(155, 48, 255, 0.35);
            }
            70% {
                background: #00aaff;
                box-shadow: 0 0 30px rgba(0, 170, 255, 0.5), 0 0 60px rgba(0, 170, 255, 0.35);
            }
            85% {
                background: #00e5cc;
                box-shadow: 0 0 30px rgba(0, 229, 204, 0.5), 0 0 60px rgba(0, 229, 204, 0.35);
            }
            100% {
                background: #00ffcc;
                box-shadow: 0 0 30px rgba(0, 255, 204, 0.5), 0 0 60px rgba(0, 255, 204, 0.4);
            }
        }
        @keyframes loaderColorSweep {
            0% {
                background: #ff6600;
                box-shadow: 0 0 30px rgba(255, 102, 0, 0.6), 0 0 60px rgba(255, 102, 0, 0.4);
            }
            15% {
                background: #ff1493;
                box-shadow: 0 0 30px rgba(255, 20, 147, 0.5), 0 0 60px rgba(255, 20, 147, 0.35);
            }
            30% {
                background: #ff00ff;
                box-shadow: 0 0 30px rgba(255, 0, 255, 0.5), 0 0 60px rgba(255, 0, 255, 0.35);
            }
            50% {
                background: #9b30ff;
                box-shadow: 0 0 30px rgba(155, 48, 255, 0.5), 0 0 60px rgba(155, 48, 255, 0.35);
            }
            70% {
                background: #00aaff;
                box-shadow: 0 0 30px rgba(0, 170, 255, 0.5), 0 0 60px rgba(0, 170, 255, 0.35);
            }
            85% {
                background: #00e5cc;
                box-shadow: 0 0 30px rgba(0, 229, 204, 0.5), 0 0 60px rgba(0, 229, 204, 0.35);
            }
            100% {
                background: #00ffcc;
                box-shadow: 0 0 30px rgba(0, 255, 204, 0.5), 0 0 60px rgba(0, 255, 204, 0.4);
            }
        }
        
        .page-loader .loader-logo {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 18px;
        }

        .page-loader.loaded {
            opacity: 0;
            pointer-events: none;
        }
        
        /* Hide scroll container content until page loader is gone */
        body:not(.page-loaded) .scroll-container {
            opacity: 0;
        }
        
        body.page-loaded .scroll-container {
            opacity: 1;
            transition: opacity 0.3s ease-out;
        }
        
        /* ========== NAV TAP GLOW ANIMATION - GLOBAL ========== */
        /* 0.5s fade in, 2s hold, 0.5s fade out = 3s total */
        @-webkit-keyframes navTapGlow {
            0% { text-shadow: none; }
            16.67% { text-shadow: 0 0 10px rgba(0, 255, 255, 0.9), 0 0 20px rgba(0, 255, 255, 0.7), 0 0 40px rgba(255, 0, 255, 0.5); }
            83.33% { text-shadow: 0 0 10px rgba(0, 255, 255, 0.9), 0 0 20px rgba(0, 255, 255, 0.7), 0 0 40px rgba(255, 0, 255, 0.5); }
            100% { text-shadow: none; }
        }
        @keyframes navTapGlow {
            0% { text-shadow: none; }
            16.67% { text-shadow: 0 0 10px rgba(0, 255, 255, 0.9), 0 0 20px rgba(0, 255, 255, 0.7), 0 0 40px rgba(255, 0, 255, 0.5); }
            83.33% { text-shadow: 0 0 10px rgba(0, 255, 255, 0.9), 0 0 20px rgba(0, 255, 255, 0.7), 0 0 40px rgba(255, 0, 255, 0.5); }
            100% { text-shadow: none; }
        }
        
        /* Chrome/Chromium performance fix - DESKTOP ONLY */
        @supports (-webkit-appearance: none) and (not (-moz-appearance: none)) {
            
            /* On mobile Chrome, disable all these optimizations - let mobile media query handle it */
            @media (min-width: 769px) {
            
            /* === HIDE MOST EXPENSIVE OVERLAYS === */
            .wavy-flutter,
            .psych-fractals,
            .liquid-overlay {
                display: none !important;
            }
            
            /* Reduce blur on remaining elements for better performance */
            .lava-blob {
                filter: saturate(1.0) !important; /* Reduced saturation */
                will-change: transform, opacity;
                backface-visibility: hidden;
            }
            
            .splotch {
                filter: saturate(1.0) !important; /* Reduced saturation */
                opacity: 0.4 !important;
                will-change: transform;
                backface-visibility: hidden;
            }
            
            /* Simpler blend modes */
            .lava-blob,
            .splotch,
            .oil-slick {
                mix-blend-mode: screen !important;
            }
            
            /* Slow breathing background - more noticeable */
            section::before {
                filter: saturate(1.0) !important; /* Reduced saturation */
                -webkit-animation: chromeBackgroundBreath 55s ease-in-out infinite !important;
                animation: chromeBackgroundBreath 55s ease-in-out infinite !important;
                will-change: transform;
                backface-visibility: hidden;
                transform-origin: center center;
            }
            
            @-webkit-keyframes chromeBackgroundBreath {
                0%, 100% { 
                    -webkit-transform: scale(1.0) rotate(0deg);
                    transform: scale(1.0) rotate(0deg);
                }
                50% { 
                    -webkit-transform: scale(1.08) rotate(0.5deg);
                    transform: scale(1.08) rotate(0.5deg);
                }
            }
            @keyframes chromeBackgroundBreath {
                0%, 100% { 
                    -webkit-transform: scale(1.0) rotate(0deg);
                    transform: scale(1.0) rotate(0deg);
                }
                50% { 
                    -webkit-transform: scale(1.08) rotate(0.5deg);
                    transform: scale(1.08) rotate(0.5deg);
                }
            }
            
            /* CRITICAL: Disable smooth scroll on container to prevent tearing with scroll-snap */
            .scroll-container {
                scroll-behavior: auto !important;
            }
            
            /* ========== CHROME-SPECIFIC LIGHTWEIGHT ALTERNATIVES ========== */
            /* Simplified - only opacity and transform, no filter animations */
            
            /* Chrome color sweep - gradient overlay for color */
            .chrome-color-sweep {
                display: block !important;
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 2;
                background: 
                    radial-gradient(ellipse 90% 60% at 15% 25%, rgba(255, 0, 180, 0.12) 0%, transparent 55%),
                    radial-gradient(ellipse 100% 90% at 100% 100%, rgba(50, 255, 100, 0.22) 0%, transparent 50%),
                    radial-gradient(ellipse 80% 70% at 85% 80%, rgba(0, 255, 150, 0.18) 0%, transparent 55%),
                    radial-gradient(ellipse 80% 70% at 50% 50%, rgba(180, 0, 255, 0.10) 0%, transparent 55%);
                background-size: 200% 200%, 150% 150%, 200% 200%, 200% 200%;
                opacity: 1;
                animation: chromeSweep 45s ease-in-out infinite;
                will-change: background-position;
                backface-visibility: hidden;
            }
            
            @keyframes chromeSweep {
                0%, 100% { 
                    background-position: 0% 0%, 100% 100%, 100% 100%, 50% 50%;
                }
                50% { 
                    background-position: 100% 100%, 80% 80%, 0% 0%, 100% 100%;
                }
            }
            
            /* Chrome shimmer - subtle color pulse */
            .chrome-shimmer {
                display: block !important;
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 3;
                background: 
                    radial-gradient(ellipse 100% 80% at 30% 20%, rgba(255, 0, 200, 0.06) 0%, transparent 50%),
                    radial-gradient(ellipse 120% 100% at 100% 100%, rgba(80, 255, 120, 0.12) 0%, transparent 45%),
                    radial-gradient(ellipse 100% 80% at 70% 80%, rgba(0, 255, 150, 0.10) 0%, transparent 50%);
                animation: chromeShimmerPulse 28s ease-in-out infinite;
                will-change: opacity;
                backface-visibility: hidden;
            }
            
            @keyframes chromeShimmerPulse {
                0%, 100% { opacity: 0.6; }
                50% { opacity: 1; }
            }
            
            /* Color splotches - reduced saturation for blending */
            .color-splotches {
                filter: saturate(1.0) !important;
                animation: none !important;
            }
            
            /* Lava blobs - subtle colors that blend */
            .lava-blob {
                animation: chromeLavaFloat 32s ease-in-out infinite !important;
            }
            
            .lava-blob:nth-child(1) {
                animation-delay: 0s !important;
                background: radial-gradient(circle, rgba(255, 0, 200, 0.4) 0%, transparent 70%) !important;
            }
            
            .lava-blob:nth-child(2) {
                animation-delay: -4s !important;
                background: radial-gradient(circle, rgba(50, 255, 100, 0.45) 0%, transparent 70%) !important;
            }
            
            @keyframes chromeLavaFloat {
                0%, 100% { 
                    transform: translate(0, 0) scale(1); 
                    opacity: 0.4; 
                }
                25% { 
                    transform: translate(20px, -20px) scale(1.12); 
                    opacity: 0.55; 
                }
                50% { 
                    transform: translate(30px, -30px) scale(1.05); 
                    opacity: 0.6; 
                }
                75% { 
                    transform: translate(10px, -10px) scale(1.15); 
                    opacity: 0.5; 
                }
            }
            
            /* Oil slick - subtle breathing */
            .oil-slick {
                animation: chromeOilBreath 42s ease-in-out infinite !important;
                opacity: 0.3 !important;
                will-change: transform, opacity;
                backface-visibility: hidden;
            }
            
            @keyframes chromeOilBreath {
                0%, 100% { 
                    transform: scale(1); 
                    opacity: 0.25; 
                }
                50% { 
                    transform: scale(1.04); 
                    opacity: 0.4; 
                }
            }
            } /* End @media (min-width: 769px) */
        } /* End @supports */
        
        /* ============================================================
           SAFARI COMPATIBILITY (iOS & macOS)
           ============================================================
           Safari requires special handling for:
           - Scroll-snap behavior
           - Fixed positioning during momentum scroll
           - 100vh viewport issues on iOS
           - Webkit-specific prefixes
           - Font rendering
           - Touch events
           ============================================================ */
        
        /* Safari-specific fixes using webkit detection */
        @supports (-webkit-touch-callout: none) {
            /* iOS Safari specific */
            
            /* Fix 100vh issue on iOS Safari */
            .scroll-container {
                height: 100vh;
                height: -webkit-fill-available;
            }
            
            /* Improve touch scrolling */
            .scroll-container {
                -webkit-overflow-scrolling: touch;
            }
            
            /* Fix position:fixed elements during momentum scroll */
            nav,
            .music-player,
            .card-indicators {
                -webkit-transform: translate3d(0, 0, 0);
                transform: translate3d(0, 0, 0);
            }
            
            /* Prevent text size adjustment on orientation change */
            html {
                -webkit-text-size-adjust: 100%;
            }
            
            /* Improve font rendering */
            body {
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
            
            /* Fix tap highlight on iOS */
            a, button {
                -webkit-tap-highlight-color: transparent;
            }
            
            /* Scroll-snap disabled - manual fade transitions handle all section changes */
            .scroll-container {
                -webkit-scroll-snap-type: none;
                scroll-snap-type: none;
                scroll-behavior: auto !important;
            }
            
            section {
                -webkit-scroll-snap-align: none;
                scroll-snap-align: none;
                -webkit-scroll-snap-stop: normal;
                scroll-snap-stop: normal;
                box-sizing: border-box;
            }
        }
        
        /* All Safari (iOS and macOS) - webkit prefix fallbacks */
        @media screen and (-webkit-min-device-pixel-ratio: 0) {
            /* Ensure all transforms have webkit prefix */
            .lava-blob,
            .bubble,
            .splotch,
            .fractal-elem,
            .flutter-wave,
            .oil-slick,
            .nav-animated-logo-container,
            .psychedelic-logo-container,
            .hero-image,
            .scroll-indicator {
                -webkit-backface-visibility: hidden;
                backface-visibility: hidden;
            }
            
            /* SAFARI FIX: Explicit black backgrounds to prevent grey gaps */
            html, body, .scroll-container {
                background: #000000 !important;
            }
            
            section {
                background: #000000 !important;
            }
            
            /* SAFARI FIX: Cover bottom viewport gap */
            body::before {
                content: '';
                position: fixed;
                bottom: -10px;
                left: -10px;
                right: -10px;
                height: calc(80px + env(safe-area-inset-bottom, 0px));
                background: #000000;
                z-index: 9990;
                pointer-events: none;
            }
            
            /* Extend last section to cover any subpixel gaps */
            #logo-outro {
                padding-bottom: calc(100px + env(safe-area-inset-bottom, 0px)) !important;
            }
            
            /* Flexbox fixes for Safari */
            .home-social-links,
            .social-links,
            nav ul,
            .videos-grid,
            .photos-grid,
            .merch-grid {
                -webkit-box-orient: horizontal;
                -webkit-box-direction: normal;
            }
            
            /* Ensure backdrop-filter works */
            nav,
            .music-player,
            .about-container,
            .lightbox-close,
            .lightbox-nav,
            .card-indicators {
                -webkit-backdrop-filter: blur(10px);
                backdrop-filter: blur(10px);
            }
            
            /* ========== SAFARI FIX FOR BACKGROUND IMAGES ========== */
            /* Safari has issues with mask-image combined with transforms on ::before */
            /* Simplify the mask and disable problematic transform animations */
            section::before {
                /* Wider visible area mask for Safari */
                -webkit-mask-image: linear-gradient(to bottom, 
                    transparent 0%, 
                    black 8%,
                    black 92%,
                    transparent 100%
                ) !important;
                mask-image: linear-gradient(to bottom, 
                    transparent 0%, 
                    black 8%,
                    black 92%,
                    transparent 100%
                ) !important;
                /* CRITICAL: Disable animation which breaks Safari rendering */
                animation: none !important;
                -webkit-animation: none !important;
                transform: scale(1.03) !important;
                -webkit-transform: scale(1.03) !important;
                /* Simpler positioning for Safari */
                top: -5% !important;
                left: -5% !important;
                right: -5% !important;
                bottom: -5% !important;
                width: 110% !important;
                height: 110% !important;
                /* Ensure visibility */
                opacity: 1 !important;
                visibility: visible !important;
            }
        }
        
        /* ========== SAFARI DESKTOP SPECIFIC FIXES ========== */
        /* Target Safari using the .is-safari class added by JavaScript */
        
        /* ========== MACOS SAFARI SPECIFIC FIXES ========== */
        
        /* Mac Safari: Cover bottom viewport gap with fixed black bar */
        body.is-mac-safari::after {
            content: '';
            position: fixed;
            bottom: -10px;
            left: -10px;
            right: -10px;
            height: 80px;
            background: #000000;
            z-index: 9990; /* Below music player (9999) but above everything else */
            pointer-events: none;
        }
        
        body.is-mac-safari h1,
        body.is-mac-safari .home-section h1,
        body.is-mac-safari section h1 {
            color: #000000 !important;
            -webkit-text-fill-color: #000000 !important;
            -webkit-text-stroke: 2px #ffffff !important;
            /* Desktop Safari can handle animated text-shadow glow */
            animation: safariTitleGlow 6s ease-in-out infinite !important;
            -webkit-animation: safariTitleGlow 6s ease-in-out infinite !important;
        }
        
        body.is-mac-safari h2,
        body.is-mac-safari .home-section h2,
        body.is-mac-safari section h2 {
            color: #000000 !important;
            -webkit-text-fill-color: #000000 !important;
            -webkit-text-stroke: 2px #ffffff !important;
            /* Desktop Safari can handle animated text-shadow glow */
            animation: safariSubtitleGlow 6s ease-in-out infinite !important;
            -webkit-animation: safariSubtitleGlow 6s ease-in-out infinite !important;
        }
        
        body.is-mac-safari section::before {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            content: none !important;
        }
        
        body.is-mac-safari section {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }
        
        body.is-mac-safari #home { background-image: url('Images/LiquidLight4.jpg') !important; }
        body.is-mac-safari #about { background-image: url('Images/LiquidLight2.jpg') !important; }
        body.is-mac-safari #videos { background-image: url('Images/LiquidLight6.jpg') !important; }
        body.is-mac-safari #photos { background-image: url('Images/LiquidLight6.jpg') !important; }
        body.is-mac-safari #game { background-image: url('Images/LiquidLight1.jpg') !important; }
        body.is-mac-safari #merch { background-image: url('Images/LiquidLight5.jpg') !important; }
        body.is-mac-safari #events { background-image: url('Images/LiquidLight3.jpg') !important; }
        body.is-mac-safari #logo-outro { background-image: url('Images/LiquidLight4.jpg') !important; }
        
        body.is-mac-safari .darken-overlay { opacity: 0.78 !important; background: rgba(10, 10, 14, 0.80) !important; } /* Darker for contrast */
        body.is-mac-safari .fade-overlay { 
            opacity: 1 !important; 
            background: none !important;
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            z-index: 5 !important;
        }
        
        body.is-mac-safari .fade-overlay::before,
        body.is-mac-safari .fade-overlay::after {
            content: '' !important;
            position: absolute !important;
            left: 0 !important;
            right: 0 !important;
            height: 20% !important;
            pointer-events: none !important;
            z-index: 5 !important;
        }
        
        body.is-mac-safari .fade-overlay::before {
            top: 0 !important;
            background: -webkit-linear-gradient(top, 
                rgba(0, 0, 0, 1) 0%,
                rgba(0, 0, 0, 0.95) 12%,
                rgba(0, 0, 0, 0.8) 30%,
                rgba(0, 0, 0, 0.5) 50%,
                rgba(0, 0, 0, 0.2) 70%,
                rgba(0, 0, 0, 0) 100%
            ) !important;
        }
        
        body.is-mac-safari .fade-overlay::after {
            bottom: 0 !important;
            background: -webkit-linear-gradient(bottom, 
                rgba(0, 0, 0, 1) 0%,
                rgba(0, 0, 0, 0.95) 12%,
                rgba(0, 0, 0, 0.8) 30%,
                rgba(0, 0, 0, 0.5) 50%,
                rgba(0, 0, 0, 0.2) 70%,
                rgba(0, 0, 0, 0) 100%
            ) !important;
        }
        
        /* Boosted color overlays for macOS Safari - match Firefox */
        body.is-mac-safari .color-mist { 
            opacity: 0.55 !important; 
            -webkit-filter: saturate(1.15) brightness(1.05) !important;
            filter: saturate(1.15) brightness(1.05) !important;
        }
        body.is-mac-safari .color-mist::before {
            opacity: 0.42 !important;
            mix-blend-mode: screen !important;
        }
        body.is-mac-safari .color-mist::after {
            opacity: 0.38 !important;
            mix-blend-mode: screen !important;
        }
        body.is-mac-safari .liquid-overlay { 
            opacity: 0.28 !important; 
            -webkit-filter: saturate(1.0) !important;
            filter: saturate(1.0) !important;
        }
        body.is-mac-safari .oil-slick { opacity: 0.25 !important; }
        body.is-mac-safari .wavy-flutter { opacity: 0.20 !important; }
        body.is-mac-safari .color-splotches { 
            opacity: 0.28 !important; 
            -webkit-filter: saturate(1.2) !important;
            filter: saturate(1.2) !important;
        }
        body.is-mac-safari .psych-fractals { opacity: 0.18 !important; }
        body.is-mac-safari .lava-blobs { opacity: 0.22 !important; }
        
        /* ========== SAFARI PERFORMANCE OPTIMIZATIONS ========== */
        /* Force GPU compositing for smoother animations */
        body.is-safari section {
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            /* NO breathing animation for mobile Safari - causes wiggling */
        }
        
        /* Desktop Safari - GPU optimization only, no breathing animation */
        body.is-mac-safari section {
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }
        
        /* Safari subtle color wash overlay - replaces complex overlays */
        body.is-safari section::after,
        body.is-mac-safari section::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                45deg,
                rgba(255, 0, 255, 0.22) 0%,
                rgba(0, 255, 255, 0.15) 25%,
                rgba(0, 255, 204, 0.18) 50%,
                rgba(255, 102, 0, 0.12) 75%,
                rgba(155, 48, 255, 0.20) 100%
            );
            background-size: 300% 300%;
            -webkit-animation: safariColorWash 45s ease-in-out infinite;
            animation: safariColorWash 45s ease-in-out infinite;
            z-index: 2;
            pointer-events: none;
            opacity: 0.90;
            mix-blend-mode: overlay;
        }
        
        @-webkit-keyframes safariColorWash {
            0%, 100% { background-position: 0% 0%; }
            20% { background-position: 100% 0%; }
            40% { background-position: 100% 100%; }
            60% { background-position: 0% 100%; }
            80% { background-position: 50% 50%; }
        }
        @keyframes safariColorWash {
            0%, 100% { background-position: 0% 0%; }
            20% { background-position: 100% 0%; }
            40% { background-position: 100% 100%; }
            60% { background-position: 0% 100%; }
            80% { background-position: 50% 50%; }
        }
        
        /* Reduce animation complexity on Safari for better performance */
        body.is-safari .lava-blob,
        body.is-mac-safari .lava-blob {
            animation-duration: 60s !important; /* Slower = less CPU */
        }
        
        body.is-safari .splotch,
        body.is-mac-safari .splotch {
            animation-duration: 90s !important;
        }
        
        /* Disable expensive filters on mobile Safari only */
        body.is-safari:not(.is-mac-safari) .color-mist::before,
        body.is-safari:not(.is-mac-safari) .color-mist::after {
            filter: none !important;
            -webkit-filter: none !important;
        }
        
        /* Simpler nav hover transition for Safari */
        body.is-safari nav a,
        body.is-mac-safari nav a {
            transition: color 0.15s ease, background 0.15s ease !important;
        }
        
        /* Safari desktop: Firefox-matching glow with crisp outline on top - nav menu */
        body.is-mac-safari nav a:not(.nav-animated-logo-container)::before {
            border: 2px solid #ffffff !important;
            z-index: 3 !important;
        }
        
        body.is-mac-safari nav a:not(.nav-animated-logo-container)::after {
            box-shadow: 
                0 0 10px rgba(0, 255, 255, 0.8),
                0 0 20px rgba(0, 255, 255, 0.6),
                0 0 40px rgba(255, 0, 255, 0.5),
                0 0 60px rgba(255, 0, 255, 0.3) !important;
            z-index: 1 !important;
        }
        
        body.is-mac-safari nav a:not(.nav-animated-logo-container):hover {
            -webkit-transform: translateZ(0) scale(1.05) !important;
            transform: translateZ(0) scale(1.05) !important;
            background: rgba(0, 0, 0, 0.7) !important;
            outline: 1px solid #fff !important;
            outline-offset: -1px !important;
            border-radius: 25px !important;
            text-shadow: 
                0 0 10px rgba(0, 255, 255, 0.8),
                0 0 20px rgba(0, 255, 255, 0.6),
                0 0 40px rgba(255, 0, 255, 0.5),
                0 0 60px rgba(255, 0, 255, 0.3) !important;
            z-index: 2 !important;
        }
        
        body.is-mac-safari nav a:not(.nav-animated-logo-container):hover::before,
        body.is-mac-safari nav a:not(.nav-animated-logo-container):hover::after {
            opacity: 1 !important;
        }
        
        /* Safari desktop: Firefox-matching glow with crisp outline on top - social buttons */
        body.is-mac-safari .home-social-btn::before {
            border: 2px solid #ffffff !important;
            z-index: 3 !important;
        }
        
        body.is-mac-safari .home-social-btn::after {
            box-shadow: 
                0 0 10px rgba(0, 255, 255, 0.8),
                0 0 20px rgba(0, 255, 255, 0.6),
                0 0 40px rgba(255, 0, 255, 0.5),
                0 0 60px rgba(255, 0, 255, 0.3) !important;
            z-index: 1 !important;
        }
        
        body.is-mac-safari .home-social-btn:hover {
            -webkit-transform: translateZ(0) scale(1.05) !important;
            transform: translateZ(0) scale(1.05) !important;
            background: rgba(0, 0, 0, 0.7) !important;
            outline: 1px solid #fff !important;
            outline-offset: -1px !important;
            border-radius: 25px !important;
            text-shadow: 
                0 0 10px rgba(0, 255, 255, 0.8),
                0 0 20px rgba(0, 255, 255, 0.6),
                0 0 40px rgba(255, 0, 255, 0.5),
                0 0 60px rgba(255, 0, 255, 0.3) !important;
            z-index: 2 !important;
        }
        
        body.is-mac-safari .home-social-btn:hover::before,
        body.is-mac-safari .home-social-btn:hover::after {
            opacity: 1 !important;
        }
        
        /* SAFARI FIX: Force black text with webkit-text-fill-color */
        /* Safari has rendering bugs with animated text-stroke - use static styles */
        /* Safari title styles - animation only on desktop Safari, NOT iOS */
        /* iOS gets is-safari AND is-ios classes, but animation breaks on iOS */
        body.is-safari:not(.is-ios) h1,
        body.is-safari:not(.is-ios) .home-section h1,
        body.is-safari:not(.is-ios) section h1 {
            color: #000000 !important;
            -webkit-text-fill-color: #000000 !important;
            -webkit-text-stroke: 2px #ffffff !important;
            /* Enable animated glow ONLY on desktop Safari */
            -webkit-animation: safariTitleGlow 6s ease-in-out infinite !important;
            animation: safariTitleGlow 6s ease-in-out infinite !important;
        }
        
        body.is-safari:not(.is-ios) h2,
        body.is-safari:not(.is-ios) .home-section h2,
        body.is-safari:not(.is-ios) section h2 {
            color: #000000 !important;
            -webkit-text-fill-color: #000000 !important;
            -webkit-text-stroke: 2px #ffffff !important;
            /* Enable animated glow ONLY on desktop Safari */
            -webkit-animation: safariSubtitleGlow 6s ease-in-out infinite !important;
            animation: safariSubtitleGlow 6s ease-in-out infinite !important;
        }
        
        /* iOS Safari - NO text-stroke (causes GPU bug), use animated glow only */
        /* This makes ALL letters look like the "S" - colorful glow cycling, no white outline */
        body.is-ios h1,
        body.is-ios .home-section h1,
        body.is-ios section h1 {
            color: transparent !important;
            -webkit-text-fill-color: transparent !important;
            -webkit-text-stroke: 0 !important; /* NO stroke - triggers GPU bug */
            text-stroke: 0 !important;
            background: linear-gradient(180deg, #ffffff 0%, #e0e0e0 100%) !important;
            -webkit-background-clip: text !important;
            background-clip: text !important;
            /* Animate text-shadow for colorful glow on ALL letters */
            -webkit-animation: iosTitleGlow 6s ease-in-out infinite !important;
            animation: iosTitleGlow 6s ease-in-out infinite !important;
        }
        
        body.is-ios h2,
        body.is-ios .home-section h2,
        body.is-ios section h2 {
            color: transparent !important;
            -webkit-text-fill-color: transparent !important;
            -webkit-text-stroke: 0 !important; /* NO stroke - triggers GPU bug */
            text-stroke: 0 !important;
            background: linear-gradient(180deg, #ffffff 0%, #e0e0e0 100%) !important;
            -webkit-background-clip: text !important;
            background-clip: text !important;
            /* Animate text-shadow for colorful glow on ALL letters */
            -webkit-animation: iosSubtitleGlow 6s ease-in-out infinite !important;
            animation: iosSubtitleGlow 6s ease-in-out infinite !important;
        }
        
        /* iOS glow keyframes - same colors as Safari, animates text-shadow only */
        @-webkit-keyframes iosTitleGlow {
            0%, 100% { 
                text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 35px #00ffff, 0 0 50px rgba(155, 48, 255, 0.6);
            }
            25% { 
                text-shadow: 0 0 10px #9b30ff, 0 0 20px #9b30ff, 0 0 35px #9b30ff, 0 0 50px rgba(255, 20, 147, 0.6);
            }
            50% { 
                text-shadow: 0 0 10px #ff1493, 0 0 20px #ff1493, 0 0 35px #ff1493, 0 0 50px rgba(0, 229, 204, 0.6);
            }
            75% { 
                text-shadow: 0 0 10px #ff6600, 0 0 20px #ff6600, 0 0 35px #ff6600, 0 0 50px rgba(0, 255, 255, 0.6);
            }
        }
        @keyframes iosTitleGlow {
            0%, 100% { 
                text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 35px #00ffff, 0 0 50px rgba(155, 48, 255, 0.6);
            }
            25% { 
                text-shadow: 0 0 10px #9b30ff, 0 0 20px #9b30ff, 0 0 35px #9b30ff, 0 0 50px rgba(255, 20, 147, 0.6);
            }
            50% { 
                text-shadow: 0 0 10px #ff1493, 0 0 20px #ff1493, 0 0 35px #ff1493, 0 0 50px rgba(0, 229, 204, 0.6);
            }
            75% { 
                text-shadow: 0 0 10px #ff6600, 0 0 20px #ff6600, 0 0 35px #ff6600, 0 0 50px rgba(0, 255, 255, 0.6);
            }
        }
        
        @-webkit-keyframes iosSubtitleGlow {
            0%, 100% { 
                text-shadow: 0 0 8px #00ffff, 0 0 15px rgba(0, 255, 255, 0.7), 0 0 25px rgba(155, 48, 255, 0.4);
            }
            25% { 
                text-shadow: 0 0 8px #9b30ff, 0 0 15px rgba(155, 48, 255, 0.7), 0 0 25px rgba(255, 20, 147, 0.4);
            }
            50% { 
                text-shadow: 0 0 8px #ff1493, 0 0 15px rgba(255, 20, 147, 0.7), 0 0 25px rgba(0, 229, 204, 0.4);
            }
            75% { 
                text-shadow: 0 0 8px #ff6600, 0 0 15px rgba(255, 102, 0, 0.7), 0 0 25px rgba(0, 255, 255, 0.4);
            }
        }
        @keyframes iosSubtitleGlow {
            0%, 100% { 
                text-shadow: 0 0 8px #00ffff, 0 0 15px rgba(0, 255, 255, 0.7), 0 0 25px rgba(155, 48, 255, 0.4);
            }
            25% { 
                text-shadow: 0 0 8px #9b30ff, 0 0 15px rgba(155, 48, 255, 0.7), 0 0 25px rgba(255, 20, 147, 0.4);
            }
            50% { 
                text-shadow: 0 0 8px #ff1493, 0 0 15px rgba(255, 20, 147, 0.7), 0 0 25px rgba(0, 229, 204, 0.4);
            }
            75% { 
                text-shadow: 0 0 8px #ff6600, 0 0 15px rgba(255, 102, 0, 0.7), 0 0 25px rgba(0, 255, 255, 0.4);
            }
        }
        
        /* ========== SAFARI BACKGROUND FIX - PUT BG ON SECTION ITSELF ========== */
        /* Safari has bugs with ::before + mask-image + animation, so we put bg on section */
        body.is-safari section {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }
        
        /* Safari background breathing keyframes - GPU-accelerated transform */
        @-webkit-keyframes safariBackgroundBreathe {
            0%, 100% { 
                -webkit-transform: scale(1.0);
                transform: scale(1.0);
            }
            50% { 
                -webkit-transform: scale(1.05);
                transform: scale(1.05);
            }
        }
        @keyframes safariBackgroundBreathe {
            0%, 100% { 
                -webkit-transform: scale(1.0);
                transform: scale(1.0);
            }
            50% { 
                -webkit-transform: scale(1.05);
                transform: scale(1.05);
            }
        }
        
        /* Hide the broken ::before and use section background instead */
        body.is-safari section::before {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
        }
        
        /* macOS Safari direct background fix */
        section.safari-bg-applied::before {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            content: none !important;
        }
        
        /* Apply background images directly to sections for Safari */
        body.is-safari #home {
            background-image: url('Images/LiquidLight4.jpg') !important;
        }
        body.is-safari #about {
            background-image: url('Images/LiquidLight1.jpg') !important;
        }
        body.is-safari #videos {
            background-image: url('Images/LiquidLight6.jpg') !important;
        }
        body.is-safari #photos {
            background-image: url('Images/LiquidLight6.jpg') !important;
        }
        body.is-safari #game {
            background-image: url('Images/LiquidLight1.jpg') !important;
        }
        body.is-safari #merch {
            background-image: url('Images/LiquidLight5.jpg') !important;
        }
        body.is-safari #events {
            background-image: url('Images/LiquidLight3.jpg') !important;
        }
        body.is-safari #logo-outro {
            background-image: url('Images/LiquidLight4.jpg') !important;
        }
        
        /* Safari title glow keyframes */
        @-webkit-keyframes safariTitleGlow {
            0%, 100% { 
                text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 35px #00ffff, 0 0 50px rgba(155, 48, 255, 0.6);
            }
            25% { 
                text-shadow: 0 0 10px #9b30ff, 0 0 20px #9b30ff, 0 0 35px #9b30ff, 0 0 50px rgba(255, 20, 147, 0.6);
            }
            50% { 
                text-shadow: 0 0 10px #ff1493, 0 0 20px #ff1493, 0 0 35px #ff1493, 0 0 50px rgba(0, 229, 204, 0.6);
            }
            75% { 
                text-shadow: 0 0 10px #ff6600, 0 0 20px #ff6600, 0 0 35px #ff6600, 0 0 50px rgba(0, 255, 255, 0.6);
            }
        }
        @keyframes safariTitleGlow {
            0%, 100% { 
                text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 35px #00ffff, 0 0 50px rgba(155, 48, 255, 0.6);
            }
            25% { 
                text-shadow: 0 0 10px #9b30ff, 0 0 20px #9b30ff, 0 0 35px #9b30ff, 0 0 50px rgba(255, 20, 147, 0.6);
            }
            50% { 
                text-shadow: 0 0 10px #ff1493, 0 0 20px #ff1493, 0 0 35px #ff1493, 0 0 50px rgba(0, 229, 204, 0.6);
            }
            75% { 
                text-shadow: 0 0 10px #ff6600, 0 0 20px #ff6600, 0 0 35px #ff6600, 0 0 50px rgba(0, 255, 255, 0.6);
            }
        }
        
        @-webkit-keyframes safariSubtitleGlow {
            0%, 100% { 
                text-shadow: 0 0 8px #00ffff, 0 0 15px rgba(0, 255, 255, 0.7), 0 0 25px rgba(155, 48, 255, 0.4);
            }
            25% { 
                text-shadow: 0 0 8px #9b30ff, 0 0 15px rgba(155, 48, 255, 0.7), 0 0 25px rgba(255, 20, 147, 0.4);
            }
            50% { 
                text-shadow: 0 0 8px #ff1493, 0 0 15px rgba(255, 20, 147, 0.7), 0 0 25px rgba(0, 229, 204, 0.4);
            }
            75% { 
                text-shadow: 0 0 8px #ff6600, 0 0 15px rgba(255, 102, 0, 0.7), 0 0 25px rgba(0, 255, 255, 0.4);
            }
        }
        @keyframes safariSubtitleGlow {
            0%, 100% { 
                text-shadow: 0 0 8px #00ffff, 0 0 15px rgba(0, 255, 255, 0.7), 0 0 25px rgba(155, 48, 255, 0.4);
            }
            25% { 
                text-shadow: 0 0 8px #9b30ff, 0 0 15px rgba(155, 48, 255, 0.7), 0 0 25px rgba(255, 20, 147, 0.4);
            }
            50% { 
                text-shadow: 0 0 8px #ff1493, 0 0 15px rgba(255, 20, 147, 0.7), 0 0 25px rgba(0, 229, 204, 0.4);
            }
            75% { 
                text-shadow: 0 0 8px #ff6600, 0 0 15px rgba(255, 102, 0, 0.7), 0 0 25px rgba(0, 255, 255, 0.4);
            }
        }
        
        /* ========== SAFARI BACKGROUND FIX - HIDE BROKEN ::before ========== */
        /* Safari has bugs with ::before + mask-image, so hide it and use section bg */
        body.is-safari section::before {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
        }
        
        /* ========== SAFARI OVERLAY FIXES - MATCHED TO FIREFOX ========== */
        body.is-safari .darken-overlay {
            opacity: 0.82 !important; /* Match Firefox */
            background: rgba(10, 10, 14, 0.82) !important;
        }
        
        /* Safari fade-overlay - use pseudo-elements for reliable rendering */
        body.is-safari .fade-overlay {
            opacity: 1 !important;
            background: none !important;
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            z-index: 5 !important;
        }
        
        body.is-safari .fade-overlay::before,
        body.is-safari .fade-overlay::after {
            content: '' !important;
            position: absolute !important;
            left: 0 !important;
            right: 0 !important;
            height: 20% !important;
            pointer-events: none !important;
            z-index: 5 !important;
        }
        
        body.is-safari .fade-overlay::before {
            top: 0 !important;
            background: -webkit-linear-gradient(top, 
                rgba(0, 0, 0, 1) 0%,
                rgba(0, 0, 0, 0.95) 12%,
                rgba(0, 0, 0, 0.8) 30%,
                rgba(0, 0, 0, 0.5) 50%,
                rgba(0, 0, 0, 0.2) 70%,
                rgba(0, 0, 0, 0) 100%
            ) !important;
        }
        
        body.is-safari .fade-overlay::after {
            bottom: 0 !important;
            background: -webkit-linear-gradient(bottom, 
                rgba(0, 0, 0, 1) 0%,
                rgba(0, 0, 0, 0.95) 12%,
                rgba(0, 0, 0, 0.8) 30%,
                rgba(0, 0, 0, 0.5) 50%,
                rgba(0, 0, 0, 0.2) 70%,
                rgba(0, 0, 0, 0) 100%
            ) !important;
        }
        
        /* Boosted color overlays for Safari - more visible effects */
        body.is-safari .color-mist {
            opacity: 0.35 !important; /* Match Firefox base opacity */
            -webkit-filter: saturate(1.1) !important;
            filter: saturate(1.1) !important;
        }
        
        body.is-safari .liquid-overlay {
            opacity: 0.28 !important; /* Match Firefox visibility */
            -webkit-filter: saturate(1.0) !important;
            filter: saturate(1.0) !important;
        }
        
        body.is-safari .oil-slick {
            opacity: 0.25 !important; /* Match Firefox visibility */
        }
        
        body.is-safari .wavy-flutter {
            opacity: 0.20 !important; /* Match Firefox visibility */
        }
        
        body.is-safari .color-splotches {
            opacity: 0.28 !important; /* Match Firefox visibility */
            -webkit-filter: saturate(1.2) !important;
            filter: saturate(1.2) !important;
        }
        
        body.is-safari .psych-fractals {
            opacity: 0.18 !important; /* Match Firefox visibility */
        }
        
        body.is-safari .lava-blobs {
            opacity: 0.22 !important; /* Match Firefox visibility */
        }
        
        /* SAFARI FIX: Home section overlays - match Firefox visibility */
        body.is-safari #home .darken-overlay {
            opacity: 0.65 !important;
        }
        
        body.is-safari #home .fade-overlay {
            opacity: 1 !important;
            background: none !important;
        }
        
        body.is-safari #home .color-mist {
            opacity: 0.15 !important;
        }
        
        body.is-safari #home .liquid-overlay,
        body.is-safari #home .oil-slick,
        body.is-safari #home .wavy-flutter,
        body.is-safari #home .color-splotches,
        body.is-safari #home .psych-fractals,
        body.is-safari #home .lava-blobs {
            opacity: 0.10 !important;
        }
        
        /* SAFARI FIX: Force black borders between sections */
        body.is-safari section {
            border-bottom: 8px solid #000000 !important;
            box-shadow: 0 8px 0 #000000 !important;
            outline: none !important;
        }
        
        /* ========== CHROME/CHROMIUM SATURATION & COLOR BOOST ========== */
        /* Chrome renders colors less vibrantly than Firefox/LibreWolf - boost saturation */
        body.is-chrome section::before {
            filter: saturate(1.0) contrast(1.08);
        }
        
        body.is-chrome .color-mist {
            filter: saturate(1.0) brightness(1.05);
        }
        
        body.is-chrome .color-mist::before {
            opacity: 0.42 !important;
            filter: saturate(1.0);
        }
        
        body.is-chrome .color-mist::after {
            opacity: 0.36 !important;
            filter: saturate(1.0);
        }
        
        body.is-chrome .liquid-overlay,
        body.is-chrome .oil-slick {
            filter: saturate(1.0) brightness(1.08);
        }
        
        body.is-chrome .color-splotches {
            filter: saturate(1.0);
        }
        
        /* Chrome-specific darken overlay */
        body.is-chrome .darken-overlay {
            background: rgba(10, 10, 14, 0.78) !important;
        }
        
        /* ========== FIREFOX/LIBREWOLF DESATURATION & DARKENING ========== */
        /* Firefox renders colors more vibrantly - reduce saturation to match Chrome/Safari */
        body.is-firefox section::before {
            filter: saturate(0.85) contrast(1.02);
        }
        
        body.is-firefox .color-mist {
            filter: saturate(0.8) brightness(0.95);
        }
        
        body.is-firefox .color-mist::before {
            opacity: 0.35 !important;
            filter: saturate(0.8);
        }
        
        body.is-firefox .color-mist::after {
            opacity: 0.30 !important;
            filter: saturate(0.8);
        }
        
        body.is-firefox .liquid-overlay,
        body.is-firefox .oil-slick {
            filter: saturate(0.85) brightness(0.95);
        }
        
        body.is-firefox .color-splotches {
            filter: saturate(0.8);
        }
        
        /* Firefox-specific darken overlay - darker to match other browsers */
        body.is-firefox .darken-overlay {
            background: rgba(10, 10, 14, 0.82) !important;
        }
        
        /* Firefox background images - reduce saturation */
        body.is-firefox section {
            filter: saturate(0.9);
        }
        
        /* ========== SAFARI NAV ANIMATIONS - MATCHING FIREFOX ========== */
        /* Safari nav - enable glow animation like Firefox */
        body.is-safari nav {
            -webkit-animation: navGlowRainbow 4s ease-in-out infinite;
            animation: navGlowRainbow 4s ease-in-out infinite;
        }
        
        /* iOS Safari nav vertical centering fix */
        body.is-ios nav,
        body.is-safari nav {
            display: -webkit-flex !important;
            display: flex !important;
            -webkit-align-items: center !important;
            align-items: center !important;
            -webkit-box-align: center !important;
        }
        
        body.is-ios nav ul,
        body.is-safari nav ul {
            display: -webkit-flex !important;
            display: flex !important;
            -webkit-align-items: center !important;
            align-items: center !important;
            -webkit-box-align: center !important;
            margin: 0 !important;
            padding: 0 !important;
        }
        
        body.is-ios nav li,
        body.is-safari nav li {
            display: -webkit-flex !important;
            display: flex !important;
            -webkit-align-items: center !important;
            align-items: center !important;
        }
        
        body.is-ios nav a,
        body.is-safari nav a {
            display: -webkit-flex !important;
            display: flex !important;
            -webkit-align-items: center !important;
            align-items: center !important;
            -webkit-box-align: center !important;
        }
        
        body.is-ios .nav-animated-logo-container,
        body.is-safari .nav-animated-logo-container {
            display: -webkit-flex !important;
            display: flex !important;
            -webkit-align-items: center !important;
            align-items: center !important;
        }
        
        body.is-safari nav::after {
            /* Match DuckDuckGo/general mobile border animation */
            background: linear-gradient(90deg, 
                transparent 0%, 
                var(--color-primary) 15%, 
                var(--color-secondary) 35%, 
                var(--color-accent) 50%, 
                var(--color-primary) 65%, 
                var(--color-secondary) 85%, 
                transparent 100%
            ) !important;
            background-size: 200% 100% !important;
            -webkit-animation: mobileBorderFlow 6s linear infinite !important;
            animation: mobileBorderFlow 6s linear infinite !important;
        }
        
        /* Safari nav glow - matches desktop intensity and speed */
        @-webkit-keyframes safariNavGlow {
            0%, 100% { 
                box-shadow: 0 8px 32px rgba(0, 255, 204, 0.5), 0 0 50px rgba(0, 255, 204, 0.4);
            }
            33% { 
                box-shadow: 0 8px 32px rgba(255, 0, 255, 0.6), 0 0 60px rgba(255, 0, 255, 0.5);
            }
            66% { 
                box-shadow: 0 8px 32px rgba(255, 100, 0, 0.5), 0 0 55px rgba(255, 100, 0, 0.4);
            }
        }
        @keyframes safariNavGlow {
            0%, 100% { 
                box-shadow: 0 8px 32px rgba(0, 255, 204, 0.5), 0 0 50px rgba(0, 255, 204, 0.4);
            }
            33% { 
                box-shadow: 0 8px 32px rgba(255, 0, 255, 0.6), 0 0 60px rgba(255, 0, 255, 0.5);
            }
            66% { 
                box-shadow: 0 8px 32px rgba(255, 100, 0, 0.5), 0 0 55px rgba(255, 100, 0, 0.4);
            }
        }
        
        /* Safari border flow - matches desktop speed */
        @-webkit-keyframes safariBorderFlow {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }
        @keyframes safariBorderFlow {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }
        
        /* Chrome-only overlay elements - hidden by default, shown only in Chrome */
        .chrome-color-sweep,
        .chrome-shimmer {
            display: none;
        }
        
        /* ========== SAFARI-ONLY CSS HACK (No JavaScript needed) ========== */
        /* This hack targets Safari 10.1+ only using @supports */
        /* NOTE: iOS gets no text-stroke due to GPU bug; desktop Safari uses text-stroke */
        @supports (-webkit-touch-callout: none) {
            /* Base text styles - animation handled by body.is-ios or body.is-safari rules */
            h1, section h1, .home-section h1, #home h1 {
                /* Let body.is-ios rules handle iOS-specific styling */
            }
            h2, section h2, .home-section h2, #home h2 {
                /* Let body.is-ios rules handle iOS-specific styling */
            }
            /* Darker overlays for contrast */
            .darken-overlay { opacity: 0.78 !important; }
            .fade-overlay { 
                opacity: 1 !important; 
                background: none !important;
                position: absolute !important;
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                bottom: 0 !important;
                z-index: 5 !important;
            }
            .fade-overlay::before,
            .fade-overlay::after {
                content: '' !important;
                position: absolute !important;
                left: 0 !important;
                right: 0 !important;
                height: 18% !important;
                pointer-events: none !important;
                z-index: 5 !important;
            }
            .fade-overlay::before {
                top: 0 !important;
                background: -webkit-linear-gradient(top, 
                    rgba(0, 0, 0, 1) 0%,
                    rgba(0, 0, 0, 0.9) 15%,
                    rgba(0, 0, 0, 0.7) 35%,
                    rgba(0, 0, 0, 0.4) 55%,
                    rgba(0, 0, 0, 0.15) 75%,
                    rgba(0, 0, 0, 0) 100%
                ) !important;
            }
            .fade-overlay::after {
                bottom: 0 !important;
                background: -webkit-linear-gradient(bottom, 
                    rgba(0, 0, 0, 1) 0%,
                    rgba(0, 0, 0, 0.9) 15%,
                    rgba(0, 0, 0, 0.7) 35%,
                    rgba(0, 0, 0, 0.4) 55%,
                    rgba(0, 0, 0, 0.15) 75%,
                    rgba(0, 0, 0, 0) 100%
                ) !important;
            }
            .color-mist { opacity: 0.08 !important; }
            .liquid-overlay { opacity: 0.05 !important; }
            .oil-slick { opacity: 0.04 !important; }
            .wavy-flutter { opacity: 0.06 !important; }
            .color-splotches { opacity: 0.05 !important; }
            .psych-fractals { opacity: 0.03 !important; }
            .lava-blobs { opacity: 0.04 !important; }
            
            /* ========== MOBILE BACKGROUND BREATHING ANIMATION ========== */
            /* Re-enable ::before with gentle scale-only animation */
            /* Performance optimized: no rotation, long cycle, minimal scale */
            section::before {
                content: '' !important;
                display: block !important;
                visibility: visible !important;
                opacity: 1 !important;
                position: absolute !important;
                top: -5% !important;
                left: -5% !important;
                right: -5% !important;
                bottom: -5% !important;
                width: 110% !important;
                height: 110% !important;
                background-size: cover !important;
                background-position: center !important;
                background-repeat: no-repeat !important;
                z-index: 0 !important;
                -webkit-transform-origin: center center;
                transform-origin: center center;
                -webkit-backface-visibility: hidden;
                backface-visibility: hidden;
                /* Gentle mobile animation - scale only, no rotation */
                -webkit-animation: mobileBackgroundBreathe 45s ease-in-out infinite;
                animation: mobileBackgroundBreathe 45s ease-in-out infinite;
                /* Subtle edge fade */
                -webkit-mask-image: linear-gradient(to bottom, 
                    transparent 0%, 
                    black 8%,
                    black 92%,
                    transparent 100%
                );
                mask-image: linear-gradient(to bottom, 
                    transparent 0%, 
                    black 8%,
                    black 92%,
                    transparent 100%
                );
            }
            
            /* Mobile background images on ::before */
            #home::before { background-image: url('Images/LiquidLight4.jpg') !important; }
            #about::before { background-image: url('Images/LiquidLight2.jpg') !important; }
            #videos::before { background-image: url('Images/LiquidLight6.jpg') !important; }
            #photos::before { background-image: url('Images/LiquidLight6.jpg') !important; }
            #game::before { background-image: url('Images/LiquidLight1.jpg') !important; }
            #merch::before { background-image: url('Images/LiquidLight5.jpg') !important; }
            #events::before { background-image: url('Images/LiquidLight3.jpg') !important; }
            #logo-outro::before { background-image: url('Images/LiquidLight4.jpg') !important; }
            
            /* Remove direct section backgrounds (now using ::before) */
            section {
                background-image: none !important;
                background-size: cover !important;
                background-position: center !important;
                background-repeat: no-repeat !important;
            }
            
            /* Mobile breathing animation - SCALE ONLY for performance */
            @-webkit-keyframes mobileBackgroundBreathe {
                0%, 100% { 
                    -webkit-transform: scale(1);
                    transform: scale(1);
                }
                50% { 
                    -webkit-transform: scale(1.05);
                    transform: scale(1.05);
                }
            }
            @keyframes mobileBackgroundBreathe {
                0%, 100% { 
                    -webkit-transform: scale(1);
                    transform: scale(1);
                }
                50% { 
                    -webkit-transform: scale(1.05);
                    transform: scale(1.05);
                }
            }
            
            /* Safari social button hover - Firefox glow with outline on top */
            .home-social-btn:hover,
            .home-social-btn:active {
                -webkit-transform: translateZ(0) scale(1.05) !important;
                transform: translateZ(0) scale(1.05) !important;
                background: rgba(0, 0, 0, 0.7) !important;
                outline: 1px solid #fff !important;
                outline-offset: -1px !important;
                border-radius: 25px !important;
                -webkit-text-stroke: 1px #ffffff !important;
                paint-order: stroke fill;
                text-shadow: 
                    0 0 10px rgba(0, 255, 255, 0.8),
                    0 0 20px rgba(0, 255, 255, 0.6),
                    0 0 40px rgba(255, 0, 255, 0.5),
                    0 0 60px rgba(255, 0, 255, 0.3) !important;
            }
            
            .home-social-btn:hover::before,
            .home-social-btn:hover::after,
            .home-social-btn:active::before,
            .home-social-btn:active::after {
                opacity: 1 !important;
            }
            
            /* Safari nav tap animation - use the same keyframes defined in mobile query */
            nav a:not(.nav-animated-logo-container).nav-tap-active {
                -webkit-animation: navTapGlow 3s ease-in-out forwards !important;
                animation: navTapGlow 3s ease-in-out forwards !important;
            }
            
            /* Safari nav hover - Firefox glow with outline on top */
            nav a:not(.nav-animated-logo-container):hover,
            nav a:not(.nav-animated-logo-container):active {
                -webkit-transform: translateZ(0) scale(1.05) !important;
                transform: translateZ(0) scale(1.05) !important;
                font-weight: 800 !important;
                font-size: 0.85rem !important;
                background: rgba(0, 0, 0, 0.7) !important;
                outline: 1px solid #fff !important;
                outline-offset: -1px !important;
                border-radius: 25px !important;
                color: #ffffff !important;
                -webkit-text-fill-color: #ffffff !important;
                -webkit-text-stroke: 1px #ffffff !important;
                paint-order: stroke fill;
                text-shadow: 
                    0 0 10px rgba(0, 255, 255, 0.8),
                    0 0 20px rgba(0, 255, 255, 0.6),
                    0 0 40px rgba(255, 0, 255, 0.5),
                    0 0 60px rgba(255, 0, 255, 0.3) !important;
            }
            
            /* Safari nav - ensure ring and glow show on hover */
            nav a:not(.nav-animated-logo-container):hover::before,
            nav a:not(.nav-animated-logo-container):hover::after,
            nav a:not(.nav-animated-logo-container):active::before,
            nav a:not(.nav-animated-logo-container):active::after {
                opacity: 1 !important;
            }
        }

        /* === PAUSE ALL ANIMATIONS DURING SCROLL (all browsers) === */
        body.scrolling .color-mist,
        body.scrolling .color-mist::before,
        body.scrolling .color-mist::after,
        body.scrolling .oil-slick,
        body.scrolling .lava-blobs,
        body.scrolling .lava-blob,
        body.scrolling .bubble,
        body.scrolling .color-splotches,
        body.scrolling .splotch,
        body.scrolling .liquid-overlay,
        body.scrolling .liquid-overlay::before,
        body.scrolling .liquid-overlay::after,
        body.scrolling .wavy-flutter,
        body.scrolling .flutter-wave,
        body.scrolling .psych-fractals,
        body.scrolling .fractal-elem,
        body.scrolling .chrome-color-sweep,
        body.scrolling .chrome-shimmer,
        body.scrolling section::before,
        body.scrolling section::after {
            animation-play-state: paused !important;
            transition: none !important;
        }
        
        /* Also pause nav animations during scroll */
        /* ========== ARCADE MODE - DISABLE INTENSIVE OVERLAYS (DESKTOP) ========== */
        /* When on arcade section, hide GPU-intensive animations to maximize game performance */
        @media (min-width: 769px) {
            /* Hide animated overlays completely */
            body.arcade-active .wavy-flutter,
            body.arcade-active .psych-fractals,
            body.arcade-active .liquid-overlay,
            body.arcade-active .lava-blobs,
            body.arcade-active .lava-blob,
            body.arcade-active .color-splotches,
            body.arcade-active .splotch,
            body.arcade-active .color-mist,
            body.arcade-active .color-mist::before,
            body.arcade-active .color-mist::after,
            body.arcade-active .oil-slick {
                animation: none !important;
                -webkit-animation: none !important;
                opacity: 0 !important;
                visibility: hidden !important;
            }
            
            /* Disable wave animation but keep visible */
            body.arcade-active .chrome-color-sweep,
            body.arcade-active .chrome-shimmer {
                animation: none !important;
                -webkit-animation: none !important;
                opacity: 0 !important;
            }
            
            /* Keep background image visible but disable animation */
            body.arcade-active section::before {
                animation: none !important;
                -webkit-animation: none !important;
            }
            
            /* Keep essential overlays for visual consistency */
            body.arcade-active #game .darken-overlay {
                opacity: 0.85 !important;
            }
            body.arcade-active #game .fade-overlay {
                opacity: 1 !important;
            }
            
            /* Full scroll lock ONLY when hovering game container */
            body.arcade-game-hover .scroll-container {
                overflow: hidden !important;
                scroll-snap-type: none !important;
                -webkit-scroll-snap-type: none !important;
            }
        }
        
        body.scrolling nav::after {
            animation-play-state: paused !important;
        }

        /* Overlay fade-in animation - starts transparent */
        .overlay-fadein {
            opacity: 0;
            animation: overlayFadeIn 2s ease-out 0.5s forwards;
        }

        @keyframes overlayFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes oilSlickFadeIn {
            from { opacity: 0; }
            to { opacity: 0.3; }
        }

        :root {
            --color-bg: #0a0a0a;
            --color-primary: #00ffcc;
            --color-secondary: #ff00ff;
            --color-accent: #ffff00;
            --color-text: #ffffff;
        }

        /* ========== ANDROID BROWSER COMPATIBILITY ========== */
        /* Samsung Internet, Xiaomi Browser, Huawei Browser, Opera, UC Browser */
        
        /* Flexbox fallbacks for older Android WebView */
        .page-loader,
        .game-container,
        nav,
        .player-controls,
        .music-player,
        .arcade-selector,
        .stat-panel,
        .trackpad-zone {
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
        }
        
        /* Ensure backdrop-filter has fallback background */
        .music-player,
        nav,
        .lightbox-content {
            background-color: rgba(10, 10, 10, 0.9);
        }
        
        @supports ((-webkit-backdrop-filter: blur(10px)) or (backdrop-filter: blur(10px))) {
            .music-player,
            nav {
                background-color: rgba(0, 0, 0, 0.7);
            }
        }
        
        /* Animation prefixes for Samsung Internet */
        @-webkit-keyframes androidSafeFade {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Touch action for all interactive elements on Android */
        button, a, .arcade-pill, .game-fullscreen-btn, .player-btn {
            -ms-touch-action: manipulation;
            touch-action: manipulation;
        }
        
        /* Prevent text size adjustment on orientation change (Android) */
        html {
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-size-adjust: 100%;
        }
        
        /* Samsung Internet specific fixes */
        body.is-samsung nav,
        body.is-samsung .music-player {
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
        }
        
        /* Samsung Internet: Ensure animations use webkit prefix */
        body.is-samsung .lava-blob,
        body.is-samsung .splotch,
        body.is-samsung .fractal-elem {
            -webkit-animation-fill-mode: both;
            animation-fill-mode: both;
        }
        
        /* UC Browser / Opera Mini: Simplified animations for performance */
        body.is-ucbrowser .lava-blobs,
        body.is-ucbrowser .color-splotches,
        body.is-ucbrowser .psych-fractals,
        body.is-opera-mini .lava-blobs,
        body.is-opera-mini .color-splotches,
        body.is-opera-mini .psych-fractals {
            display: none !important;
        }
        
        body.is-ucbrowser section::before,
        body.is-opera-mini section::before {
            -webkit-animation: none !important;
            animation: none !important;
        }
        
        /* Android WebView: Ensure proper rendering */
        body.is-webview .color-mist,
        body.is-webview .wavy-flutter {
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* ========== PERFORMANCE OPTIMIZATIONS ========== */
        /* GPU acceleration for animated elements - use transform instead of will-change for stability */
        .lava-blob,
        .bubble,
        .splotch,
        .fractal-elem,
        .flutter-wave,
        section::before,
        section::after,
        .color-mist::before,
        .color-mist::after,
        .liquid-overlay::before,
        .liquid-overlay::after,
        .oil-slick,
        .chrome-color-sweep,
        .chrome-shimmer,
        nav::after,
        .scroll-indicator,
        .psychedelic-logo-container,
        .nav-animated-logo-container,
        .medium-logo-container {
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }
        
        /* Elements with mix-blend-mode need isolation to prevent GPU compositing issues */
        .lava-blobs,
        .oil-slick {
            isolation: isolate;
        }

        /* Contain paint for sections to limit repaint area */
        section {
            contain: layout style paint;
        }
        
        /* Pause ALL animations on off-screen sections for major performance boost */
        section.offscreen .lava-blob,
        section.offscreen .bubble,
        section.offscreen .splotch,
        section.offscreen .fractal-elem,
        section.offscreen .wavy-flutter,
        section.offscreen .flutter-wave,
        section.offscreen .color-mist,
        section.offscreen .color-mist::before,
        section.offscreen .color-mist::after,
        section.offscreen .color-splotches,
        section.offscreen .liquid-overlay::before,
        section.offscreen .liquid-overlay::after,
        section.offscreen .oil-slick,
        section.offscreen .chrome-color-sweep,
        section.offscreen .chrome-shimmer {
            animation-play-state: paused !important;
        }
        
        section.offscreen::before,
        section.offscreen::after {
            animation-play-state: paused !important;
        }

        /* Reduced motion for accessibility and battery saving */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            .lava-blobs,
            .color-mist,
            .liquid-overlay,
            .oil-slick,
            .wavy-flutter,
            .color-splotches,
            .psych-fractals {
                display: none !important;
            }
        }

        /* ============================================================
           MOBILE: AGGRESSIVE LIGHTWEIGHT VERSION
           ============================================================
           Philosophy: Remove ALL problematic effects, keep the soul.
           - NO animated text-stroke (causes disappearing text)
           - NO blend modes (causes flickering)
           - NO filter animations (causes GPU overload)
           - NO overlay layers (lava, mist, fractals, etc.)
           - KEEP: Static gradients, simple fades, core typography
           ============================================================ */
        @media (max-width: 768px), (hover: none) {
            
            /* ========== MOBILE MENU - BOLD ON TAP (TAPPED BUTTON ONLY) ========== */
            /* Disable desktop pseudo-elements on mobile */
            nav a:not(.nav-animated-logo-container)::before,
            nav a:not(.nav-animated-logo-container)::after {
                display: none !important;
                opacity: 0 !important;
                visibility: hidden !important;
                content: none !important;
            }
            
            nav a:not(.nav-animated-logo-container) span.menu-text-color {
                display: none !important;
            }
            
            /* Base menu item style */
            nav a:not(.nav-animated-logo-container) {
                color: #ffffff !important;
                font-weight: 600 !important;
                text-shadow: none !important;
                background: transparent !important;
                border: none !important;
                border-radius: 15px !important;
                -webkit-tap-highlight-color: transparent !important;
            }
            
            /* DISABLE all nav tap animations on mobile/tablet - no effects on tap */
            nav a:not(.nav-animated-logo-container).nav-tap-active {
                -webkit-animation: none !important;
                animation: none !important;
            }
            
            /* Override desktop hover/active effects on mobile - no glow on hover/active */
            nav a:not(.nav-animated-logo-container):hover,
            nav a:not(.nav-animated-logo-container):active {
                -webkit-transform: translateZ(0) scale(1) !important;
                transform: translateZ(0) scale(1) !important;
                font-weight: 600 !important;
                font-size: 0.72rem !important;
                background: transparent !important;
                -webkit-text-stroke: 0 !important;
                -webkit-text-fill-color: #ffffff !important;
                color: #ffffff !important;
                paint-order: fill !important;
                letter-spacing: normal !important;
                box-shadow: none !important;
                outline: none !important;
                text-shadow: none !important;
                -webkit-animation: none !important;
                animation: none !important;
            }
            
            /* Disable persistent active/section highlighting on mobile */
            nav a:not(.nav-animated-logo-container).active,
            nav a:not(.nav-animated-logo-container).menu-active {
                -webkit-transform: translateZ(0) scale(1) !important;
                transform: translateZ(0) scale(1) !important;
                font-weight: 600 !important;
                font-size: 0.72rem !important;
                background: transparent !important;
                -webkit-text-stroke: 0 !important;
                -webkit-text-fill-color: #ffffff !important;
                color: #ffffff !important;
                paint-order: fill !important;
                letter-spacing: normal !important;
                box-shadow: none !important;
                outline: none !important;
                text-shadow: none !important;
                -webkit-animation: none !important;
                animation: none !important;
            }
            
            /* Ensure pseudo-elements stay hidden on hover/active */
            nav a:not(.nav-animated-logo-container):hover::before,
            nav a:not(.nav-animated-logo-container):hover::after,
            nav a:not(.nav-animated-logo-container):active::before,
            nav a:not(.nav-animated-logo-container):active::after,
            nav a:not(.nav-animated-logo-container).nav-tap-active::before,
            nav a:not(.nav-animated-logo-container).nav-tap-active::after,
            nav a:not(.nav-animated-logo-container).active::before,
            nav a:not(.nav-animated-logo-container).active::after,
            nav a:not(.nav-animated-logo-container).menu-active::before,
            nav a:not(.nav-animated-logo-container).menu-active::after {
                display: none !important;
                opacity: 0 !important;
                visibility: hidden !important;
                content: none !important;
            }
            
            /* Logo does not get animation - only text menu items */
            
            /* ========== MOBILE NAV BORDER - OPTIMIZED COLOR SWEEP ========== */
            /* More animated than static, but efficient for mobile */
            nav::after {
                background: linear-gradient(90deg, 
                    transparent 0%, 
                    var(--color-primary) 15%, 
                    var(--color-secondary) 35%, 
                    var(--color-accent) 50%, 
                    var(--color-primary) 65%, 
                    var(--color-secondary) 85%, 
                    transparent 100%
                ) !important;
                background-size: 200% 100% !important;
                -webkit-animation: mobileBorderFlow 6s linear infinite !important;
                animation: mobileBorderFlow 6s linear infinite !important;
                will-change: background-position;
            }
            
            /* ========== NUCLEAR OPTION: HIDE ALL OVERLAY EFFECTS ========== */
            .lava-blobs,
            .color-mist,
            .liquid-overlay,
            .oil-slick,
            .wavy-flutter,
            .color-splotches,
            .psych-fractals,
            .chrome-color-sweep,
            .chrome-shimmer,
            .bubble,
            .lava-blob,
            .splotch {
                display: none !important;
                visibility: hidden !important;
            }
            
            /* ========== MOBILE BACKGROUND BREATHING ========== */
            /* Gentle scale-only animation for mobile performance */
            section::before {
                -webkit-animation: mobileBackgroundBreathe 45s ease-in-out infinite !important;
                animation: mobileBackgroundBreathe 45s ease-in-out infinite !important;
                /* Start slightly scaled to hide edges during animation */
                -webkit-transform: scale(1);
                transform: scale(1);
            }
            
            /* ========== H1 TITLE - STATIC WHITE OUTLINE WITH CYAN/MAGENTA GLOW ========== */
            /* Matches Safari styling for cross-platform consistency */
            h1 {
                /* Base dark text */
                color: #000000 !important;
                -webkit-text-fill-color: #000000 !important;
                /* Solid white outline - matches Safari */
                -webkit-text-stroke: 2px #ffffff !important;
                text-stroke: 2px #ffffff !important;
                /* No animation - static glow for stability */
                -webkit-animation: none !important;
                animation: none !important;
                /* Static cyan/magenta psychedelic glow */
                text-shadow: 
                    0 0 10px rgba(0, 255, 255, 0.8),
                    0 0 20px rgba(0, 255, 255, 0.6),
                    0 0 40px rgba(255, 0, 255, 0.5),
                    0 0 60px rgba(255, 0, 255, 0.3) !important;
                /* Ensure rendering */
                opacity: 1;
                visibility: visible;
            }
            
            /* Home section visible state */
            .home-section.visible h1 {
                opacity: 1 !important;
            }
            
            /* ========== H2 SUBTITLES - STATIC WHITE OUTLINE WITH CYAN/MAGENTA GLOW ========== */
            /* Matches Safari styling for cross-platform consistency */
            h2 {
                color: #000000 !important;
                -webkit-text-fill-color: #000000 !important;
                /* Solid white outline - matches Safari */
                -webkit-text-stroke: 2px #ffffff !important;
                text-stroke: 2px #ffffff !important;
                /* No animation - static glow for stability */
                -webkit-animation: none !important;
                animation: none !important;
                /* Static cyan/magenta psychedelic glow */
                text-shadow: 
                    0 0 8px rgba(0, 255, 255, 0.7),
                    0 0 15px rgba(255, 0, 255, 0.5),
                    0 0 30px rgba(255, 0, 255, 0.3) !important;
            }
            
            /* Mobile glow animations no longer used - kept for reference only */
            /*
            @-webkit-keyframes mobileGlowH1 {
                0%, 100% { 
                    text-shadow: 0 0 8px #00ffff, 0 0 15px #00ffff, 0 0 25px rgba(0, 255, 255, 0.6), 0 0 40px rgba(155, 48, 255, 0.4);
                }
                25% { 
                    text-shadow: 0 0 8px #9b30ff, 0 0 15px #9b30ff, 0 0 25px rgba(155, 48, 255, 0.6), 0 0 40px rgba(255, 20, 147, 0.4);
                }
                50% { 
                    text-shadow: 0 0 8px #ff1493, 0 0 15px #ff1493, 0 0 25px rgba(255, 20, 147, 0.6), 0 0 40px rgba(0, 229, 204, 0.4);
                }
                75% { 
                    text-shadow: 0 0 8px #ff6600, 0 0 15px #ff6600, 0 0 25px rgba(255, 102, 0, 0.6), 0 0 40px rgba(0, 255, 255, 0.4);
                }
            }
            @keyframes mobileGlowH1 {
                0%, 100% { 
                    text-shadow: 0 0 8px #00ffff, 0 0 15px #00ffff, 0 0 25px rgba(0, 255, 255, 0.6), 0 0 40px rgba(155, 48, 255, 0.4);
                }
                25% { 
                    text-shadow: 0 0 8px #9b30ff, 0 0 15px #9b30ff, 0 0 25px rgba(155, 48, 255, 0.6), 0 0 40px rgba(255, 20, 147, 0.4);
                }
                50% { 
                    text-shadow: 0 0 8px #ff1493, 0 0 15px #ff1493, 0 0 25px rgba(255, 20, 147, 0.6), 0 0 40px rgba(0, 229, 204, 0.4);
                }
                75% { 
                    text-shadow: 0 0 8px #ff6600, 0 0 15px #ff6600, 0 0 25px rgba(255, 102, 0, 0.6), 0 0 40px rgba(0, 255, 255, 0.4);
                }
            }
            
            @-webkit-keyframes mobileGlowH2 {
                0%, 100% { 
                    text-shadow: 0 0 6px #00ffff, 0 0 12px rgba(0, 255, 255, 0.7), 0 0 20px rgba(155, 48, 255, 0.4);
                }
                25% { 
                    text-shadow: 0 0 6px #9b30ff, 0 0 12px rgba(155, 48, 255, 0.7), 0 0 20px rgba(255, 20, 147, 0.4);
                }
                50% { 
                    text-shadow: 0 0 6px #ff1493, 0 0 12px rgba(255, 20, 147, 0.7), 0 0 20px rgba(0, 229, 204, 0.4);
                }
                75% { 
                    text-shadow: 0 0 6px #ff6600, 0 0 12px rgba(255, 102, 0, 0.7), 0 0 20px rgba(0, 255, 255, 0.4);
                }
            }
            @keyframes mobileGlowH2 {
                0%, 100% { 
                    text-shadow: 0 0 6px #00ffff, 0 0 12px rgba(0, 255, 255, 0.7), 0 0 20px rgba(155, 48, 255, 0.4);
                }
                25% { 
                    text-shadow: 0 0 6px #9b30ff, 0 0 12px rgba(155, 48, 255, 0.7), 0 0 20px rgba(255, 20, 147, 0.4);
                }
                50% { 
                    text-shadow: 0 0 6px #ff1493, 0 0 12px rgba(255, 20, 147, 0.7), 0 0 20px rgba(0, 229, 204, 0.4);
                }
                75% { 
                    text-shadow: 0 0 6px #ff6600, 0 0 12px rgba(255, 102, 0, 0.7), 0 0 20px rgba(0, 255, 255, 0.4);
                }
            }
            */
            
            section.visible h2 {
                opacity: 1 !important;
            }
            
            /* ========== iOS SAFARI SCROLL FIX ========== */
            /* Prevent iOS Safari rubber-banding and momentum issues */
            @supports (-webkit-touch-callout: none) {
                .scroll-container {
                    -webkit-overflow-scrolling: auto !important; /* Disable iOS momentum on scroll container */
                }
                
                #game {
                    -webkit-overflow-scrolling: auto !important;
                    position: relative !important;
                    z-index: 1 !important;
                }
                
                #game .game-container {
                    -webkit-overflow-scrolling: auto !important;
                    position: relative !important;
                    z-index: 2 !important;
                }
            }
            
            /* ========== GAME CONTAINER - SCROLL PREVENTION ON GAME ONLY ========== */
            /* Allow scrolling in #game section, block only over the game-container */
            #game {
                touch-action: pan-y !important; /* Allow vertical scroll in section */
                -webkit-overflow-scrolling: auto !important;
                overscroll-behavior: contain !important;
                -webkit-overscroll-behavior: contain !important;
                scroll-behavior: auto !important;
                /* Ensure proper scroll-snap on game section */
                scroll-snap-align: start !important;
                -webkit-scroll-snap-align: start !important;
                scroll-snap-stop: always !important;
                -webkit-scroll-snap-stop: always !important;
                contain: layout style !important;
            }
            
            /* Ensure photos section (before game) also snaps properly */
            #photos {
                scroll-snap-align: start !important;
                -webkit-scroll-snap-align: start !important;
                scroll-snap-stop: always !important;
                -webkit-scroll-snap-stop: always !important;
            }
            
            /* Ensure merch section (after game) also snaps properly */
            #merch {
                scroll-snap-align: start !important;
                -webkit-scroll-snap-align: start !important;
                scroll-snap-stop: always !important;
                -webkit-scroll-snap-stop: always !important;
            }
            
            #game iframe {
                touch-action: none !important;
                overscroll-behavior: none !important;
                -webkit-overscroll-behavior: none !important;
                pointer-events: auto !important;
            }
            
            /* Disable animated overlays on game section for mobile performance */
            #game .color-mist,
            #game .color-mist::before,
            #game .color-mist::after,
            #game .liquid-overlay,
            #game .oil-slick,
            #game .color-splotches,
            #game .lava-blob,
            #game .fractal-layer,
            #game .organic-overlay {
                display: none !important;
                animation: none !important;
                opacity: 0 !important;
            }
            
            /* Keep only static darken overlay for game section */
            #game .darken-overlay {
                animation: none !important;
                opacity: 0.85 !important;
            }
            
            /* ========== GAME SECTION - MINIMAL ANIMATIONS FOR PERFORMANCE ========== */
            /* Disable background breathing animation on game section */
            #game::before {
                -webkit-animation: none !important;
                animation: none !important;
                -webkit-transform: scale(1.05) !important;
                transform: scale(1.05) !important;
                opacity: 1 !important;
            }
            
            /* Disable all pseudo-element animations in game section */
            #game::after,
            #game *::before,
            #game *::after {
                -webkit-animation: none !important;
                animation: none !important;
            }
            
            /* Static fade overlay for game section */
            #game .fade-overlay {
                animation: none !important;
                opacity: 1 !important;
            }
            
            /* Ensure game h2 has no animation */
            #game h2 {
                -webkit-animation: none !important;
                animation: none !important;
            }
            
            /* ========== MOBILE ARCADE SELECTOR - ICON ONLY ========== */
            .arcade-selector {
                display: flex !important;
                gap: 10px !important;
                margin-top: 47px !important;
                margin-bottom: 5px !important;
                justify-content: center !important;
                flex-wrap: nowrap !important;
                position: relative !important;
                z-index: 100 !important;
                visibility: visible !important;
                opacity: 1 !important;
            }
            
            .arcade-pill {
                width: 38px !important;
                height: 38px !important;
                padding: 0 !important;
                border-radius: 50% !important;
                flex-shrink: 0 !important;
                visibility: visible !important;
                opacity: 1 !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
            }
            
            /* Icon only on mobile */
            .arcade-pill .pill-icon {
                font-size: 1.2rem !important;
            }
            
            /* Hide text on mobile - icon only */
            .arcade-pill .pill-text {
                display: none !important;
            }
            
            .game-container {
                /* Match desktop aspect ratio for consistency */
                width: 95% !important;
                max-width: 400px !important;
                aspect-ratio: 640/718 !important;
                height: auto !important;
                max-height: 70vh !important; /* Prevent overflow beyond section */
                min-height: unset !important;
                padding: 0 !important;
                border-radius: 5px !important;
                overflow: hidden !important; /* Changed from visible to prevent content bleed */
                margin-top: 8px !important;
                /* Prevent page scrolling when touching game */
                touch-action: none !important;
                -webkit-touch-callout: none !important;
                -webkit-user-select: none !important;
                user-select: none !important;
                flex-shrink: 0 !important;
                /* Isolate touch events */
                isolation: isolate !important;
                /* Prevent scroll bleed */
                overscroll-behavior: contain !important;
                -webkit-overscroll-behavior: contain !important;
            }
            
            /* Disable touch blockers - they interfere with game controls */
            .game-touch-blocker {
                display: none !important;
                pointer-events: none !important;
            }
            
            /* Hide card-indicators (nav dots) on mobile when playing games to prevent accidental taps */
            body.arcade-active .card-indicators {
                display: none !important;
                pointer-events: none !important;
            }
            
            .game-container iframe {
                width: 100% !important;
                /* Fixed aspect ratio - ignore per-game data-aspect on mobile */
                aspect-ratio: 640/718 !important;
                height: auto !important;
                min-height: unset !important;
                border-radius: 5px !important;
                touch-action: none !important;
                /* Ensure iframe receives all touch events */
                pointer-events: auto !important;
                /* Prevent scroll bleed */
                overscroll-behavior: contain !important;
                /* Lower z-index so button can be tapped */
                z-index: 1 !important;
                position: relative !important;
            }
            
            /* Mobile fullscreen button - larger tap target */
            .game-fullscreen-btn {
                width: 44px !important;
                height: 44px !important;
                font-size: 20px !important;
                top: 5px !important;
                right: 5px !important;
                z-index: 9999 !important;
                pointer-events: auto !important;
                opacity: 0.85 !important;
            }
            
            .game-info {
                font-size: 0.85rem !important;
                padding: 0.3rem 0 !important;
            }
            
            .start-btn {
                padding: 0.6rem 1.5rem !important;
                font-size: 0.9rem !important;
                margin-top: 0.5rem !important;
            }
            
            /* ========== PHOTOS GRID - 3 COLUMNS FOR 12-PHOTO LAYOUT ========== */
            .photos-grid {
                display: grid !important;
                grid-template-columns: repeat(3, 1fr) !important;
                grid-template-rows: auto !important;
                gap: 0.6rem !important;
                max-width: 95vw !important;
                width: 95vw !important;
                max-height: none !important;
                padding: 0.5rem !important;
                overflow: visible !important;
                margin: 0 auto !important;
            }
            
            .photo-item {
                width: 100% !important;
                max-width: none !important;
                height: auto !important;
                max-height: none !important;
                aspect-ratio: 1 !important;
            }
            
            /* ========== COMING SOON BANNER ========== */
            .coming-soon-banner {
                font-family: 'Bebas Neue', sans-serif;
                font-size: clamp(3rem, 10vw, 6rem);
                color: #fff;
                text-align: center;
                letter-spacing: 0.15em;
                text-shadow: 
                    0 0 20px rgba(255, 0, 255, 0.8),
                    0 0 40px rgba(0, 255, 255, 0.6),
                    0 0 60px rgba(255, 0, 255, 0.4);
                animation: comingSoonPulse 3s ease-in-out infinite;
                padding: 2rem 1rem;
                position: relative;
                z-index: 5;
            }
            
            /* ========== MERCH GRID - SMALLER ITEMS WITH SMALLER ICONS ========== */
            /* Only apply grid styles if not hidden via inline style */
            .merch-grid:not([style*="display: none"]) {
                display: grid !important;
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 0.4rem !important;
                max-height: none !important;
                overflow: visible !important;
                padding: 0.5rem !important;
                max-width: 280px !important;
                width: 280px !important;
                margin: 0 auto !important;
            }
            
            .merch-item {
                aspect-ratio: 1 / 1.15 !important;
                min-height: auto !important;
                max-height: none !important;
                padding: 0.4rem !important;
                display: flex !important;
                flex-direction: column !important;
                justify-content: space-between !important;
            }
            
            .merch-image-placeholder {
                height: 45% !important;
                max-height: 45% !important;
                min-height: 0 !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                flex-shrink: 0 !important;
            }
            
            /* Smaller emoji icons on mobile - critical fix */
            .placeholder-icon {
                font-size: 1.5rem !important;
                line-height: 1 !important;
            }
            
            .merch-item span,
            .merch-info h3 {
                font-size: 0.7rem !important;
                padding: 0.2rem !important;
            }
            
            .merch-info {
                padding: 0.3rem !important;
            }
            
            .merch-cta {
                font-size: 0.32rem !important;
                padding: 0.08rem 0.22rem !important;
                border-radius: 6px !important;
            }
            
            .merch-price {
                font-size: 0.55rem !important;
                margin-bottom: 0.2rem !important;
            }
            
            /* ========== HOME SOCIAL BUTTONS - 2x2 GRID ========== */
            .home-social-links {
                display: grid !important;
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 1.8rem 1.6rem !important; /* Much larger spacing */
                max-width: 340px !important;
                margin: 1.2rem auto 0 !important;
                padding: 1rem 2rem !important;
            }
            
            .home-social-btn {
                padding: 0.5rem 0.9rem !important;
                font-size: 0.8rem !important;
                font-weight: 700 !important;
                letter-spacing: 1px !important;
                text-align: center !important;
                justify-content: center !important;
                display: flex !important;
                align-items: center !important;
                /* No glow on mobile normally */
                -webkit-text-stroke: 0px transparent !important;
                text-shadow: none !important;
            }
            
            /* ========== NAV - SIMPLIFIED ========== */
            nav {
                background: rgba(0, 0, 0, 0.95) !important;
                -webkit-backdrop-filter: none !important;
                backdrop-filter: none !important;
            }
            
            /* Nav border now animated via main mobile media query */
            
            /* Nav logo - static, no glow animation */
            .nav-animated-logo-container {
                -webkit-animation: none !important;
                animation: none !important;
                -webkit-filter: none !important;
                filter: none !important;
            }
            
            .nav-animated-logo {
                -webkit-animation: none !important;
                animation: none !important;
            }
            
            /* Nav links - no hover animations */
            nav a {
                -webkit-transition: color 0.2s ease !important;
                transition: color 0.2s ease !important;
            }
            
            /* ========== HERO IMAGE - STATIC BUT LARGER ========== */
            .hero-image {
                -webkit-animation: none !important;
                animation: none !important;
                max-width: 90% !important;
                max-height: 50vh !important;
                width: auto !important;
                height: auto !important;
            }
            
            .psychedelic-logo-container {
                -webkit-animation: none !important;
                animation: none !important;
                -webkit-filter: none !important;
                filter: none !important;
            }
            
            /* ========== MUSIC PLAYER - SIMPLIFIED ========== */
            .music-player {
                -webkit-backdrop-filter: blur(8px) !important;
                backdrop-filter: blur(8px) !important;
            }
            
            .play-btn {
                -webkit-animation: none !important;
                animation: none !important;
            }
            
            /* ========== CARD INDICATORS - SIMPLIFIED ========== */
            .card-indicators {
                -webkit-backdrop-filter: blur(5px) !important;
                backdrop-filter: blur(5px) !important;
            }
            
            .indicator {
                -webkit-transition: transform 0.2s ease, background 0.2s ease !important;
                transition: transform 0.2s ease, background 0.2s ease !important;
            }
            
            /* ========== SECTIONS - CLEAN BORDERS ========== */
            section {
                border-bottom: 4px solid #000000 !important;
                box-shadow: none !important;
            }
            
            section:last-of-type {
                border-bottom: none !important;
            }
            
            /* ========== CONTENT TRANSITIONS - SIMPLE OPACITY ONLY ========== */
            /* Override complex slide animations with simple fades */
            .home-section h1,
            .home-section .hero-image-container,
            .home-section .scroll-indicator {
                -webkit-transform: none !important;
                transform: none !important;
                -webkit-transition: opacity 0.4s ease !important;
                transition: opacity 0.4s ease !important;
            }
            
            section h2,
            section .about-container,
            section .medium-logo-container,
            section .videos-grid,
            section .photos-grid,
            section .game-container,
            section .merch-grid,
            section .social-links,
            section .events-container {
                -webkit-transform: none !important;
                transform: none !important;
                -webkit-transition: opacity 0.4s ease !important;
                transition: opacity 0.4s ease !important;
            }
            
            /* ========== SCROLL INDICATOR - SIMPLE BOUNCE ========== */
            .scroll-indicator {
                -webkit-animation: simpleBounce 2s ease-in-out infinite !important;
                animation: simpleBounce 2s ease-in-out infinite !important;
            }
            
            @-webkit-keyframes simpleBounce {
                0%, 100% { -webkit-transform: translateY(0); transform: translateY(0); }
                50% { -webkit-transform: translateY(8px); transform: translateY(8px); }
            }
            @keyframes simpleBounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(8px); }
            }
            
            /* ========== PHOTO GRID - NO HOVER EFFECTS ========== */
            .photo-tile {
                -webkit-transform: none !important;
                transform: none !important;
                -webkit-transition: opacity 0.2s ease !important;
                transition: opacity 0.2s ease !important;
            }
            
            .photo-tile:hover,
            .photo-tile:active {
                -webkit-transform: none !important;
                transform: none !important;
            }
            
            /* ========== MERCH ITEMS - SIMPLIFIED ========== */
            .merch-item {
                -webkit-transition: opacity 0.2s ease !important;
                transition: opacity 0.2s ease !important;
            }
            
            .merch-item:hover {
                -webkit-transform: none !important;
                transform: none !important;
            }
            
            /* ========== EVENT CARDS - SIMPLIFIED ========== */
            .event-card {
                -webkit-transition: opacity 0.2s ease !important;
                transition: opacity 0.2s ease !important;
            }
            
            .event-card:hover {
                -webkit-transform: none !important;
                transform: none !important;
            }
            
            /* ========== SOCIAL LINKS - SIMPLE COLOR CHANGE ========== */
            .social-link {
                -webkit-transition: color 0.2s ease !important;
                transition: color 0.2s ease !important;
            }
            
            .social-link:hover {
                -webkit-transform: none !important;
                transform: none !important;
            }
            
            /* ========== LIGHTBOX - KEEP FUNCTIONAL ========== */
            .lightbox {
                -webkit-backdrop-filter: none !important;
                backdrop-filter: none !important;
                background: rgba(0, 0, 0, 0.98) !important;
            }
            
            .lightbox-close,
            .lightbox-nav {
                -webkit-backdrop-filter: blur(5px) !important;
                backdrop-filter: blur(5px) !important;
                -webkit-transition: background 0.2s ease !important;
                transition: background 0.2s ease !important;
            }
            
            /* ========== VIDEOS - REMOVE GLOW EFFECTS ========== */
            .video-embed {
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5) !important;
            }
            
            .video-embed:hover {
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5) !important;
                -webkit-transform: none !important;
                transform: none !important;
            }
            
            /* ========== GAME CONTAINER - SIMPLIFIED ========== */
            .game-container {
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5) !important;
            }
            
            /* ========== ABOUT CONTAINER - CLEAN ========== */
            .about-container {
                -webkit-backdrop-filter: blur(8px) !important;
                backdrop-filter: blur(8px) !important;
            }
            
            /* ========== NO 90-DEGREE CORNERS ON TAP/SELECT ========== */
            /* Remove default tap highlight on all interactive elements */
            a, button, .photo-item, .merch-item, .event-item, .event-card,
            .home-social-btn, .social-btn, .social-link, .nav-link,
            .lightbox-close, .lightbox-nav, .music-player, .card-indicator {
                -webkit-tap-highlight-color: transparent !important;
                -webkit-touch-callout: none !important;
            }
            
            /* Photo items - rounded active state */
            .photo-item:active,
            .photo-item:focus {
                border-radius: 12px !important;
                outline: none !important;
                box-shadow: 0 0 0 3px rgba(0, 255, 204, 0.5) !important;
            }
            
            /* Merch items - rounded active state */
            .merch-item:active,
            .merch-item:focus {
                border-radius: 16px !important;
                outline: none !important;
                box-shadow: 0 0 0 3px rgba(255, 0, 255, 0.5) !important;
            }
            
            /* Event items - rounded active state */
            .event-item:active,
            .event-item:focus,
            .event-card:active,
            .event-card:focus {
                border-radius: 16px !important;
                outline: none !important;
                box-shadow: 0 0 0 3px rgba(0, 255, 204, 0.5) !important;
            }
            
            /* Social buttons - full ring/glow on touch */
            .home-social-btn:active,
            .home-social-btn:focus,
            .social-btn:active,
            .social-btn:focus {
                border-radius: 25px !important;
                outline: none !important;
                transform: scale(1.05) !important;
                background: rgba(0, 0, 0, 0.7) !important;
                /* White border ring */
                border: 2px solid #ffffff !important;
                /* Text glow */
                -webkit-text-stroke: 1px #ffffff !important;
                text-shadow: 
                    0 0 10px rgba(0, 255, 255, 0.8),
                    0 0 20px rgba(0, 255, 255, 0.6),
                    0 0 40px rgba(255, 0, 255, 0.5) !important;
                /* Ring glow */
                box-shadow: 
                    0 0 10px rgba(0, 255, 255, 0.8),
                    0 0 20px rgba(0, 255, 255, 0.6),
                    0 0 40px rgba(255, 0, 255, 0.5),
                    0 0 60px rgba(255, 0, 255, 0.3) !important;
            }
            
            /* Nav links - rounded active state (don't override tap animation) */
            .nav-link:focus {
                border-radius: 8px !important;
                outline: none !important;
            }
            
            /* Social links (icons) - rounded active state */
            .social-link:active,
            .social-link:focus {
                border-radius: 50% !important;
                outline: none !important;
            }
            
            /* Lightbox controls - rounded active state */
            .lightbox-close:active,
            .lightbox-close:focus {
                border-radius: 50% !important;
                outline: none !important;
            }
            
            .lightbox-nav:active,
            .lightbox-nav:focus {
                border-radius: 50% !important;
                outline: none !important;
            }
            
            /* Music player - rounded active state */
            .music-player:active,
            .music-player:focus,
            .music-player *:active,
            .music-player *:focus {
                border-radius: 30px !important;
                outline: none !important;
            }
            
            /* Card indicators - rounded active state */
            .card-indicator:active,
            .card-indicator:focus {
                border-radius: 50% !important;
                outline: none !important;
            }
            
            /* Game container - rounded active state */
            .game-container:active,
            .game-container:focus {
                border-radius: 20px !important;
                outline: none !important;
            }
            
            /* Video embeds - rounded active state */
            .video-embed:active,
            .video-embed:focus {
                border-radius: 16px !important;
                outline: none !important;
            }
            
            /* Global focus-visible fallback */
            *:focus-visible {
                outline: 2px solid rgba(0, 255, 204, 0.6) !important;
                outline-offset: 2px !important;
                border-radius: inherit !important;
            }
        }
        
        /* Reduced motion - even simpler */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                -webkit-animation: none !important;
                animation: none !important;
                -webkit-transition: none !important;
                transition: none !important;
            }
        }

        html {
            height: 100%;
            overflow: hidden;
            background: var(--color-bg); /* On html to avoid Chrome double-scroll bug */
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            height: 100%;
            overflow: hidden;
            margin: 0;
        }

        /* ========== SCROLL CONTAINER STRATEGY ==========
           Research: Dedicated container works consistently across all browsers
           - Chrome/Firefox work on html, Safari needs body
           - Dedicated container avoids these inconsistencies
           - overscroll-behavior-y: contain prevents Chrome edge bugs
        */
        .scroll-container {
            height: 100vh;
            height: 100dvh; /* Dynamic viewport for mobile */
            overflow-y: scroll;
            overflow-x: hidden;
            /* Scroll-snap disabled - manual fade transitions handle all section changes */
            scroll-snap-type: none;
            -webkit-scroll-snap-type: none;
            scroll-behavior: auto;
            overscroll-behavior-y: contain;
            -webkit-overscroll-behavior-y: contain;
            -webkit-overflow-scrolling: touch; /* iOS momentum */
            /* GPU acceleration - avoid will-change: scroll-position (invalid) */
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            /* Hide scrollbar globally while maintaining scroll functionality */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE/Edge */
        }
        
        /* Hide scrollbar - WebKit/Blink browsers (Chrome, Safari, Edge, Opera) */
        .scroll-container::-webkit-scrollbar {
            display: none;
            width: 0;
            height: 0;
        }

        @supports not (height: 100dvh) {
            .scroll-container {
                height: 100vh;
            }
            section {
                height: 100vh;
                min-height: 100vh;
            }
        }

        /* ========== LIGHTBOX GALLERY ========== */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 20px;
            /* GPU layer for fixed element stability */
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox-content {
            position: relative;
            max-width: 90vw;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .lightbox-image {
            max-width: 100%;
            max-height: 70vh;
            object-fit: contain;
            border-radius: 10px;
            box-shadow: 0 0 50px rgba(0, 255, 204, 0.3);
        }

        .lightbox-controls {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            align-items: center;
        }

        .lightbox-btn {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #9b30ff, #00bfff);
            border: none;
            border-radius: 25px;
            color: #ffffff;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            box-shadow: 0 0 20px rgba(155, 48, 255, 0.4);
        }

        .lightbox-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(155, 48, 255, 0.6), 0 0 50px rgba(0, 191, 255, 0.4);
        }

        .lightbox-close {
            position: absolute;
            top: -60px;
            right: 0;
            background: linear-gradient(135deg, rgba(255, 0, 150, 0.2), rgba(0, 255, 200, 0.2));
            border: none;
            color: #ffffff;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            font-size: 2rem;
            font-weight: 200;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            box-shadow: 0 0 15px rgba(255, 0, 150, 0.3), inset 0 0 20px rgba(255, 255, 255, 0.1);
        }

        .lightbox-close:hover {
            background: linear-gradient(135deg, rgba(255, 0, 150, 0.6), rgba(0, 255, 200, 0.6));
            color: #ffffff;
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(255, 0, 150, 0.5), 0 0 40px rgba(0, 255, 200, 0.4);
        }

        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, rgba(155, 48, 255, 0.3), rgba(0, 191, 255, 0.3));
            border: none;
            color: #ffffff;
            width: 56px;
            height: 56px;
            border-radius: 16px;
            font-size: 1.8rem;
            font-weight: 300;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            box-shadow: 0 0 20px rgba(155, 48, 255, 0.3), inset 0 0 25px rgba(255, 255, 255, 0.1);
        }

        .lightbox-nav:hover {
            background: linear-gradient(135deg, rgba(155, 48, 255, 0.7), rgba(0, 191, 255, 0.7));
            color: #ffffff;
            transform: translateY(-50%) scale(1.12);
            box-shadow: 0 0 35px rgba(155, 48, 255, 0.6), 0 0 50px rgba(0, 191, 255, 0.5);
        }

        .lightbox-prev {
            left: -80px;
        }

        .lightbox-prev::before {
            content: '';
            font-family: inherit;
        }

        .lightbox-next {
            right: -80px;
        }

        .lightbox-next::before {
            content: '';
            font-family: inherit;
        }

        @media (max-width: 768px) {
            .lightbox-nav {
                width: 46px;
                height: 46px;
                font-size: 1.4rem;
                border-radius: 12px;
            }
            .lightbox-prev {
                left: 10px;
            }
            .lightbox-next {
                right: 10px;
            }
            .lightbox-close {
                top: -55px;
                right: 0;
                width: 42px;
                height: 42px;
                font-size: 1.6rem;
                border-radius: 10px;
            }
        }

        /* ========== VERTICAL CARD SECTIONS ========== */
        section {
            position: relative;
            min-height: 100vh;
            min-height: 100dvh; /* Dynamic viewport height for mobile */
            height: 100vh;
            height: 100dvh; /* Dynamic viewport height for mobile */
            box-sizing: border-box; /* Include border in height for proper scroll-snap */
            /* Center content between nav bar (top) and music player (bottom) */
            /* Nav: ~55px, Music player: ~75px from bottom edge */
            padding: 70px 3rem 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            overflow: hidden;
            scroll-snap-align: start;
            -webkit-scroll-snap-align: start;
            scroll-snap-stop: always;
            -webkit-scroll-snap-stop: always;
            border-bottom: 8px solid #000000;
            box-shadow: 0 8px 0 #000000;
            /* GPU acceleration to prevent tearing */
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }
        
        /* Consistent padding on all sections */
        section:not(.home-section):not(#logo-outro) {
            padding-top: 70px;
            padding-bottom: 100px;
        }
        
        /* Section transition states for nav clicks */
        section.transitioning-out {
            animation: sectionFadeOut 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            pointer-events: none;
            will-change: opacity, transform;
        }
        
        section.transitioning-in {
            animation: sectionFadeIn 0.35s cubic-bezier(0.0, 0, 0.2, 1) forwards;
            will-change: opacity, transform;
        }
        
        @keyframes sectionFadeOut {
            0% { 
                opacity: 1;
                transform: scale(1);
            }
            100% { 
                opacity: 0;
                transform: scale(0.98);
            }
        }
        
        @keyframes sectionFadeIn {
            0% { 
                opacity: 0;
                transform: scale(1.01);
            }
            100% { 
                opacity: 1;
                transform: scale(1);
            }
        }
        
        /* Hide problematic elements during page transitions to prevent edge tearing */
        body.page-transitioning section {
            border-bottom: none !important;
            box-shadow: none !important;
        }
        
        body.page-transitioning .scroll-container {
            overflow: hidden !important;
        }
        
        /* Black fade overlay for menu navigation only */
        .transition-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a0a0a;
            z-index: 9998;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.345s ease-in-out;
            will-change: opacity;
            /* GPU acceleration */
            transform: translateZ(0);
            -webkit-transform: translateZ(0);
        }
        
        .transition-overlay.active {
            opacity: 1;
        }
        
        /* Safari: Faster transitions for snappier feel */
        body.is-safari .transition-overlay,
        body.is-mac-safari .transition-overlay {
            transition: opacity 0.23s ease-in-out;
        }
        
        /* Safari: Disable complex animations during transition for speed */
        body.is-safari.page-transitioning .lava-blob,
        body.is-safari.page-transitioning .splotch,
        body.is-safari.page-transitioning .color-mist,
        body.is-safari.page-transitioning .liquid-overlay,
        body.is-safari.page-transitioning .oil-slick,
        body.is-safari.page-transitioning .wavy-flutter,
        body.is-safari.page-transitioning .color-splotches,
        body.is-safari.page-transitioning .psych-fractals,
        body.is-safari.page-transitioning section::before,
        body.is-safari.page-transitioning section::after {
            animation-play-state: paused !important;
            opacity: 0 !important;
        }
        
        /* Chrome-specific: disable all animations during transition */
        @supports (-webkit-appearance: none) and (not (-moz-appearance: none)) {
            body.page-transitioning .lava-blob,
            body.page-transitioning .splotch,
            body.page-transitioning .chrome-color-sweep,
            body.page-transitioning .chrome-shimmer,
            body.page-transitioning .oil-slick,
            body.page-transitioning .color-mist,
            body.page-transitioning .color-splotches,
            body.page-transitioning section::before,
            body.page-transitioning section::after {
                animation-play-state: paused !important;
                opacity: 0 !important;
            }
        }

        section:last-of-type {
            border-bottom: none;
            box-shadow: none;
        }

        /* ========== COMING SOON BANNER ========== */
        .coming-soon-banner {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(4rem, 12vw, 8rem);
            color: #fff;
            text-align: center;
            letter-spacing: 0.15em;
            text-shadow: 
                0 0 20px rgba(255, 0, 255, 0.8),
                0 0 40px rgba(0, 255, 255, 0.6),
                0 0 60px rgba(255, 0, 255, 0.4);
            animation: comingSoonPulse 3s ease-in-out infinite;
            padding: 3rem 1rem;
            position: relative;
            z-index: 5;
        }
        
        @keyframes comingSoonPulse {
            0%, 100% {
                text-shadow: 
                    0 0 20px rgba(255, 0, 255, 0.8),
                    0 0 40px rgba(0, 255, 255, 0.6),
                    0 0 60px rgba(255, 0, 255, 0.4);
                opacity: 1;
            }
            50% {
                text-shadow: 
                    0 0 30px rgba(0, 255, 255, 0.9),
                    0 0 60px rgba(255, 0, 255, 0.7),
                    0 0 80px rgba(0, 255, 255, 0.5);
                opacity: 0.9;
            }
        }

        /* Slide-in animations for sections */
        section h2,
        section .about-container,
        section .medium-logo-container,
        section .videos-grid,
        section .photos-grid,
        section .game-container,
        section .merch-grid,
        section .coming-soon-banner,
        section .social-links,
        section .events-container {
            opacity: 0;
            -webkit-transform: translate3d(0, 40px, 0);
            transform: translate3d(0, 40px, 0);
            -webkit-transition: opacity 0.6s ease-out, -webkit-transform 0.6s ease-out;
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        section.visible h2 {
            opacity: 1;
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
        }

        section.visible .about-container,
        section.visible .medium-logo-container,
        section.visible .videos-grid,
        section.visible .photos-grid,
        section.visible .game-container,
        section.visible .merch-grid,
        section.visible .coming-soon-banner,
        section.visible .social-links,
        section.visible .events-container {
            opacity: 1;
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            transition-delay: 0.15s;
        }

        /* Home section content - immediate visibility, slide from top */
        .home-section h1,
        .home-section .hero-image-container,
        .home-section .scroll-indicator {
            opacity: 0;
            -webkit-transform: translate3d(0, -30px, 0);
            transform: translate3d(0, -30px, 0);
            -webkit-transition: opacity 0.6s ease-out, -webkit-transform 0.6s ease-out;
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            /* Ensure GPU layer is active even in hidden state */
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .home-section.visible h1 {
            opacity: 1;
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
        }

        .home-section.visible .hero-image-container {
            opacity: 1;
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            transition-delay: 0.15s;
        }

        .home-section.visible .scroll-indicator {
            opacity: 1;
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            transition-delay: 0.4s;
        }

        /* Logo outro - no slide animation */
        #logo-outro .psychedelic-logo-container {
            opacity: 1;
            transform: none;
        }

        section > .fade-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
            background: linear-gradient(to bottom,
                rgba(0, 0, 0, 1) 0%,
                rgba(0, 0, 0, 0.95) 2%,
                rgba(0, 0, 0, 0.85) 4%,
                rgba(0, 0, 0, 0.7) 6%,
                rgba(0, 0, 0, 0.5) 8%,
                rgba(0, 0, 0, 0.3) 10%,
                rgba(0, 0, 0, 0.15) 12%,
                rgba(0, 0, 0, 0.05) 14%,
                rgba(0, 0, 0, 0) 16%,
                rgba(0, 0, 0, 0) 84%,
                rgba(0, 0, 0, 0.05) 86%,
                rgba(0, 0, 0, 0.15) 88%,
                rgba(0, 0, 0, 0.3) 90%,
                rgba(0, 0, 0, 0.5) 92%,
                rgba(0, 0, 0, 0.7) 94%,
                rgba(0, 0, 0, 0.85) 96%,
                rgba(0, 0, 0, 0.95) 98%,
                rgba(0, 0, 0, 1) 100%
            );
        }

        /* Darkening overlay - transparent grey to darken background */
        .darken-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            background: rgba(10, 10, 14, 0.80); /* Darker for better contrast */
        }

        /* Background image layers */
        section::before {
            content: '';
            position: absolute;
            top: -15%;
            left: -15%;
            right: -15%;
            bottom: -15%;
            width: 130%;
            height: 130%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            /* Removed background-attachment: fixed - causes severe scroll performance issues */
            z-index: 0;
            mask-image: linear-gradient(to bottom, 
                transparent 0%, 
                rgba(0,0,0,0.2) 12%,
                rgba(0,0,0,0.5) 22%,
                rgba(0,0,0,0.8) 30%,
                black 38%, 
                black 62%, 
                rgba(0,0,0,0.8) 70%,
                rgba(0,0,0,0.5) 78%,
                rgba(0,0,0,0.2) 88%,
                transparent 100%
            );
            -webkit-mask-image: linear-gradient(to bottom, 
                transparent 0%, 
                rgba(0,0,0,0.2) 12%,
                rgba(0,0,0,0.5) 22%,
                rgba(0,0,0,0.8) 30%,
                black 38%, 
                black 62%, 
                rgba(0,0,0,0.8) 70%,
                rgba(0,0,0,0.5) 78%,
                rgba(0,0,0,0.2) 88%,
                transparent 100%
            );
            -webkit-animation: backgroundBreathingWarp 30s ease-in-out infinite;
            animation: backgroundBreathingWarp 30s ease-in-out infinite;
            -webkit-transform-origin: center center;
            transform-origin: center center;
            /* GPU acceleration to prevent tearing */
            will-change: transform;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            /* Base saturation boost for all browsers */
            -webkit-filter: saturate(1.0);
            filter: saturate(1.0);
        }

        /* Simplified animation - removed expensive filter animation */
        @-webkit-keyframes backgroundBreathingWarp {
            0%, 100% { 
                -webkit-transform: scale(1) rotate(0deg);
                transform: scale(1) rotate(0deg);
            }
            25% { 
                -webkit-transform: scale(1.04) rotate(0.4deg);
                transform: scale(1.04) rotate(0.4deg);
            }
            50% { 
                -webkit-transform: scale(1.06) rotate(-0.3deg);
                transform: scale(1.06) rotate(-0.3deg);
            }
            75% { 
                -webkit-transform: scale(1.03) rotate(0.5deg);
                transform: scale(1.03) rotate(0.5deg);
            }
        }
        @keyframes backgroundBreathingWarp {
            0%, 100% { 
                -webkit-transform: scale(1) rotate(0deg);
                transform: scale(1) rotate(0deg);
            }
            25% { 
                -webkit-transform: scale(1.04) rotate(0.4deg);
                transform: scale(1.04) rotate(0.4deg);
            }
            50% { 
                -webkit-transform: scale(1.06) rotate(-0.3deg);
                transform: scale(1.06) rotate(-0.3deg);
            }
            75% { 
                -webkit-transform: scale(1.03) rotate(0.5deg);
                transform: scale(1.03) rotate(0.5deg);
            }
        }

        /* Mobile breathing animation - SCALE ONLY for performance (global definition) */
        @-webkit-keyframes mobileBackgroundBreathe {
            0%, 100% { 
                -webkit-transform: scale(1);
                transform: scale(1);
            }
            50% { 
                -webkit-transform: scale(1.05);
                transform: scale(1.05);
            }
        }
        @keyframes mobileBackgroundBreathe {
            0%, 100% { 
                -webkit-transform: scale(1);
                transform: scale(1);
            }
            50% { 
                -webkit-transform: scale(1.05);
                transform: scale(1.05);
            }
        }

        /* ========== NEW AMBIENT LIGHTING - Soft color washes, NO beam/prism effect ========== */
        section::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(
                    45deg,
                    rgba(255, 0, 255, 0.15) 0%,
                    transparent 40%,
                    rgba(0, 255, 204, 0.12) 60%,
                    transparent 100%
                ),
                linear-gradient(
                    135deg,
                    rgba(0, 255, 204, 0.1) 0%,
                    transparent 50%,
                    rgba(255, 100, 0, 0.12) 100%
                ),
                linear-gradient(
                    225deg,
                    rgba(155, 48, 255, 0.12) 0%,
                    transparent 45%,
                    rgba(255, 0, 255, 0.1) 100%
                );
            background-size: 200% 200%, 180% 180%, 220% 220%;
            animation: ambientColorWash 25s ease-in-out infinite;
            z-index: 1;
            opacity: 0.6;
            mix-blend-mode: screen;
            /* GPU acceleration - background-position is GPU-friendly */
            will-change: background-position;
            backface-visibility: hidden;
            transform: translateZ(0);
        }

        /* OPTIMIZED: Removed filter:hue-rotate - now GPU-accelerated background-position only */
        @keyframes ambientColorWash {
            0%, 100% {
                background-position: 0% 0%, 100% 0%, 0% 100%;
            }
            25% {
                background-position: 100% 50%, 0% 100%, 100% 0%;
            }
            50% {
                background-position: 50% 100%, 50% 50%, 50% 50%;
            }
            75% {
                background-position: 0% 50%, 100% 0%, 0% 50%;
            }
        }

        /* Soft color mist overlay */
        .color-mist {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            overflow: hidden;
            opacity: 0;
            animation: overlayFadeIn 2.5s ease-out 0.5s forwards;
            filter: saturate(1.0); /* Boosted base saturation for all browsers */
            /* Isolate blend mode scope for mobile GPU stability */
            isolation: isolate;
        }

        .color-mist::before {
            content: '';
            position: absolute;
            top: -10%;
            left: -10%;
            width: 120%;
            height: 120%;
            background: 
                radial-gradient(ellipse 60% 50% at 10% 20%, rgba(255, 0, 255, 0.38) 0%, transparent 50%),
                radial-gradient(ellipse 50% 60% at 90% 30%, rgba(0, 255, 204, 0.35) 0%, transparent 50%),
                radial-gradient(ellipse 55% 55% at 80% 80%, rgba(255, 100, 0, 0.30) 0%, transparent 50%),
                radial-gradient(ellipse 60% 50% at 15% 75%, rgba(155, 48, 255, 0.35) 0%, transparent 50%);
            animation: mistFloat 35s ease-in-out infinite;
            mix-blend-mode: screen;
            opacity: 0.35;
            /* GPU acceleration */
            will-change: transform;
            backface-visibility: hidden;
            transform: translateZ(0);
        }

        .color-mist::after {
            content: '';
            position: absolute;
            top: -5%;
            left: -5%;
            width: 110%;
            height: 110%;
            background: 
                radial-gradient(ellipse 40% 35% at 30% 40%, rgba(0, 255, 200, 0.30) 0%, transparent 60%),
                radial-gradient(ellipse 35% 40% at 70% 60%, rgba(255, 0, 200, 0.28) 0%, transparent 60%),
                radial-gradient(ellipse 45% 40% at 50% 20%, rgba(255, 150, 0, 0.22) 0%, transparent 60%),
                radial-gradient(ellipse 40% 45% at 40% 80%, rgba(100, 0, 255, 0.26) 0%, transparent 60%);
            animation: mistDrift 30s ease-in-out infinite reverse;
            mix-blend-mode: screen;
            opacity: 0.30;
            /* GPU acceleration */
            will-change: transform;
            backface-visibility: hidden;
            transform: translateZ(0);
        }

        /* OPTIMIZED: Removed filter:hue-rotate - transform only for GPU acceleration */
        @keyframes mistFloat {
            0%, 100% {
                transform: translateZ(0) translate(0, 0) scale(1);
            }
            33% {
                transform: translateZ(0) translate(3%, -2%) scale(1.02);
            }
            66% {
                transform: translateZ(0) translate(-2%, 3%) scale(0.98);
            }
        }

        /* OPTIMIZED: Removed opacity animation - transform only */
        @keyframes mistDrift {
            0%, 100% {
                transform: translateZ(0) translate(0, 0) rotate(0deg);
            }
            50% {
                transform: translateZ(0) translate(-3%, 2%) rotate(2deg);
            }
        }

        /* Oil slick - subtle iridescence */
        .oil-slick {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            background: 
                linear-gradient(135deg, 
                    rgba(255, 0, 128, 0.05) 0%, 
                    rgba(0, 255, 255, 0.05) 25%, 
                    rgba(255, 100, 0, 0.05) 50%, 
                    rgba(128, 0, 255, 0.05) 75%,
                    rgba(0, 255, 128, 0.05) 100%
                );
            background-size: 400% 400%;
            animation: oilSlickShift 15s ease-in-out infinite, oilSlickFadeIn 2s ease-out 0.6s forwards;
            mix-blend-mode: color-dodge;
            opacity: 0;
        }

        @keyframes oilSlickShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* ========== WAVY FLUTTER OVERLAY - REMOVED ========== */
        .wavy-flutter {
            display: none !important;
        }

        @keyframes flutterContainerFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .flutter-wave {
            position: absolute;
            background: transparent;
            mix-blend-mode: screen;
            animation-fill-mode: both;
            /* GPU acceleration */
            will-change: transform, opacity;
            backface-visibility: hidden;
        }

        /* Wave 1 - horizontal ripple - OPTIMIZED: single animation, reduced blur */
        .flutter-wave-1 {
            width: 144%;
            height: 36%;
            left: -12%;
            top: 15%;
            background: 
                repeating-linear-gradient(
                    90deg,
                    transparent 0%,
                    currentColor 2%,
                    transparent 4%,
                    transparent 8%
                );
            color: rgba(0, 255, 220, 0.16);
            animation: waveRippleCombined1 18s ease-in-out infinite;
            filter: blur(12px);
            transform: translateZ(0);
        }

        /* Wave 2 - curved aurora - OPTIMIZED: single animation, reduced blur */
        .flutter-wave-2 {
            width: 96%;
            height: 60%;
            left: 12%;
            top: 30%;
            background: 
                radial-gradient(ellipse 100% 20% at 50% 30%, currentColor 0%, transparent 50%),
                radial-gradient(ellipse 80% 15% at 30% 60%, currentColor 0%, transparent 45%),
                radial-gradient(ellipse 90% 18% at 70% 45%, currentColor 0%, transparent 48%);
            color: rgba(200, 0, 255, 0.14);
            animation: waveRippleCombined2 24s ease-in-out infinite;
            animation-delay: -8s;
            filter: blur(16px);
            transform: translateZ(0);
        }

        /* OPTIMIZED: Combined transform + opacity into single keyframes (no color shift) */
        @keyframes waveRippleCombined1 {
            0%, 100% { 
                transform: translateZ(0) translateX(0) scaleY(1) skewX(0deg);
                opacity: 0.12;
            }
            25% { 
                transform: translateZ(0) translateX(3%) scaleY(1.2) skewX(2deg);
                opacity: 0.2;
            }
            50% { 
                transform: translateZ(0) translateX(-2%) scaleY(0.85) skewX(-1deg);
                opacity: 0.15;
            }
            75% { 
                transform: translateZ(0) translateX(4%) scaleY(1.1) skewX(1deg);
                opacity: 0.22;
            }
        }

        @keyframes waveRippleCombined2 {
            0%, 100% { 
                transform: translateZ(0) translate(0, 0) scale(1) rotate(0deg);
                opacity: 0.1;
            }
            25% { 
                transform: translateZ(0) translate(2%, 4%) scale(1.1) rotate(1.5deg);
                opacity: 0.18;
            }
            50% { 
                transform: translateZ(0) translate(-2%, -2%) scale(0.92) rotate(-1deg);
                opacity: 0.12;
            }
            75% { 
                transform: translateZ(0) translate(3%, 2%) scale(1.05) rotate(1deg);
                opacity: 0.2;
            }
        }

        /* Legacy keyframes kept for any other usage */
        @keyframes waveRipple1 {
            0%, 100% { 
                transform: translateX(0) scaleY(1) skewX(0deg); 
            }
            25% { 
                transform: translateX(3%) scaleY(1.3) skewX(2deg); 
            }
            50% { 
                transform: translateX(-2%) scaleY(0.8) skewX(-1deg); 
            }
            75% { 
                transform: translateX(4%) scaleY(1.1) skewX(1deg); 
            }
        }

        @keyframes waveRipple4 {
            0%, 100% { 
                transform: translate(0, 0) scale(1) rotate(0deg); 
            }
            25% { 
                transform: translate(2%, 5%) scale(1.15) rotate(2deg); 
            }
            50% { 
                transform: translate(-3%, -2%) scale(0.9) rotate(-1deg); 
            }
            75% { 
                transform: translate(4%, 3%) scale(1.1) rotate(1deg); 
            }
        }

        @keyframes waveColorShift {
            0%, 100% { 
                color: rgba(0, 255, 220, 0.18); 
            }
            20% { 
                color: rgba(200, 0, 255, 0.16); 
            }
            40% { 
                color: rgba(255, 80, 180, 0.17); 
            }
            60% { 
                color: rgba(80, 255, 150, 0.16); 
            }
            80% { 
                color: rgba(0, 150, 255, 0.18); 
            }
        }

        @keyframes waveBreathe {
            0%, 100% { 
                opacity: 0.1; 
            }
            50% { 
                opacity: 0.25; 
            }
        }

        /* ========== LIQUID MORPHING OVERLAY ========== */
        .liquid-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 3;
            overflow: hidden;
            opacity: 0;
            animation: overlayFadeIn 2s ease-out 0.7s forwards;
            filter: saturate(1.0);
            /* Isolate blend mode scope for mobile GPU stability */
            isolation: isolate;
        }

        .liquid-overlay::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(ellipse 80% 60% at 20% 30%, rgba(255, 0, 255, 0.5) 0%, transparent 50%),
                radial-gradient(ellipse 60% 80% at 80% 70%, rgba(0, 255, 200, 0.5) 0%, transparent 50%),
                radial-gradient(ellipse 70% 70% at 50% 50%, rgba(255, 100, 0, 0.45) 0%, transparent 45%),
                radial-gradient(ellipse 50% 90% at 30% 80%, rgba(100, 0, 255, 0.45) 0%, transparent 50%),
                radial-gradient(ellipse 90% 50% at 70% 20%, rgba(0, 200, 255, 0.45) 0%, transparent 50%);
            animation: liquidMorph 18s ease-in-out infinite;
            mix-blend-mode: screen;
            opacity: 0.9;
        }

        .liquid-overlay::after {
            content: '';
            position: absolute;
            top: -30%;
            left: -30%;
            width: 160%;
            height: 160%;
            background: 
                radial-gradient(ellipse 100% 40% at 0% 50%, rgba(0, 255, 255, 0.45) 0%, transparent 60%),
                radial-gradient(ellipse 40% 100% at 100% 50%, rgba(255, 0, 200, 0.45) 0%, transparent 60%),
                radial-gradient(ellipse 60% 60% at 50% 0%, rgba(255, 150, 0, 0.4) 0%, transparent 55%),
                radial-gradient(ellipse 60% 60% at 50% 100%, rgba(150, 0, 255, 0.4) 0%, transparent 55%);
            animation: liquidWave 22s ease-in-out infinite reverse;
            mix-blend-mode: screen;
            opacity: 0.85;
        }

        /* OPTIMIZED: Removed filter:hue-rotate - transform only for GPU acceleration */
        @keyframes liquidMorph {
            0%, 100% {
                transform: translate(0%, 0%) rotate(0deg) scale(1);
            }
            20% {
                transform: translate(5%, -8%) rotate(5deg) scale(1.05);
            }
            40% {
                transform: translate(-8%, 5%) rotate(-3deg) scale(0.95);
            }
            60% {
                transform: translate(3%, 8%) rotate(8deg) scale(1.08);
            }
            80% {
                transform: translate(-5%, -3%) rotate(-5deg) scale(0.98);
            }
        }

        /* OPTIMIZED: Removed filter animation - transform only for GPU acceleration */
        @keyframes liquidWave {
            0%, 100% {
                transform: translate(0%, 0%) skewX(0deg) scale(1);
            }
            25% {
                transform: translate(-5%, 3%) skewX(2deg) scale(1.03);
            }
            50% {
                transform: translate(8%, -5%) skewX(-3deg) scale(0.97);
            }
            75% {
                transform: translate(-3%, -8%) skewX(1deg) scale(1.05);
            }
        }

        /* ========== COLOR SPLOTCH OVERLAY - Per-section subtle spotlights ========== */
        .color-splotches {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            overflow: hidden;
            opacity: 0;
            animation: overlayFadeIn 2.5s ease-out 0.6s forwards;
            filter: saturate(1.0);
        }

        .splotch {
            position: absolute;
            border-radius: 50%;
            mix-blend-mode: overlay;
            filter: blur(25px);
            opacity: 0.08;
            animation-fill-mode: both;
        }

        .splotch-1 {
            width: 42vw;
            height: 42vw;
            max-width: 540px;
            max-height: 540px;
            background: radial-gradient(circle, rgba(255, 0, 255, 0.45) 0%, rgba(255, 0, 200, 0.30) 30%, rgba(200, 0, 255, 0.15) 60%, transparent 80%);
            left: 10%;
            top: 10%;
            animation: spotlightMove1 60s ease-in-out infinite;
        }

        .splotch-2 {
            width: 36vw;
            height: 36vw;
            max-width: 480px;
            max-height: 480px;
            background: radial-gradient(circle, rgba(0, 255, 255, 0.45) 0%, rgba(0, 255, 200, 0.30) 30%, rgba(0, 200, 255, 0.15) 60%, transparent 80%);
            right: 15%;
            top: 20%;
            animation: spotlightMove2 75s ease-in-out infinite;
        }

        .splotch-3 {
            width: 48vw;
            height: 48vw;
            max-width: 600px;
            max-height: 600px;
            background: radial-gradient(circle, rgba(255, 200, 0, 0.45) 0%, rgba(255, 150, 0, 0.30) 30%, rgba(255, 100, 0, 0.15) 60%, transparent 80%);
            left: 30%;
            bottom: 5%;
            animation: spotlightMove3 90s ease-in-out infinite;
        }

        .splotch-4 {
            width: 34vw;
            height: 34vw;
            max-width: 420px;
            max-height: 420px;
            background: radial-gradient(circle, rgba(0, 255, 150, 0.45) 0%, rgba(50, 255, 200, 0.30) 30%, rgba(0, 200, 150, 0.15) 60%, transparent 80%);
            right: 25%;
            bottom: 20%;
            animation: spotlightMove4 70s ease-in-out infinite;
        }

        @keyframes spotlightMove1 {
            0%, 100% { transform: translate(0, 0); opacity: 0.06; }
            25% { transform: translate(30%, 15%); opacity: 0.1; }
            50% { transform: translate(20%, 40%); opacity: 0.05; }
            75% { transform: translate(10%, 25%); opacity: 0.08; }
        }

        @keyframes spotlightMove2 {
            0%, 100% { transform: translate(0, 0); opacity: 0.08; }
            25% { transform: translate(-25%, 20%); opacity: 0.05; }
            50% { transform: translate(-15%, 35%); opacity: 0.1; }
            75% { transform: translate(-35%, 10%); opacity: 0.06; }
        }

        @keyframes spotlightMove3 {
            0%, 100% { transform: translate(0, 0); opacity: 0.06; }
            25% { transform: translate(15%, -20%); opacity: 0.08; }
            50% { transform: translate(-10%, -15%); opacity: 0.1; }
            75% { transform: translate(25%, -30%); opacity: 0.05; }
        }

        @keyframes spotlightMove4 {
            0%, 100% { transform: translate(0, 0); opacity: 0.08; }
            25% { transform: translate(-20%, -18%); opacity: 0.06; }
            50% { transform: translate(18%, -10%); opacity: 0.1; }
            75% { transform: translate(-8%, 8%); opacity: 0.05; }
        }

        /* ========== GROWING VINE/PLANT OVERLAY - Per-section Organic Growth ========== */
        .psych-fractals {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 3;
            overflow: hidden;
            opacity: 0;
            animation: overlayFadeIn 3s ease-out 0.8s forwards;
            filter: saturate(1.0);
        }

        .fractal-elem {
            position: absolute;
            mix-blend-mode: screen;
            opacity: 0.25;
            animation-fill-mode: both;
            filter: blur(12px);
        }

        /* Vine 1 - Left side climbing tendril */
        .fractal-elem-1 {
            width: 48vw;
            height: 108vh;
            max-width: 600px;
            left: -5%;
            top: 5%;
            background: 
                radial-gradient(ellipse 30% 8% at 20% 15%, rgba(255, 0, 200, 0.5) 0%, transparent 70%),
                radial-gradient(ellipse 25% 6% at 35% 28%, rgba(200, 0, 255, 0.45) 0%, transparent 65%),
                radial-gradient(ellipse 35% 7% at 15% 42%, rgba(255, 100, 200, 0.5) 0%, transparent 70%),
                radial-gradient(ellipse 28% 5% at 40% 55%, rgba(255, 0, 150, 0.45) 0%, transparent 65%),
                radial-gradient(ellipse 32% 8% at 25% 68%, rgba(180, 0, 255, 0.5) 0%, transparent 70%),
                radial-gradient(ellipse 22% 6% at 45% 80%, rgba(255, 50, 180, 0.45) 0%, transparent 65%),
                radial-gradient(ellipse 30% 7% at 18% 92%, rgba(220, 0, 200, 0.5) 0%, transparent 70%);
            animation: vineGrowWarp1 35s ease-in-out infinite, vineColorPulse 12s ease-in-out infinite;
            transform-origin: bottom left;
        }

        /* Vine 2 - Right side flowing branch */
        .fractal-elem-2 {
            width: 54vw;
            height: 102vh;
            max-width: 660px;
            right: -8%;
            top: 10%;
            background: 
                radial-gradient(ellipse 28% 7% at 70% 10%, rgba(0, 255, 200, 0.5) 0%, transparent 70%),
                radial-gradient(ellipse 35% 6% at 55% 25%, rgba(0, 200, 255, 0.45) 0%, transparent 65%),
                radial-gradient(ellipse 25% 8% at 75% 38%, rgba(100, 255, 200, 0.5) 0%, transparent 70%),
                radial-gradient(ellipse 32% 5% at 60% 52%, rgba(0, 255, 180, 0.45) 0%, transparent 65%),
                radial-gradient(ellipse 28% 7% at 80% 65%, rgba(50, 255, 220, 0.5) 0%, transparent 70%),
                radial-gradient(ellipse 30% 6% at 65% 78%, rgba(0, 220, 255, 0.45) 0%, transparent 65%),
                radial-gradient(ellipse 25% 8% at 72% 90%, rgba(80, 255, 200, 0.5) 0%, transparent 70%);
            animation: vineGrowWarp2 40s ease-in-out infinite, vineColorPulse 15s ease-in-out infinite reverse;
            animation-delay: -8s, -5s;
            transform-origin: top right;
        }

        /* Vine 3 - Bottom spreading roots */
        .fractal-elem-3 {
            width: 120%;
            height: 60vh;
            left: -10%;
            bottom: -10%;
            background: 
                radial-gradient(ellipse 12% 40% at 15% 70%, rgba(255, 150, 0, 0.5) 0%, transparent 70%),
                radial-gradient(ellipse 10% 35% at 30% 60%, rgba(255, 100, 50, 0.45) 0%, transparent 65%),
                radial-gradient(ellipse 15% 45% at 50% 75%, rgba(255, 200, 100, 0.5) 0%, transparent 70%),
                radial-gradient(ellipse 8% 38% at 65% 55%, rgba(255, 120, 0, 0.45) 0%, transparent 65%),
                radial-gradient(ellipse 12% 42% at 85% 68%, rgba(255, 180, 50, 0.5) 0%, transparent 70%);
            animation: vineGrowWarp3 45s ease-in-out infinite, vineColorPulse 18s ease-in-out infinite;
            animation-delay: -15s, -10s;
            transform-origin: bottom center;
        }

        /* Vine 5 - Central spiral growth */
        .fractal-elem-5 {
            width: 50vw;
            height: 60vh;
            max-width: 600px;
            left: 25%;
            top: 20%;
            background: 
                radial-gradient(ellipse 20% 20% at 30% 30%, rgba(255, 80, 150, 0.45) 0%, transparent 65%),
                radial-gradient(ellipse 25% 15% at 50% 45%, rgba(150, 80, 255, 0.4) 0%, transparent 60%),
                radial-gradient(ellipse 18% 22% at 70% 35%, rgba(255, 120, 180, 0.45) 0%, transparent 65%),
                radial-gradient(ellipse 22% 18% at 45% 65%, rgba(180, 50, 255, 0.4) 0%, transparent 60%),
                radial-gradient(ellipse 15% 25% at 60% 75%, rgba(220, 80, 200, 0.45) 0%, transparent 65%);
            animation: vineGrowWarp5 32s ease-in-out infinite, vineColorPulse 10s ease-in-out infinite;
            animation-delay: -12s, -7s;
            transform-origin: center center;
        }

        /* Vine 6 - Corner accent tendril */
        .fractal-elem-6 {
            width: 35vw;
            height: 50vh;
            max-width: 420px;
            left: 5%;
            bottom: 15%;
            background: 
                radial-gradient(ellipse 25% 10% at 30% 20%, rgba(0, 220, 180, 0.5) 0%, transparent 70%),
                radial-gradient(ellipse 20% 12% at 50% 40%, rgba(100, 255, 220, 0.45) 0%, transparent 65%),
                radial-gradient(ellipse 28% 8% at 35% 60%, rgba(50, 255, 200, 0.5) 0%, transparent 70%),
                radial-gradient(ellipse 22% 10% at 55% 80%, rgba(0, 255, 150, 0.45) 0%, transparent 65%);
            animation: vineGrowWarp6 28s ease-in-out infinite, vineColorPulse 11s ease-in-out infinite reverse;
            animation-delay: -20s, -8s;
            transform-origin: bottom left;
        }

        /* Complex warping growth animations */
        @keyframes vineGrowWarp1 {
            0%, 100% { 
                transform: translate(0, 0) scale(0.7) rotate(-5deg) skewY(0deg); 
                opacity: 0.18;
                border-radius: 60% 40% 50% 50%;
            }
            20% { 
                transform: translate(8%, -5%) scale(1.1) rotate(8deg) skewY(3deg); 
                opacity: 0.32;
                border-radius: 40% 60% 45% 55%;
            }
            40% { 
                transform: translate(3%, 10%) scale(0.9) rotate(-3deg) skewY(-2deg); 
                opacity: 0.25;
                border-radius: 55% 45% 60% 40%;
            }
            60% { 
                transform: translate(-5%, 5%) scale(1.2) rotate(12deg) skewY(4deg); 
                opacity: 0.35;
                border-radius: 45% 55% 40% 60%;
            }
            80% { 
                transform: translate(6%, -8%) scale(0.85) rotate(-8deg) skewY(-3deg); 
                opacity: 0.22;
                border-radius: 50% 50% 55% 45%;
            }
        }

        @keyframes vineGrowWarp2 {
            0%, 100% { 
                transform: translate(0, 0) scale(0.75) rotate(5deg) skewX(0deg); 
                opacity: 0.2;
                border-radius: 45% 55% 50% 50%;
            }
            25% { 
                transform: translate(-10%, 8%) scale(1.15) rotate(-10deg) skewX(-4deg); 
                opacity: 0.35;
                border-radius: 55% 45% 40% 60%;
            }
            50% { 
                transform: translate(5%, -5%) scale(0.85) rotate(15deg) skewX(3deg); 
                opacity: 0.22;
                border-radius: 40% 60% 55% 45%;
            }
            75% { 
                transform: translate(-8%, -10%) scale(1.25) rotate(-5deg) skewX(-2deg); 
                opacity: 0.38;
                border-radius: 60% 40% 45% 55%;
            }
        }

        @keyframes vineGrowWarp3 {
            0%, 100% { 
                transform: translate(0, 0) scaleX(0.8) scaleY(0.6) rotate(0deg); 
                opacity: 0.15;
                border-radius: 50% 50% 30% 30%;
            }
            33% { 
                transform: translate(5%, -15%) scaleX(1.3) scaleY(1.1) rotate(3deg); 
                opacity: 0.32;
                border-radius: 45% 55% 25% 35%;
            }
            66% { 
                transform: translate(-8%, -8%) scaleX(0.9) scaleY(1.4) rotate(-2deg); 
                opacity: 0.28;
                border-radius: 55% 45% 35% 25%;
            }
        }

        @keyframes vineGrowWarp5 {
            0%, 100% { 
                transform: translate(0, 0) scale(0.6) rotate(0deg); 
                opacity: 0.15;
                border-radius: 50%;
            }
            20% { 
                transform: translate(10%, 8%) scale(1.0) rotate(45deg); 
                opacity: 0.28;
                border-radius: 60% 40% 55% 45%;
            }
            40% { 
                transform: translate(-5%, 15%) scale(1.3) rotate(90deg); 
                opacity: 0.38;
                border-radius: 45% 55% 40% 60%;
            }
            60% { 
                transform: translate(8%, -5%) scale(0.9) rotate(135deg); 
                opacity: 0.25;
                border-radius: 55% 45% 60% 40%;
            }
            80% { 
                transform: translate(-10%, 5%) scale(1.15) rotate(180deg); 
                opacity: 0.32;
                border-radius: 40% 60% 45% 55%;
            }
        }

        @keyframes vineGrowWarp6 {
            0%, 100% { 
                transform: translate(0, 0) scale(0.7) rotate(-10deg) skewY(0deg) skewX(0deg); 
                opacity: 0.18;
                border-radius: 55% 45% 50% 50%;
            }
            25% { 
                transform: translate(12%, -8%) scale(1.2) rotate(15deg) skewY(5deg) skewX(-3deg); 
                opacity: 0.35;
                border-radius: 45% 55% 60% 40%;
            }
            50% { 
                transform: translate(-5%, 12%) scale(0.85) rotate(-20deg) skewY(-3deg) skewX(4deg); 
                opacity: 0.22;
                border-radius: 60% 40% 45% 55%;
            }
            75% { 
                transform: translate(8%, 5%) scale(1.1) rotate(25deg) skewY(4deg) skewX(-2deg); 
                opacity: 0.3;
                border-radius: 40% 60% 55% 45%;
            }
        }

        /* OPTIMIZED: Removed hue-rotate/brightness - opacity-only pulse */
        @keyframes vineColorPulse {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 0.35; }
        }

        /* Home section - centered between nav and music player */
        .home-section {
            padding-top: 70px; /* Space for nav */
            padding-bottom: 100px; /* Space for music player */
            justify-content: center;
            align-items: center;
            gap: 1.2rem; /* Extra spacing between title, image, buttons, scroll indicator */
        }

        .home-section h1 {
            margin: 0;
            margin-bottom: -0.75rem; /* Nudge closer to image */
            flex-shrink: 0;
            font-size: clamp(4rem, 13vw, 7rem); /* Even bigger title (+6) */
        }

        .home-section .subtitle {
            flex-shrink: 0;
        }

        /* Hero image container - holds image and announcement overlay */
        .hero-image-container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-shrink: 1;
            flex-grow: 0;
            z-index: 10;
        }

        .home-section .hero-image {
            margin: 0;
            display: block;
            position: relative;
            z-index: 1;
        }

        /* Album announcement text - positioned on top of image */
        .album-announcement {
            position: absolute;
            top: 8%;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Poppins', sans-serif;
            color: #ffffff;
            font-size: 0.75rem;
            font-weight: 400;
            letter-spacing: 0.5px;
            margin: 0;
            padding: 0.25rem 0.7rem;
            text-align: center;
            z-index: 2;
            white-space: nowrap;
            opacity: 0.78;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8), 0 0 20px rgba(0, 0, 0, 0.6);
        }

        /* Home page social links - compact horizontal strip */
        .home-social-links {
            display: flex;
            flex-wrap: wrap;
            gap: 1.2rem 1.5rem; /* More vertical and horizontal spacing */
            justify-content: center;
            position: relative;
            z-index: 10;
            max-width: 100%;
            padding: 0 1rem;
            flex-shrink: 0;
        }

        .home-social-btn {
            padding: 0.5rem 1.2rem;
            background: rgba(0, 0, 0, 0.6);
            border-radius: 25px;
            border: 2px solid transparent;
            text-decoration: none;
            white-space: nowrap;
            position: relative;
            /* Font styling - match nav exactly, but bold */
            font-weight: 700;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            /* White text, no glow normally */
            color: #ffffff;
            -webkit-text-fill-color: #ffffff;
            -webkit-text-stroke: 0px transparent;
            text-shadow: none;
            /* GPU acceleration */
            -webkit-transform: translateZ(0) scale(1);
            transform: translateZ(0) scale(1);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            -webkit-transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                                background 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                                color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                                -webkit-text-stroke 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                                text-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                        background 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                        color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                        -webkit-text-stroke 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                        text-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Static border overlay - hidden until hover */
        .home-social-btn::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 27px;
            /* Match title 2px white stroke */
            border: 2px solid #ffffff;
            opacity: 0;
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
            -webkit-transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
        }
        
        /* Static glow - hidden until hover */
        .home-social-btn::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 27px;
            opacity: 0;
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
            -webkit-transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
            /* Match title glow pattern - cyan close, magenta far */
            box-shadow: 
                0 0 10px rgba(0, 255, 255, 0.8),
                0 0 20px rgba(0, 255, 255, 0.6),
                0 0 40px rgba(255, 0, 255, 0.5),
                0 0 60px rgba(255, 0, 255, 0.3);
        }

        /* Nudge social links down from image */
        .home-social-links {
            margin-top: 0.8rem;
        }

        .home-social-btn:hover {
            -webkit-transform: translateZ(0) scale(1.05);
            transform: translateZ(0) scale(1.05);
            background: rgba(0, 0, 0, 0.7);
            /* Add glow on hover */
            -webkit-text-stroke: 1px #ffffff;
            paint-order: stroke fill;
            text-shadow: 
                0 0 10px rgba(0, 255, 255, 0.8),
                0 0 20px rgba(0, 255, 255, 0.6),
                0 0 40px rgba(255, 0, 255, 0.5),
                0 0 60px rgba(255, 0, 255, 0.3);
        }
        
        .home-social-btn:hover::before,
        .home-social-btn:hover::after {
            opacity: 1;
        }

        /* Lava lamp blobs - faster, more fluid */
        .lava-blobs {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            overflow: hidden;
            opacity: 0;
            -webkit-animation: overlayFadeIn 2s ease-out 0.4s forwards;
            animation: overlayFadeIn 2s ease-out 0.4s forwards;
            filter: saturate(1.0);
            /* Isolate blend modes for mobile GPU stability */
            isolation: isolate;
        }

        .lava-blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(35px);
            mix-blend-mode: screen;
            -webkit-animation: lavaFloat 8s ease-in-out infinite, lavaPulse 4s ease-in-out infinite, lavaWarp 6s ease-in-out infinite;
            animation: lavaFloat 8s ease-in-out infinite, lavaPulse 4s ease-in-out infinite, lavaWarp 6s ease-in-out infinite;
            animation-fill-mode: both;
            /* GPU layer for each blob */
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .lava-blob:nth-child(1) {
            width: 360px;
            height: 360px;
            background: radial-gradient(circle, rgba(255, 0, 255, 0.25) 0%, transparent 70%);
            left: 5%;
            top: 15%;
            animation-duration: 7s, 3.5s, 5s;
        }

        .lava-blob:nth-child(2) {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(0, 255, 204, 0.25) 0%, transparent 70%);
            right: 10%;
            top: 35%;
            animation-delay: -2s, -1s, -3s;
            animation-duration: 6s, 3s, 4.5s;
        }

        /* Removed filter animation from lavaPulse - animating blur is very expensive */
        @keyframes lavaPulse {
            0%, 100% { opacity: 0.2; transform: scale(1); }
            50% { opacity: 0.35; transform: scale(1.1); }
        }

        @keyframes lavaFloat {
            0%, 100% { transform: translate(0, 0) scale(1); }
            20% { transform: translate(50px, -60px) scale(1.15); }
            40% { transform: translate(-30px, 40px) scale(0.9); }
            60% { transform: translate(60px, 20px) scale(1.1); }
            80% { transform: translate(-40px, -30px) scale(0.95); }
        }

        @keyframes lavaWarp {
            0%, 100% { border-radius: 50%; }
            25% { border-radius: 60% 40% 55% 45% / 45% 55% 45% 55%; }
            50% { border-radius: 45% 55% 40% 60% / 55% 45% 60% 40%; }
            75% { border-radius: 55% 45% 60% 40% / 40% 60% 45% 55%; }
        }

        /* Bubbles */
        .bubble {
            position: absolute;
            border-radius: 50%;
            animation: bubbleRise linear infinite;
            pointer-events: none;
            mix-blend-mode: screen;
        }

        .bubble:nth-child(3) { width: 10px; height: 10px; left: 12%; bottom: -50px; background: radial-gradient(circle at 30% 30%, rgba(0, 255, 204, 0.5), transparent 70%); animation-duration: 8s; }
        .bubble:nth-child(4) { width: 42px; height: 42px; left: 45%; bottom: -50px; background: radial-gradient(circle at 30% 30%, rgba(255, 0, 255, 0.4), transparent 70%); animation-duration: 16s; animation-delay: -4s; }
        .bubble:nth-child(5) { width: 60px; height: 60px; left: 78%; bottom: -50px; background: radial-gradient(circle at 30% 30%, rgba(255, 100, 0, 0.35), transparent 70%); animation-duration: 20s; animation-delay: -8s; }

        @keyframes bubbleRise {
            0% { transform: translateY(0) translateX(0); opacity: 0.5; }
            50% { transform: translateY(-55vh) translateX(15px); opacity: 0.4; }
            100% { transform: translateY(-110vh) translateX(-10px); opacity: 0; }
        }

        /* Section backgrounds */
        #home::before { background-image: url('Images/LiquidLight4.jpg'); }
        #about::before { background-image: url('Images/LiquidLight2.jpg'); }
        #videos::before { background-image: url('Images/LiquidLight6.jpg'); }
        #photos::before { background-image: url('Images/LiquidLight6.jpg'); animation: backgroundBreatheFlippedBoth 24s ease-in-out infinite; }
        
        /* Photos section - extra top padding for subtitle clearance */
        #photos {
            padding-top: 80px;
        }
        
        #game::before { background-image: url('Images/LiquidLight1.jpg'); }
        
        /* ========== GAME SECTION - PERFORMANCE OPTIMIZED ========== */
        /* Minimal psychedelic effect using GPU-efficient hue-rotate */
        #game {
            position: relative;
        }
        
        /* Disable all heavy overlays on game section */
        #game .chrome-color-sweep,
        #game .chrome-shimmer,
        #game .color-mist,
        #game .liquid-overlay,
        #game .oil-slick,
        #game .wavy-flutter,
        #game .color-splotches,
        #game .lava-blobs {
            display: none !important;
            animation: none !important;
        }
        
        /* Simple color-cycling overlay using hue-rotate (GPU-accelerated) */
        #game::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 1;
            background: linear-gradient(
                135deg,
                rgba(0, 255, 255, 0.08) 0%,
                rgba(255, 0, 255, 0.06) 25%,
                rgba(255, 100, 0, 0.05) 50%,
                rgba(0, 255, 128, 0.06) 75%,
                rgba(0, 255, 255, 0.08) 100%
            );
            background-size: 400% 400%;
            animation: gameColorCycle 12s ease-in-out infinite;
            will-change: background-position;
        }
        
        @keyframes gameColorCycle {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        /* Keep darken overlay static */
        #game .darken-overlay {
            animation: none !important;
            opacity: 0.75 !important;
        }
        
        /* Keep fade overlay static */
        #game .fade-overlay {
            animation: none !important;
        }
        
        /* Static background - no breathing animation */
        #game::before {
            animation: none !important;
            transform: scale(1.02) !important;
        }
        
        /* Tablet: Keep animation but slower for battery/performance */
        @media (min-width: 769px) and (max-width: 1400px) and (pointer: coarse) {
            #game::after {
                animation: gameColorCycle 20s ease-in-out infinite; /* Slower = less GPU work */
            }
        }
        
        /* Mobile: Static gradient, no animation (handled by existing @media query) */
        @media (max-width: 768px) {
            #game::after {
                animation: none !important;
                background-position: 50% 50% !important;
                opacity: 0.5 !important;
            }
        }
        
        #merch::before { background-image: url('Images/LiquidLight5.jpg'); }
        #events::before { background-image: url('Images/LiquidLight3.jpg'); }
        #logo-outro::before { background-image: url('Images/LiquidLight4.jpg'); animation: backgroundBreatheFlippedH 24s ease-in-out infinite; }

        @keyframes backgroundBreatheFlippedBoth {
            0%, 100% { transform: scale(-1, -1) scale(1); }
            50% { transform: scale(-1, -1) scale(1.05); }
        }

        @keyframes backgroundBreatheFlippedH {
            0%, 100% { transform: scaleX(-1) scale(1); }
            50% { transform: scaleX(-1) scale(1.04); }
        }

        /* Logo outro section */
        #logo-outro {
            min-height: 100vh;
            min-height: 100dvh;
            height: 100vh;
            height: 100dvh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .psychedelic-logo-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            padding: 0.35rem;
            border-radius: 30px;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary), var(--color-accent), var(--color-primary));
            background-size: 400% 400%;
            -webkit-animation: gradientFlow 8s ease infinite;
            animation: gradientFlow 8s ease infinite;
            box-shadow: 0 30px 80px rgba(0, 255, 204, 0.4);
            z-index: 10;
            /* GPU layer for animation stability */
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .psychedelic-logo {
            width: 100%;
            height: auto;
            display: block;
            filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.5));
            /* GPU layer */
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        /* Medium logo for Bio section - smaller with equal spacing */
        .medium-logo-container {
            position: relative;
            width: 100%;
            max-width: 140px;
            padding: 0.2rem;
            border-radius: 16px;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary), var(--color-accent), var(--color-primary));
            background-size: 400% 400%;
            -webkit-animation: gradientFlow 8s ease infinite;
            animation: gradientFlow 8s ease infinite;
            box-shadow: 0 12px 30px rgba(0, 255, 204, 0.35);
            z-index: 10;
            margin-top: 2rem;
            /* GPU layer */
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .medium-logo {
            width: 100%;
            height: auto;
            display: block;
            filter: drop-shadow(0 8px 25px rgba(0, 0, 0, 0.5));
            /* GPU layer */
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 0.75rem 1.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1.5rem;
            z-index: 9999; /* Above transition overlay (9998) */
            background: rgba(10, 10, 10, 0.92);
            -webkit-backdrop-filter: blur(12px);
            backdrop-filter: blur(12px);
            -webkit-animation: navGlowRainbow 4s ease-in-out infinite;
            animation: navGlowRainbow 4s ease-in-out infinite;
            /* GPU layer for fixed element stability on mobile */
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            isolation: isolate;
        }

        nav::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1.5px;
            background: linear-gradient(90deg, transparent 0%, var(--color-primary) 10%, var(--color-secondary) 25%, var(--color-accent) 40%, var(--color-primary) 55%, var(--color-secondary) 70%, var(--color-accent) 85%, transparent 100%);
            background-size: 200% 100%;
            -webkit-animation: borderFlow 4s linear infinite;
            animation: borderFlow 4s linear infinite;
        }

        @-webkit-keyframes borderFlow { 0% { background-position: 0% 50%; } 100% { background-position: 200% 50%; } }
        @keyframes borderFlow { 0% { background-position: 0% 50%; } 100% { background-position: 200% 50%; } }

        /* Mobile border animation - slightly slower for battery efficiency */
        @-webkit-keyframes mobileBorderFlow { 
            0% { background-position: 0% 50%; } 
            100% { background-position: 200% 50%; } 
        }
        @keyframes mobileBorderFlow { 
            0% { background-position: 0% 50%; } 
            100% { background-position: 200% 50%; } 
        }

        @-webkit-keyframes navGlowRainbow {
            0%, 100% { box-shadow: 0 8px 32px rgba(0, 255, 204, 0.5), 0 0 50px rgba(0, 255, 204, 0.4); }
            33% { box-shadow: 0 8px 32px rgba(255, 0, 255, 0.6), 0 0 60px rgba(255, 0, 255, 0.5); }
            66% { box-shadow: 0 8px 32px rgba(255, 100, 0, 0.5), 0 0 55px rgba(255, 100, 0, 0.4); }
        }
        @keyframes navGlowRainbow {
            0%, 100% { box-shadow: 0 8px 32px rgba(0, 255, 204, 0.5), 0 0 50px rgba(0, 255, 204, 0.4); }
            33% { box-shadow: 0 8px 32px rgba(255, 0, 255, 0.6), 0 0 60px rgba(255, 0, 255, 0.5); }
            66% { box-shadow: 0 8px 32px rgba(255, 100, 0, 0.5), 0 0 55px rgba(255, 100, 0, 0.4); }
        }

        .nav-animated-logo-container {
            position: relative;
            height: 32px;
            padding: 0.1rem;
            border-radius: 8px;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary), var(--color-accent), var(--color-primary));
            background-size: 400% 400%;
            animation: gradientFlow 8s ease infinite;
            box-shadow: 0 3px 12px rgba(0, 255, 204, 0.4);
            transition: transform 0.3s ease;
            text-decoration: none;
            /* GPU layer to prevent mobile flickering */
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .nav-animated-logo-container:hover {
            transform: scale(1.08);
        }

        .nav-animated-logo {
            height: 100%;
            width: auto;
            display: block;
            filter: drop-shadow(0 1px 6px rgba(0, 0, 0, 0.5));
        }

        nav ul {
            display: flex;
            gap: 1.2rem;
            list-style: none;
            align-items: center;
        }

        /* Menu links - white text normally */
        nav a:not(.nav-animated-logo-container) {
            text-decoration: none;
            font-weight: 600;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            border: 2px solid transparent;
            background: transparent;
            /* GPU acceleration for smooth animations */
            -webkit-transform: translateZ(0) scale(1);
            transform: translateZ(0) scale(1);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            -webkit-perspective: 1000px;
            perspective: 1000px;
            will-change: transform, opacity;
            /* Smooth easing with cubic-bezier - no font-size transition */
            -webkit-transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                                background 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                                color 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                                -webkit-text-stroke 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                                text-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                        background 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                        color 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                        -webkit-text-stroke 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                        text-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            /* White text normally */
            color: #ffffff;
            -webkit-text-fill-color: #ffffff;
            -webkit-text-stroke: 0px transparent;
            text-shadow: none;
        }

        /* Hidden hover text layer - white fill + white stroke on hover */
        nav a:not(.nav-animated-logo-container) span.menu-text-color {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            /* GPU acceleration */
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            will-change: opacity;
            /* Smooth easing */
            -webkit-transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            /* White fill + white stroke + title glow pattern */
            font-size: 0.85rem;
            font-weight: 800;
            color: #ffffff;
            -webkit-text-fill-color: #ffffff;
            -webkit-text-stroke: 1px #ffffff;
            paint-order: stroke fill;
            text-shadow: 
                0 0 10px rgba(0, 255, 255, 0.8),
                0 0 20px rgba(0, 255, 255, 0.6),
                0 0 40px rgba(255, 0, 255, 0.5),
                0 0 60px rgba(255, 0, 255, 0.3);
            pointer-events: none;
        }

        /* Static border overlay - hidden until hover */
        nav a:not(.nav-animated-logo-container)::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 27px;
            /* Static white border - matches title stroke */
            border: 2px solid #ffffff;
            opacity: 0;
            /* GPU acceleration */
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            will-change: opacity;
            /* Smooth easing */
            -webkit-transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
        }

        /* Static glow - hidden until hover */
        nav a:not(.nav-animated-logo-container)::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 27px;
            opacity: 0;
            /* GPU acceleration */
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            will-change: opacity;
            /* Smooth easing */
            -webkit-transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
            /* Match title glow pattern - cyan close, magenta far */
            box-shadow: 
                0 0 10px rgba(0, 255, 255, 0.8),
                0 0 20px rgba(0, 255, 255, 0.6),
                0 0 40px rgba(255, 0, 255, 0.5),
                0 0 60px rgba(255, 0, 255, 0.3);
        }

        nav a:not(.nav-animated-logo-container):hover {
            -webkit-transform: translateZ(0) scale(1.05);
            transform: translateZ(0) scale(1.05);
            background: rgba(0, 0, 0, 0.7);
            font-size: 0.85rem;
            font-weight: 800;
            /* White text with glow - matches social buttons */
            color: #ffffff;
            -webkit-text-fill-color: #ffffff;
            -webkit-text-stroke: 1px #ffffff;
            paint-order: stroke fill;
            text-shadow: 
                0 0 10px rgba(0, 255, 255, 0.8),
                0 0 20px rgba(0, 255, 255, 0.6),
                0 0 40px rgba(255, 0, 255, 0.5),
                0 0 60px rgba(255, 0, 255, 0.3);
        }

        nav a:not(.nav-animated-logo-container):hover span.menu-text-color {
            opacity: 0; /* Hide overlay - using direct text glow now */
        }

        nav a:not(.nav-animated-logo-container):hover::before,
        nav a:not(.nav-animated-logo-container):hover::after {
            opacity: 1;
        }

        /* Active section indicator */
        nav a:not(.nav-animated-logo-container).active {
            background: rgba(0, 255, 255, 0.15);
            text-shadow: 0 0 12px rgba(0, 255, 255, 0.8);
        }

        @-webkit-keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 100% 100%; }
            75% { background-position: 0% 100%; }
            100% { background-position: 0% 50%; }
        }
        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 100% 100%; }
            75% { background-position: 0% 100%; }
            100% { background-position: 0% 50%; }
        }

        /* MAIN TITLE - Rumble Brave with black fill and static white outline */
        /* Uses Safari-compatible static styling for cross-browser stability */
        h1 {
            font-family: 'Rumble Brave', cursive;
            font-size: 6rem;
            font-weight: 400;
            letter-spacing: 0.05em;
            text-align: center;
            text-transform: uppercase;
            margin-bottom: 2rem;
            position: relative;
            z-index: 10;
            color: #000000;
            -webkit-text-fill-color: #000000;
            paint-order: stroke fill;
            /* Static white stroke - no animation for stability */
            -webkit-text-stroke: 2px #ffffff;
            /* Static psychedelic glow */
            text-shadow: 
                0 0 10px rgba(0, 255, 255, 0.8),
                0 0 20px rgba(0, 255, 255, 0.6),
                0 0 40px rgba(255, 0, 255, 0.5),
                0 0 60px rgba(255, 0, 255, 0.3);
            /* GPU layer to prevent disappearing on mobile */
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            /* Force compositing layer for text effects */
            isolation: isolate;
        }

        @-webkit-keyframes titleOutlineGlow {
            0% { 
                -webkit-text-stroke: 2px #00ffff;
                text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 35px #00ffff, 0 0 50px #9b30ff, 0 0 80px #9b30ff;
            }
            20% { 
                -webkit-text-stroke: 2px #9b30ff;
                text-shadow: 0 0 10px #9b30ff, 0 0 20px #9b30ff, 0 0 35px #9b30ff, 0 0 50px #ff1493, 0 0 80px #ff1493;
            }
            40% { 
                -webkit-text-stroke: 2px #ff1493;
                text-shadow: 0 0 10px #ff1493, 0 0 20px #ff1493, 0 0 35px #ff1493, 0 0 50px #00e5cc, 0 0 80px #00e5cc;
            }
            60% { 
                -webkit-text-stroke: 2px #00e5cc;
                text-shadow: 0 0 10px #00e5cc, 0 0 20px #00e5cc, 0 0 35px #00e5cc, 0 0 50px #ff6600, 0 0 80px #ff6600;
            }
            80% { 
                -webkit-text-stroke: 2px #ff6600;
                text-shadow: 0 0 10px #ff6600, 0 0 20px #ff6600, 0 0 35px #ff6600, 0 0 50px #00ffff, 0 0 80px #00ffff;
            }
            100% { 
                -webkit-text-stroke: 2px #00ffff;
                text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 35px #00ffff, 0 0 50px #9b30ff, 0 0 80px #9b30ff;
            }
        }
        @keyframes titleOutlineGlow {
            0% { 
                -webkit-text-stroke: 2px #00ffff;
                text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 35px #00ffff, 0 0 50px #9b30ff, 0 0 80px #9b30ff;
            }
            20% { 
                -webkit-text-stroke: 2px #9b30ff;
                text-shadow: 0 0 10px #9b30ff, 0 0 20px #9b30ff, 0 0 35px #9b30ff, 0 0 50px #ff1493, 0 0 80px #ff1493;
            }
            40% { 
                -webkit-text-stroke: 2px #ff1493;
                text-shadow: 0 0 10px #ff1493, 0 0 20px #ff1493, 0 0 35px #ff1493, 0 0 50px #00e5cc, 0 0 80px #00e5cc;
            }
            60% { 
                -webkit-text-stroke: 2px #00e5cc;
                text-shadow: 0 0 10px #00e5cc, 0 0 20px #00e5cc, 0 0 35px #00e5cc, 0 0 50px #ff6600, 0 0 80px #ff6600;
            }
            80% { 
                -webkit-text-stroke: 2px #ff6600;
                text-shadow: 0 0 10px #ff6600, 0 0 20px #ff6600, 0 0 35px #ff6600, 0 0 50px #00ffff, 0 0 80px #00ffff;
            }
            100% { 
                -webkit-text-stroke: 2px #00ffff;
                text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 35px #00ffff, 0 0 50px #9b30ff, 0 0 80px #9b30ff;
            }
        }

        /* Subtitles with black fill and static white outline */
        /* Uses Safari-compatible static styling for cross-browser stability */
        h2 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 3rem;
            font-weight: 800;
            letter-spacing: 3px;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 10;
            color: #000000;
            -webkit-text-fill-color: #000000;
            paint-order: stroke fill;
            /* Static white stroke - no animation for stability */
            -webkit-text-stroke: 2px #ffffff;
            /* Static psychedelic glow */
            text-shadow: 
                0 0 8px rgba(0, 255, 255, 0.7),
                0 0 15px rgba(255, 0, 255, 0.5),
                0 0 30px rgba(255, 0, 255, 0.3);
            /* GPU layer to prevent disappearing on mobile */
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        @-webkit-keyframes subtitleOutlineGlow {
            0% {
                -webkit-text-stroke: 1.5px #00ffff;
                text-shadow: 0 0 8px #00ffff, 0 0 15px #00ffff, 0 0 25px #9b30ff;
            }
            20% {
                -webkit-text-stroke: 1.5px #9b30ff;
                text-shadow: 0 0 8px #9b30ff, 0 0 15px #9b30ff, 0 0 25px #ff1493;
            }
            40% {
                -webkit-text-stroke: 1.5px #ff1493;
                text-shadow: 0 0 8px #ff1493, 0 0 15px #ff1493, 0 0 25px #00e5cc;
            }
            60% {
                -webkit-text-stroke: 1.5px #00e5cc;
                text-shadow: 0 0 8px #00e5cc, 0 0 15px #00e5cc, 0 0 25px #ff6600;
            }
            80% {
                -webkit-text-stroke: 1.5px #ff6600;
                text-shadow: 0 0 8px #ff6600, 0 0 15px #ff6600, 0 0 25px #00ffff;
            }
            100% {
                -webkit-text-stroke: 1.5px #00ffff;
                text-shadow: 0 0 8px #00ffff, 0 0 15px #00ffff, 0 0 25px #9b30ff;
            }
        }
        @keyframes subtitleOutlineGlow {
            0% {
                -webkit-text-stroke: 1.5px #00ffff;
                text-shadow: 0 0 8px #00ffff, 0 0 15px #00ffff, 0 0 25px #9b30ff;
            }
            20% {
                -webkit-text-stroke: 1.5px #9b30ff;
                text-shadow: 0 0 8px #9b30ff, 0 0 15px #9b30ff, 0 0 25px #ff1493;
            }
            40% {
                -webkit-text-stroke: 1.5px #ff1493;
                text-shadow: 0 0 8px #ff1493, 0 0 15px #ff1493, 0 0 25px #00e5cc;
            }
            60% {
                -webkit-text-stroke: 1.5px #00e5cc;
                text-shadow: 0 0 8px #00e5cc, 0 0 15px #00e5cc, 0 0 25px #ff6600;
            }
            80% {
                -webkit-text-stroke: 1.5px #ff6600;
                text-shadow: 0 0 8px #ff6600, 0 0 15px #ff6600, 0 0 25px #00ffff;
            }
            100% {
                -webkit-text-stroke: 1.5px #00ffff;
                text-shadow: 0 0 8px #00ffff, 0 0 15px #00ffff, 0 0 25px #9b30ff;
            }
        }

        .hero-image {
            max-width: min(440px, 80vw); /* Scale with viewport width */
            width: auto;
            max-height: min(32vh, 290px); /* Slightly smaller to prevent overlap */
            height: auto;
            border-radius: 15px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.5),
                0 16px 48px rgba(0, 0, 0, 0.3),
                0 0 25px rgba(0, 255, 204, 0.25), 
                0 0 50px rgba(255, 0, 255, 0.15);
            position: relative;
            z-index: 10;
            /* GPU layer to prevent flickering on mobile */
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .scroll-indicator {
            position: relative;
            width: 32px;
            height: 32px;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.3s ease;
            flex-shrink: 0; /* Prevent shrinking */
            margin-top: 0.5rem;
            margin-bottom: 0.5rem; /* Extra buffer from music player */
        }

        .scroll-indicator:hover {
            transform: scale(1.15);
        }

        .scroll-indicator::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border: 2px solid rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            animation: scrollPulse 2s ease-in-out infinite;
        }

        .scroll-indicator::after {
            content: '';
            font-size: 1.1rem;
            color: #ffffff;
            animation: scrollArrowBounce 2s ease-in-out infinite;
        }

        @keyframes scrollPulse {
            0%, 100% { 
                transform: scale(1); 
                opacity: 0.8;
                box-shadow: 0 0 0 0 rgba(0, 255, 255, 0.4);
            }
            50% { 
                transform: scale(1.15); 
                opacity: 0.4;
                box-shadow: 0 0 20px 5px rgba(0, 255, 255, 0.3);
            }
        }

        @keyframes scrollArrowBounce {
            0%, 100% { transform: translateY(-3px); }
            50% { transform: translateY(5px); }
        }

        .about-container { 
            max-width: 700px; 
            max-height: 60vh; 
            overflow-y: auto; 
            position: relative; 
            z-index: 10;
            border-radius: 24px; /* Match about-content */
            overscroll-behavior: contain;
            -webkit-overflow-scrolling: touch;
        }

        .about-content {
            background: rgba(10, 10, 10, 0.7);
            padding: 1.75rem 2rem;
            border-radius: 24px;
            border: 1px solid rgba(0, 255, 204, 0.3);
            box-shadow: 0 0 30px rgba(0, 255, 204, 0.2), inset 0 0 30px rgba(0, 0, 0, 0.5);
        }

        .about-content p { font-size: 0.9rem; margin-bottom: 1.25rem; text-align: center; }
        .about-content p:last-child { margin-bottom: 0; }

        .videos-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
            gap: 3rem; 
            max-width: 1200px; 
            width: 100%; 
            position: relative; 
            z-index: 10; 
            max-height: 70vh;
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: 16px;
            border: 2px solid rgba(0, 255, 204, 0.4);
            box-shadow: 0 0 20px rgba(0, 255, 204, 0.3), 0 0 40px rgba(255, 0, 255, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .video-container:hover { transform: scale(1.02); box-shadow: 0 0 30px rgba(0, 255, 204, 0.5), 0 0 60px rgba(255, 0, 255, 0.3); }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }

        .photos-grid { 
            display: flex;
            flex-wrap: wrap;
            justify-content: center; /* Centers items including last row */
            gap: 0.75rem; 
            max-width: 850px; 
            width: 100%; 
            position: relative; 
            z-index: 10; 
            padding: 1.25rem; 
            background: transparent;
            border-radius: 0;
            border: none;
        }

        .photo-item {
            aspect-ratio: 1;
            border-radius: 12px;
            overflow: hidden;
            border: 2px solid rgba(255, 0, 255, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            width: 140px;
            max-width: 140px;
            flex-shrink: 0;
        }

        .photo-item:hover { 
            transform: scale(1.08);
            border-color: rgba(0, 255, 255, 0.8);
            box-shadow: 0 0 25px rgba(255, 0, 255, 0.5), 0 0 45px rgba(0, 255, 204, 0.4); 
        }

        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Lazy loading with smooth fade-in */
        .lazy-img {
            opacity: 0;
            transition: opacity 0.3s ease-out;
        }
        .lazy-img.loaded {
            opacity: 1;
        }

        .photo-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, rgba(255, 0, 255, 0.2), rgba(0, 255, 204, 0.2));
            font-size: 3rem;
        }

        .game-container { width: 100%; max-width: 660px; aspect-ratio: 640/690; max-height: 90vh; border-radius: 8px; overflow: hidden; border: 2px solid rgba(0, 255, 204, 0.4); box-shadow: 0 0 30px rgba(0, 255, 204, 0.3), 0 0 60px rgba(255, 0, 255, 0.2); position: relative; z-index: 10; touch-action: none; overscroll-behavior: none; -webkit-overflow-scrolling: auto; }
        
        /* Tablet-specific game container - iPads and similar devices */
        @media (min-width: 769px) and (max-width: 1400px) and (pointer: coarse) {
            .game-container {
                width: 100% !important;
                max-width: 100% !important;
                max-height: 90vh !important;
                aspect-ratio: auto !important;
            }
            .game-container iframe {
                width: 100% !important;
                height: 100% !important;
            }
        }
        
        /* Tablet game section - reduce padding to maximize game space */
        @media (min-width: 769px) and (max-width: 1400px) and (pointer: coarse) {
            #game {
                padding-top: 50px !important;
                padding-bottom: 60px !important;
                padding-left: 0.5rem !important;
                padding-right: 0.5rem !important;
            }
            
            /* ========== TABLET NAV - NO ANIMATIONS ON TAP ========== */
            nav a:not(.nav-animated-logo-container) {
                -webkit-animation: none !important;
                animation: none !important;
            }
            nav a:not(.nav-animated-logo-container).nav-tap-active,
            nav a:not(.nav-animated-logo-container):active,
            nav a:not(.nav-animated-logo-container).active,
            nav a:not(.nav-animated-logo-container).menu-active {
                -webkit-animation: none !important;
                animation: none !important;
                text-shadow: none !important;
                box-shadow: none !important;
            }
            nav a:not(.nav-animated-logo-container)::before,
            nav a:not(.nav-animated-logo-container)::after {
                display: none !important;
                opacity: 0 !important;
                content: none !important;
            }
            
            /* ========== TABLET TITLE TEXT FIX ========== */
            /* iPadOS GPU bug: ANY animation + text-stroke breaks rendering on all but last letter */
            /* Solution: Remove text-stroke, use gradient fill + animated text-shadow glow */
            h1, .home-section h1, section h1, #home h1 {
                color: transparent !important;
                -webkit-text-fill-color: transparent !important;
                -webkit-text-stroke: 0 !important;
                text-stroke: 0 !important;
                background: linear-gradient(180deg, #ffffff 0%, #e0e0e0 100%) !important;
                -webkit-background-clip: text !important;
                background-clip: text !important;
                -webkit-animation: iosTitleGlow 6s ease-in-out infinite !important;
                animation: iosTitleGlow 6s ease-in-out infinite !important;
                -webkit-transform: translateZ(0);
                transform: translateZ(0);
            }
            
            h2, .home-section h2, section h2 {
                color: transparent !important;
                -webkit-text-fill-color: transparent !important;
                -webkit-text-stroke: 0 !important;
                text-stroke: 0 !important;
                background: linear-gradient(180deg, #ffffff 0%, #e0e0e0 100%) !important;
                -webkit-background-clip: text !important;
                background-clip: text !important;
                -webkit-animation: iosSubtitleGlow 6s ease-in-out infinite !important;
                animation: iosSubtitleGlow 6s ease-in-out infinite !important;
                -webkit-transform: translateZ(0);
                transform: translateZ(0);
            }
            
            /* Hide scroll indicator on game section for tablet */
            body.game-section-active .scroll-indicator {
                display: none !important;
                opacity: 0 !important;
            }
        }
        
        /* Tablet photo grid - 4 columns with reasonable sizing */
        @media (min-width: 769px) and (max-width: 1400px) and (pointer: coarse) {
            #photos {
                padding-top: 70px !important;
            }
            #photos h2 {
                margin-bottom: 1rem !important;
            }
            .photos-grid {
                display: grid !important;
                grid-template-columns: repeat(4, 1fr) !important;
                gap: 0.75rem !important;
                max-width: 550px !important;
                width: 85% !important;
                padding: 0.75rem !important;
            }
            .photo-item {
                width: 100% !important;
                max-width: none !important;
                aspect-ratio: 1 !important;
            }
            
            /* ========== TABLET NAV - DISABLE ALL TAP ANIMATIONS ========== */
            nav a:not(.nav-animated-logo-container)::before,
            nav a:not(.nav-animated-logo-container)::after {
                display: none !important;
                opacity: 0 !important;
                visibility: hidden !important;
                content: none !important;
            }
            
            nav a:not(.nav-animated-logo-container):hover,
            nav a:not(.nav-animated-logo-container):active,
            nav a:not(.nav-animated-logo-container).nav-tap-active,
            nav a:not(.nav-animated-logo-container).active,
            nav a:not(.nav-animated-logo-container).menu-active {
                -webkit-transform: none !important;
                transform: none !important;
                background: transparent !important;
                box-shadow: none !important;
                text-shadow: none !important;
                -webkit-animation: none !important;
                animation: none !important;
                -webkit-text-stroke: 0 !important;
                -webkit-text-fill-color: #ffffff !important;
                color: #ffffff !important;
            }
            
            nav a:not(.nav-animated-logo-container):hover::before,
            nav a:not(.nav-animated-logo-container):hover::after,
            nav a:not(.nav-animated-logo-container):active::before,
            nav a:not(.nav-animated-logo-container):active::after,
            nav a:not(.nav-animated-logo-container).nav-tap-active::before,
            nav a:not(.nav-animated-logo-container).nav-tap-active::after {
                display: none !important;
                opacity: 0 !important;
                visibility: hidden !important;
                content: none !important;
            }
        }
        
        /* Tablet portrait - narrower photo grid to ensure title visible */
        @media (min-width: 769px) and (max-width: 1400px) and (pointer: coarse) and (orientation: portrait) {
            #photos {
                padding-top: 65px !important;
                gap: 0.75rem !important;
            }
            #photos h2 {
                font-size: 2rem !important;
                margin-bottom: 0.75rem !important;
            }
            .photos-grid {
                grid-template-columns: repeat(4, 1fr) !important;
                max-width: 480px !important;
                width: 75% !important;
                gap: 0.5rem !important;
            }
        }
        
        /* Tablet landscape - more space for wider grid */
        @media (min-width: 769px) and (max-width: 1400px) and (pointer: coarse) and (orientation: landscape) {
            .photos-grid {
                grid-template-columns: repeat(6, 1fr) !important;
                max-width: 700px !important;
                width: 80% !important;
            }
        }
        
        .game-container iframe { touch-action: none; overscroll-behavior: none; pointer-events: auto; }
        
        /* Hide touch blockers on desktop - only needed for mobile */
        .game-touch-blocker { display: none; }
        
        /* ========== FULLSCREEN BUTTON FOR GAME ========== */
        .game-fullscreen-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 36px;
            height: 36px;
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid rgba(0, 255, 204, 0.5);
            border-radius: 8px;
            color: #00ffcc;
            font-size: 18px;
            cursor: pointer;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            opacity: 0.7;
            pointer-events: auto !important;
            -webkit-user-select: none;
            user-select: none;
        }
        
        .game-fullscreen-btn:hover,
        .game-fullscreen-btn:focus {
            opacity: 1;
            background: rgba(0, 255, 204, 0.2);
            border-color: #00ffcc;
            box-shadow: 0 0 15px rgba(0, 255, 204, 0.5);
            transform: scale(1.05);
        }
        
        .game-fullscreen-btn:active {
            transform: scale(0.95);
        }
        
        /* Fullscreen mode - button becomes exit button */
        .game-container:fullscreen .game-fullscreen-btn,
        .game-container:-webkit-full-screen .game-fullscreen-btn {
            position: fixed;
            top: 10px;
            right: 10px;
        }
        
        /* Hide button on very small screens where it might interfere */
        @media (max-width: 360px) {
            .game-fullscreen-btn {
                width: 30px;
                height: 30px;
                font-size: 14px;
                top: 5px;
                right: 5px;
            }
        }
        
        /* ========== FULLSCREEN MODE STYLES ========== */
        /* Pseudo-fullscreen for iOS (no native fullscreen support) */
        .game-container.pseudo-fullscreen {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100vw !important;
            height: 100vh !important;
            max-width: none !important;
            max-height: none !important;
            border-radius: 0 !important;
            border: none !important;
            background: #000 !important;
            z-index: 99999 !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            margin: 0 !important;
            padding: 0 !important;
            overflow: hidden !important;
        }
        
        /* Hide all UI elements when in pseudo-fullscreen mode */
        body.pseudo-fullscreen-active nav,
        body.pseudo-fullscreen-active .scroll-indicator,
        body.pseudo-fullscreen-active .card-indicators,
        body.pseudo-fullscreen-active .arcade-selector,
        body.pseudo-fullscreen-active .fade-overlay,
        body.pseudo-fullscreen-active .darken-overlay,
        body.pseudo-fullscreen-active .chrome-color-sweep,
        body.pseudo-fullscreen-active .chrome-shimmer,
        body.pseudo-fullscreen-active .color-mist,
        body.pseudo-fullscreen-active .liquid-overlay,
        body.pseudo-fullscreen-active .oil-slick,
        body.pseudo-fullscreen-active .wavy-flutter,
        body.pseudo-fullscreen-active .color-splotches,
        body.pseudo-fullscreen-active .lava-blobs {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
        }
        
        .game-container.pseudo-fullscreen .game-fullscreen-btn {
            position: fixed !important;
            top: 15px !important;
            right: 15px !important;
            z-index: 100000 !important;
        }
        
        /* Hide music player in pseudo-fullscreen (all devices) */
        body.pseudo-fullscreen-active .music-player {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
        }
        
        /* Hide music player on game/arcade section for mobile and tablet */
        @media (max-width: 768px), (pointer: coarse) {
            body.game-section-active .music-player,
            body.game-section-active .scroll-indicator {
                display: none !important;
                visibility: hidden !important;
                opacity: 0 !important;
                pointer-events: none !important;
                transform: translateY(100px) !important;
            }
        }
        
        /* Tablet-specific: Hide music player and scroll indicator on game section */
        @media (min-width: 769px) and (max-width: 1400px) and (pointer: coarse) {
            body.game-section-active .music-player,
            body.game-section-active .scroll-indicator {
                display: none !important;
                visibility: hidden !important;
                opacity: 0 !important;
                pointer-events: none !important;
            }
        }
        
        /* Prevent iOS gestures when in pseudo-fullscreen */
        body.pseudo-fullscreen-active {
            overflow: hidden !important;
            position: fixed !important;
            width: 100% !important;
            height: 100% !important;
            touch-action: none !important;
            overscroll-behavior: none !important;
            -webkit-overflow-scrolling: auto !important;
        }
        
        /* Prevent scroll/gesture on html when pseudo-fullscreen */
        html:has(body.pseudo-fullscreen-active) {
            overflow: hidden !important;
            touch-action: none !important;
            overscroll-behavior: none !important;
        }
        
        /* Mobile pseudo-fullscreen close button positioning */
        @media (max-width: 768px) {
            .game-container.pseudo-fullscreen .game-fullscreen-btn {
                top: 48px !important;
                right: 12px !important;
            }
        }
        
        /* Phone landscape mode */
        @media (max-height: 500px) and (orientation: landscape) {
            .game-container.pseudo-fullscreen .game-fullscreen-btn {
                top: 10px !important;
                right: 10px !important;
            }
        }
        
        /* Tablet pseudo-fullscreen close button */
        @media (min-width: 769px) and (max-width: 1400px) {
            .game-container.pseudo-fullscreen .game-fullscreen-btn {
                top: 25px !important;
                right: 25px !important;
                width: 50px !important;
                height: 50px !important;
                font-size: 26px !important;
            }
        }
        
        /* Tablet landscape mode */
        @media (min-width: 769px) and (max-width: 1400px) and (orientation: landscape) {
            .game-container.pseudo-fullscreen .game-fullscreen-btn {
                top: 15px !important;
                right: 15px !important;
            }
        }
        
        /* ========== iPAD LANDSCAPE COMPREHENSIVE ========== */
        /* Target tablet devices in landscape orientation */
        /* Covers iPad Mini through iPad Pro 12.9" landscape heights (768-1024px) */
        @media (min-width: 769px) and (max-width: 1400px) and (pointer: coarse) and (orientation: landscape) {
            /* Sections need overflow handling - landscape has less vertical space */
            section {
                overflow-y: auto !important;
                overflow-x: hidden !important;
                -webkit-overflow-scrolling: touch !important;
                /* Tighter padding for landscape */
                padding-top: 55px !important;
                padding-bottom: 70px !important;
            }
            
            /* Reduced max-heights for content containers in landscape */
            .about-container {
                max-height: 55vh !important;
            }
            
            .events-container {
                max-height: 50vh !important;
            }
            
            .merch-grid {
                max-height: 55vh !important;
            }
            
            .videos-grid {
                max-height: 60vh !important;
            }
            
            /* Game section - maximize space */
            #game {
                padding-top: 45px !important;
                padding-bottom: 50px !important;
            }
            
            .game-container {
                max-height: 75vh !important;
            }
            
            /* Arcade selector - more compact */
            .arcade-selector {
                margin-top: 5px !important;
                margin-bottom: 10px !important;
                gap: 8px !important;
            }
            
            .arcade-pill {
                padding: 6px 12px !important;
                font-size: 0.9rem !important;
            }
            
            /* Titles - slightly smaller for landscape */
            h1, section h1 {
                font-size: clamp(2rem, 5vw, 2.8rem) !important;
                margin-bottom: 0.5rem !important;
            }
            
            h2, section h2 {
                font-size: clamp(1.4rem, 3.5vw, 2rem) !important;
                margin-bottom: 0.75rem !important;
            }
            
            /* Home section - tighter layout */
            .home-section {
                padding-top: 50px !important;
                gap: 0.75rem !important;
            }
            
            .home-logo-container {
                max-width: 200px !important;
            }
            
            .home-social-buttons {
                gap: 0.75rem !important;
                margin-top: 0.5rem !important;
            }
            
            /* Photos grid - already has 6 columns, just tighter */
            #photos {
                padding-top: 50px !important;
            }
            
            /* Merch grid - horizontal layout for landscape */
            .merch-grid {
                flex-direction: row !important;
                flex-wrap: wrap !important;
                justify-content: center !important;
                gap: 1rem !important;
            }
            
            .merch-item {
                width: 150px !important;
                max-width: 160px !important;
            }
            
            .merch-image-placeholder {
                max-height: 90px !important;
            }
        }
        
        /* Extra short landscape (iPad Mini, smaller tablets) */
        @media (min-width: 769px) and (max-height: 768px) and (pointer: coarse) and (orientation: landscape) {
            section {
                padding-top: 45px !important;
                padding-bottom: 55px !important;
            }
            
            .about-container,
            .events-container {
                max-height: 48vh !important;
            }
            
            #game {
                padding-top: 40px !important;
                padding-bottom: 40px !important;
            }
            
            .game-container {
                max-height: 70vh !important;
            }
        }
        
        .game-container:fullscreen,
        .game-container:-webkit-full-screen,
        .game-container:-moz-full-screen,
        .game-container:-ms-fullscreen {
            width: 100vw !important;
            height: 100vh !important;
            max-width: none !important;
            max-height: none !important;
            border-radius: 0 !important;
            border: none !important;
            background: #000 !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            position: relative !important;
            overflow: hidden !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        
        /* In fullscreen, let iframe be centered by flexbox */
        .game-container:fullscreen iframe,
        .game-container:-webkit-full-screen iframe,
        .game-container:-moz-full-screen iframe,
        .game-container:-ms-fullscreen iframe {
            max-width: none !important;
            max-height: none !important;
        }
        
        /* Hide touch blockers in fullscreen */
        .game-container:fullscreen .game-touch-blocker,
        .game-container:-webkit-full-screen .game-touch-blocker {
            display: none !important;
        }
        
        /* Fullscreen button styling */
        .game-container:fullscreen .game-fullscreen-btn,
        .game-container:-webkit-full-screen .game-fullscreen-btn {
            position: fixed !important;
            top: 15px !important;
            right: 15px !important;
            width: 44px !important;
            height: 44px !important;
            font-size: 22px !important;
            z-index: 9999 !important;
            opacity: 0.5 !important;
        }
        
        .game-container:fullscreen .game-fullscreen-btn:hover,
        .game-container:-webkit-full-screen .game-fullscreen-btn:hover {
            opacity: 1 !important;
        }

        /* ========== ARCADE GAME SELECTOR - FULL BUTTONS ========== */
        .arcade-selector {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 8px;
            margin-bottom: 15px;
            z-index: 15;
            position: relative;
        }
        
        .arcade-pill {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 18px;
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.25s ease;
            -webkit-tap-highlight-color: transparent;
        }
        
        .arcade-pill .pill-text {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 0.9rem;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .arcade-pill .pill-icon {
            font-size: 1.1rem;
            line-height: 1;
        }
        
        .arcade-pill:hover {
            background: rgba(0, 0, 0, 0.8);
            border-color: rgba(0, 255, 255, 0.5);
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }
        
        .arcade-pill:hover .pill-text {
            color: #ffffff;
        }
        
        .arcade-pill.active {
            background: rgba(0, 0, 0, 0.9);
            border-color: #ffffff;
            box-shadow: 
                0 0 10px rgba(0, 255, 255, 0.6),
                0 0 20px rgba(255, 0, 255, 0.3);
        }
        
        .arcade-pill.active .pill-text {
            color: #ffffff;
            text-shadow: 0 0 8px rgba(0, 255, 255, 0.5);
        }
        
        /* Fade transition for game switching */
        .game-container.switching {
            opacity: 0.3;
            transition: opacity 0.15s ease-out;
        }
        
        .game-container.switching-in {
            opacity: 1;
            transition: opacity 0.2s ease-in;
        }

        /* Game section - centered with nav clearance, tight bottom for game container */
        #game {
            padding-top: 65px;
            padding-bottom: 85px;
            justify-content: center;
        }

        .game-container iframe { width: 100%; height: 100%; border: none; }

        .merch-grid { 
            display: flex; 
            flex-wrap: wrap;
            justify-content: center; /* Center all items including last row */
            gap: 1.5rem; 
            max-width: 1000px; 
            width: 100%; 
            position: relative; 
            z-index: 10; 
            max-height: 65vh; 
            overflow-y: auto; 
            padding: 1.5rem; 
            background: rgba(10, 10, 10, 0.25);
            border-radius: 20px;
            border: 1px solid rgba(255, 0, 255, 0.1);
        }

        .merch-item { 
            background: rgba(20, 20, 20, 0.9); 
            border-radius: 16px; 
            overflow: hidden; 
            border: 1px solid rgba(255, 0, 255, 0.3); 
            transition: all 0.4s ease; 
            text-decoration: none; 
            color: var(--color-text);
            width: 180px;
            max-width: 200px;
            flex-shrink: 0;
        }
        .merch-item:hover { 
            transform: scale(1.05); 
            border-color: rgba(0, 255, 255, 0.7);
            box-shadow: 0 10px 40px rgba(255, 0, 255, 0.4), 0 0 30px rgba(0, 255, 204, 0.3), inset 0 0 15px rgba(0, 255, 255, 0.05); 
        }
        .merch-image-placeholder { 
            aspect-ratio: 1; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            background: linear-gradient(135deg, rgba(255, 0, 255, 0.1), rgba(0, 255, 204, 0.1)); 
            max-height: 120px; 
            width: 100%; /* Ensure full width */
            transition: filter 0.3s ease; 
        }
        .merch-item:hover .merch-image-placeholder { filter: brightness(1.15) saturate(1.0); }
        .placeholder-icon { 
            font-size: 3rem; 
            transition: transform 0.3s ease;
            width: 100%;
            text-align: center;
        }
        .merch-item:hover .placeholder-icon { transform: scale(1.15); }
        .merch-info { padding: 1rem; text-align: center; }
        .merch-info h3 { font-size: 0.95rem; margin-bottom: 0.4rem; color: var(--color-primary); transition: color 0.3s ease; }
        .merch-item:hover .merch-info h3 { color: #00ffff; }
        .merch-price { font-size: 1rem; font-weight: 600; color: var(--color-secondary); margin-bottom: 0.75rem; }
        .merch-cta { display: inline-block; padding: 0.4rem 1.2rem; background: linear-gradient(135deg, var(--color-primary), var(--color-secondary)); border-radius: 20px; font-weight: 600; font-size: 0.8rem; transition: all 0.3s ease; }
        .merch-item:hover .merch-cta { transform: scale(1.1); box-shadow: 0 0 15px rgba(0, 255, 204, 0.5); }

        .social-links { display: flex; flex-wrap: wrap; gap: 1.5rem; justify-content: center; position: relative; z-index: 10; max-width: 800px; }
        .social-btn { padding: 1rem 2rem; background: rgba(10, 10, 10, 0.8); border: 2px solid var(--color-primary); border-radius: 30px; color: var(--color-text); text-decoration: none; font-weight: 600; font-size: 1rem; transition: all 0.3s ease; }
        .social-btn:hover { background: var(--color-primary); color: var(--color-bg); box-shadow: 0 0 30px rgba(0, 255, 204, 0.5); transform: translateY(-5px); }

        .events-container { 
            display: flex; 
            flex-direction: column; 
            gap: 0.5rem; 
            max-width: 375px; 
            max-height: 50vh;
            width: 100%; 
            position: relative; 
            z-index: 10; 
            padding: 0.5rem;
            overflow-y: auto;
            overscroll-behavior: contain;
            -webkit-overflow-scrolling: touch;
        }
        /* Timeline styling - only for shows */
        .events-container.shows-timeline {
            padding-left: 2rem;
        }
        .events-container.shows-timeline::before {
            content: '';
            position: absolute;
            left: 0.65rem;
            top: 10px;
            bottom: 10px;
            width: 2px;
            background: linear-gradient(180deg, var(--color-secondary), var(--color-primary));
            border-radius: 2px;
        }
        .events-container.shows-timeline .event-item::before {
            content: '';
            position: absolute;
            left: -1.35rem;
            top: 50%;
            transform: translateY(-50%);
            width: 10px;
            height: 10px;
            background: var(--color-secondary);
            border-radius: 50%;
            border: 2px solid #0a0a0a;
            transition: all 0.3s ease;
        }
        .events-container.shows-timeline .event-item:hover::before {
            background: #00ffff;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.6);
        }
        .event-item { 
            background: rgba(10, 10, 10, 0.8); 
            padding: 0.6rem 0.8rem; 
            border-radius: 10px; 
            border-bottom: 2px solid var(--color-secondary); 
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
        }
        .event-item:hover { 
            border-bottom-color: #00ffff;
            background: rgba(20, 20, 25, 0.9);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2); 
        }
        .event-date { font-size: 0.75rem; font-weight: 600; color: var(--color-primary); margin-bottom: 0.2rem; transition: color 0.3s ease; }
        .event-item:hover .event-date { color: #00ffff; text-shadow: 0 0 10px rgba(0, 255, 255, 0.5); }
        .event-venue { font-size: 0.8rem; font-weight: 500; margin-bottom: 0.1rem; }
        .event-location { font-size: 0.7rem; font-weight: 400; color: rgba(255, 255, 255, 0.6); }

        /* Custom scrollbar for overflow areas */
        .about-container::-webkit-scrollbar,
        .photos-grid::-webkit-scrollbar,
        .merch-grid::-webkit-scrollbar,
        .events-container::-webkit-scrollbar {
            width: 6px;
        }
        
        .about-container::-webkit-scrollbar-track,
        .photos-grid::-webkit-scrollbar-track,
        .merch-grid::-webkit-scrollbar-track,
        .events-container::-webkit-scrollbar-track {
            background: rgba(10, 10, 10, 0.3);
            border-radius: 3px;
        }
        
        .about-container::-webkit-scrollbar-thumb,
        .photos-grid::-webkit-scrollbar-thumb,
        .merch-grid::-webkit-scrollbar-thumb,
        .events-container::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--color-primary), var(--color-secondary));
            border-radius: 3px;
        }

        /* Card indicators for vertical scroll */
        .card-indicators {
            position: fixed;
            right: 1.5rem;
            top: 50%;
            /* Use translate3d for GPU stability */
            -webkit-transform: translateY(-50%) translate3d(0, 0, 0);
            transform: translateY(-50%) translate3d(0, 0, 0);
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            z-index: 9999; /* Above transition overlay (9998) */
            padding: 0.75rem;
            background: rgba(10, 10, 10, 0.6);
            border-radius: 20px;
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 255, 204, 0.2);
            opacity: 0;
            transition: opacity 0.4s ease;
            contain: layout style; /* Isolate repaints */
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .card-indicators.visible {
            opacity: 1;
        }

        .card-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: transform 0.3s ease;
            border: none;
            padding: 0;
        }

        .card-dot:hover {
            transform: scale(1.3);
        }

        .card-dot.active {
            background: #ffffff;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.6);
        }

        /* ========== MUSIC PLAYER - Minimal Pill Style ========== */
        .music-player {
            position: fixed;
            bottom: 20px;
            left: 50%;
            /* Use translate3d for better mobile GPU stability */
            -webkit-transform: translateX(-50%) translate3d(0, 0, 0);
            transform: translateX(-50%) translate3d(0, 0, 0);
            z-index: 9999; /* Above transition overlay (9998) */
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.85), rgba(20, 20, 25, 0.9));
            -webkit-backdrop-filter: blur(15px);
            backdrop-filter: blur(15px);
            border-radius: 50px;
            padding: 8px 12px 8px 8px;
            display: flex;
            align-items: center;
            gap: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.05);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .player-controls {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .player-btn {
            width: 42px;
            height: 42px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(135deg, #00ffff, #9b30ff);
            color: #000000;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.3);
        }

        .player-btn:hover {
            transform: scale(1.08);
            box-shadow: 0 6px 25px rgba(0, 255, 255, 0.5);
        }

        .player-btn.play-pause {
            width: 42px;
            height: 42px;
            font-size: 1.1rem;
        }

        .player-btn.prev-btn,
        .player-btn.next-btn {
            width: 32px;
            height: 32px;
            font-size: 0.8rem;
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.7), rgba(155, 48, 255, 0.7));
            box-shadow: 0 2px 10px rgba(0, 255, 255, 0.2);
        }

        .player-btn.prev-btn:hover,
        .player-btn.next-btn:hover {
            background: linear-gradient(135deg, #00ffff, #9b30ff);
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.4);
        }

        .player-info {
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 0;
        }

        .track-title {
            font-size: 0.8rem;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.9);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 120px;
        }

        .progress-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .progress-bar {
            width: 100px;
            height: 3px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 2px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ffff, #9b30ff);
            border-radius: 2px;
            width: 0%;
            transition: width 0.1s linear;
        }

        .time-display {
            font-size: 0.65rem;
            color: rgba(255, 255, 255, 0.5);
            min-width: 30px;
            font-family: monospace;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 6px;
            padding-left: 8px;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
        }

        .volume-btn {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            font-size: 0.9rem;
            padding: 4px;
            transition: color 0.3s ease;
        }

        .volume-btn:hover {
            color: #00ffff;
        }

        .volume-slider {
            width: 50px;
            height: 3px;
            -webkit-appearance: none;
            appearance: none;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 2px;
            cursor: pointer;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 10px;
            height: 10px;
            background: #ffffff;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 6px rgba(255, 255, 255, 0.4);
        }

        /* Music Player Toggle Button */
        .music-toggle {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9999;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            border: 1px solid rgba(255, 255, 255, 0.15);
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.85), rgba(20, 20, 25, 0.9));
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            color: #fff;
            font-size: 1.3rem;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }
        
        .music-toggle:hover {
            transform: translateX(-50%) scale(1.1);
            box-shadow: 0 6px 25px rgba(0, 255, 255, 0.4);
            border-color: rgba(0, 255, 255, 0.3);
        }
        
        .music-toggle.visible {
            display: flex;
        }
        
        /* Hide button inside player */
        .player-hide-btn {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
            cursor: pointer;
            padding: 4px 8px;
            margin-left: 4px;
            transition: color 0.3s ease;
        }
        
        .player-hide-btn:hover {
            color: #ff6b6b;
        }
        
        /* Hidden state for music player */
        .music-player.hidden {
            opacity: 0;
            pointer-events: none;
            transform: translateX(-50%) translateY(20px);
        }

        @media (max-width: 768px) {
            .music-player {
                padding: 6px 10px 6px 6px;
                bottom: 15px;
                gap: 8px;
            }
            .player-controls {
                gap: 4px;
            }
            .player-btn.play-pause {
                width: 36px;
                height: 36px;
                font-size: 0.95rem;
            }
            .player-btn.prev-btn,
            .player-btn.next-btn {
                width: 26px;
                height: 26px;
                font-size: 0.65rem;
            }
            .track-title {
                max-width: 70px;
                font-size: 0.75rem;
            }
            .progress-bar {
                width: 50px;
            }
            .volume-control {
                display: none;
            }
            .time-display {
                display: none;
            }
            .music-toggle {
                bottom: 15px;
                width: 42px;
                height: 42px;
                font-size: 1.1rem;
            }
            .player-hide-btn {
                font-size: 0.8rem;
                padding: 2px 6px;
            }
        }
        
        /* Auto-hide music player on small phones */
        @media (max-width: 390px) {
            .music-player {
                opacity: 0;
                pointer-events: none;
                transform: translateX(-50%) translateY(20px);
            }
            .music-player.shown {
                opacity: 1;
                pointer-events: auto;
                transform: translateX(-50%) translateY(0);
            }
            .music-toggle {
                display: flex;
            }
        }

        @media (max-width: 768px) {
            /* Mobile - scroll-snap disabled, fade transitions handle section changes */
            .scroll-container {
                height: 100dvh !important;
                scroll-snap-type: none !important;
                -webkit-scroll-snap-type: none !important;
                scroll-behavior: auto !important;
                /* Hide scrollbar on mobile - prevents accidental taps during arcade gameplay */
                scrollbar-width: none; /* Firefox */
                -ms-overflow-style: none; /* IE/Edge */
            }
            
            /* Hide scrollbar on mobile - WebKit/Blink browsers (Chrome, Safari, etc.) */
            .scroll-container::-webkit-scrollbar {
                display: none;
                width: 0;
                height: 0;
            }
            
            /* Remove section borders on mobile for precise snap alignment */
            section {
                border-bottom: none !important;
                box-shadow: none !important;
            }
            
            /* Mobile color vibrancy boosts - match LibreWolf/Chrome desktop appearance */
            section::before {
                filter: saturate(1.0) contrast(1.08) !important;
            }
            .color-mist {
                filter: saturate(1.0) brightness(1.05) !important;
            }
            .color-mist::before {
                opacity: 0.42 !important;
                filter: saturate(1.0) !important;
            }
            .color-mist::after {
                opacity: 0.36 !important;
                filter: saturate(1.0) !important;
            }
            .darken-overlay {
                background: rgba(10, 10, 14, 0.78) !important; /* Darker for contrast - parity with desktop */
            }
            
            h1 { font-size: clamp(2.5rem, 8vw, 3.5rem); }
            h2 { font-size: clamp(1.8rem, 5vw, 2.4rem); font-weight: 700; }
            /* Larger nav bar for better touch targets */
            nav { 
                padding: 0.75rem 0.7rem; 
                gap: 0.55rem; 
                flex-wrap: nowrap;
                align-items: center;
            }
            nav ul { 
                gap: 0.3rem; 
                flex-wrap: nowrap; 
                justify-content: center;
                align-items: center;
                margin: 0;
                padding: 0;
            }
            nav li {
                display: flex;
                align-items: center;
            }
            nav a:not(.nav-animated-logo-container) { 
                font-size: 0.72rem; 
                padding: 0.35rem 0.45rem;
                display: flex;
                align-items: center;
                justify-content: center;
                line-height: 1;
                position: relative;
                text-shadow: none;
            }
            
            /* Disable desktop pseudo-elements (ring and glow) on mobile */
            nav a:not(.nav-animated-logo-container)::before,
            nav a:not(.nav-animated-logo-container)::after {
                display: none !important;
                opacity: 0 !important;
                visibility: hidden !important;
                content: none !important;
            }
            
            /* Apply animation when nav-tap-active class is added */
            nav a:not(.nav-animated-logo-container).nav-tap-active {
                -webkit-animation: navTapGlow 3s ease-in-out forwards !important;
                animation: navTapGlow 3s ease-in-out forwards !important;
            }
            
            /* No glow on hover/active - only on explicit tap */
            nav a:not(.nav-animated-logo-container):hover,
            nav a:not(.nav-animated-logo-container):active {
                -webkit-transform: translateZ(0) scale(1) !important;
                transform: translateZ(0) scale(1) !important;
                font-weight: 600 !important;
                font-size: 0.72rem !important;
                background: transparent !important;
                -webkit-text-stroke: 0 !important;
                -webkit-text-fill-color: #ffffff !important;
                color: #ffffff !important;
                paint-order: fill !important;
                letter-spacing: normal !important;
                box-shadow: none !important;
                outline: none !important;
                text-shadow: none !important;
            }
            
            /* Disable persistent active/section highlighting on mobile */
            nav a:not(.nav-animated-logo-container).active,
            nav a:not(.nav-animated-logo-container).menu-active {
                -webkit-transform: translateZ(0) scale(1) !important;
                transform: translateZ(0) scale(1) !important;
                font-weight: 600 !important;
                font-size: 0.72rem !important;
                background: transparent !important;
                -webkit-text-stroke: 0 !important;
                -webkit-text-fill-color: #ffffff !important;
                color: #ffffff !important;
                paint-order: fill !important;
                letter-spacing: normal !important;
                box-shadow: none !important;
                outline: none !important;
                text-shadow: none !important;
            }
            
            /* Ensure pseudo-elements stay hidden on hover/active too */
            nav a:not(.nav-animated-logo-container):hover::before,
            nav a:not(.nav-animated-logo-container):hover::after,
            nav a:not(.nav-animated-logo-container):active::before,
            nav a:not(.nav-animated-logo-container):active::after,
            nav a:not(.nav-animated-logo-container).nav-tap-active::before,
            nav a:not(.nav-animated-logo-container).nav-tap-active::after,
            nav a:not(.nav-animated-logo-container).active::before,
            nav a:not(.nav-animated-logo-container).active::after,
            nav a:not(.nav-animated-logo-container).menu-active::before,
            nav a:not(.nav-animated-logo-container).menu-active::after {
                display: none !important;
                opacity: 0 !important;
                visibility: hidden !important;
                content: none !important;
            }
            
            /* Logo does not get animation - only text menu items */
            .nav-animated-logo-container { 
                height: 26px; 
                padding: 0.06rem; 
                border-radius: 5px;
                flex-shrink: 0;
                display: flex;
                align-items: center;
            }
            section { 
                /* Center content between nav bar (~50px) and music player (~75px from bottom) */
                /* Balanced padding for visual centering */
                padding: 55px 1rem 80px;
                /* Ensure exact viewport height for proper scroll-snap */
                height: 100dvh !important;
                min-height: 100dvh !important;
                box-sizing: border-box !important;
                scroll-snap-align: start !important;
                scroll-snap-stop: always !important;
                -webkit-scroll-snap-align: start !important;
                -webkit-scroll-snap-stop: always !important;
            }
            /* Game section needs more top padding */
            #game {
                padding-top: 55px !important;
            }
            /* Reduce container widths for non-game sections */
            section:not(#game) .hero-image-container,
            section:not(#game) .about-container,
            section:not(#game) .videos-grid,
            section:not(#game) .photos-grid,
            section:not(#game) .merch-grid,
            section:not(#game) .events-grid,
            section:not(#game) .home-social-links {
                max-width: 88% !important;
            }
            /* Home section - center content between nav and music player */
            .home-section { 
                padding-top: 55px; 
                padding-bottom: 75px; 
                justify-content: center !important;
                gap: 1rem;
            }
            .home-section h1 { 
                font-size: clamp(1.8rem, 7vw, 2.5rem); 
                margin: 0;
                white-space: nowrap;
            }
            .album-announcement {
                font-size: 0.55rem;
                padding: 0.2rem 0.5rem;
                top: 6%;
            }
            .hero-image-container {
                max-width: 90%;
            }
            /* Keep 2x2 grid for home social buttons */
            .home-social-links { 
                display: grid !important;
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 1.8rem 1.6rem !important; /* Much more spacing */
                max-width: 340px !important;
                padding: 1rem 2rem !important;
            }
            .home-social-btn { padding: 0.55rem 0.9rem !important; font-size: 0.72rem !important; }
            /* Hero image sized to fill available space - 5% LARGER */
            .hero-image { 
                max-width: 85% !important; 
                max-height: 48vh !important; 
                margin: 0 !important;
            }
            .subtitle { font-size: clamp(0.85rem, 3vw, 1rem); padding: 0 0.5rem; margin-bottom: 0.25rem; }
            .about-content { padding: 1.4rem 1.25rem; }
            .about-content p { font-size: 0.8rem; margin-bottom: 1rem; }
            .videos-grid { grid-template-columns: 1fr; gap: 1.5rem; }
            /* 3-column photo grid for 12 photos - fill screen width */
            .photos-grid { 
                grid-template-columns: repeat(3, 1fr) !important; 
                gap: 0.6rem !important; 
                max-width: 95vw !important;
                width: 95vw !important;
                max-height: none !important;
                padding: 0.5rem !important;
            }
            .photo-item { width: 100% !important; max-width: none !important; max-height: none !important; aspect-ratio: 1 !important; }
            /* 2-column merch grid with invisible container - respect hidden state */
            .merch-grid:not([style*="display: none"]) { 
                display: grid !important;
                grid-template-columns: repeat(2, 1fr) !important;
                justify-items: center !important;
                gap: 0.6rem !important; 
                max-width: 290px !important;
                max-height: none !important;
                padding: 0.8rem !important;
                background: rgba(10, 10, 10, 0.3) !important;
                border-radius: 16px !important;
                border: 1px solid rgba(255, 0, 255, 0.1) !important;
            }
            .merch-item { 
                max-height: none !important; 
                width: 100% !important;
                max-width: 130px !important;
            }
            /* Center the last item if it's alone on its row */
            .merch-grid .merch-item:last-child:nth-child(odd) {
                grid-column: 1 / -1 !important;
                justify-self: center !important;
                max-width: 130px !important;
            }
            .merch-info h3 { font-size: 0.6rem !important; }
            .merch-cta { font-size: 0.32rem !important; padding: 0.08rem 0.2rem !important; border-radius: 6px !important; }
            .placeholder-icon { font-size: 1.5rem !important; }
            .medium-logo-container { max-width: 180px; margin-top: 1rem; }
            .psychedelic-logo-container { max-width: 70vw; max-width: min(70vw, 280px); }
            .card-indicators {
                right: 0.5rem;
                padding: 0.5rem;
                gap: 0.5rem;
            }
            .card-dot { width: 10px; height: 10px; }
            .scroll-indicator { 
                width: 26px; 
                height: 26px; 
                margin-top: 0;
            }
            .scroll-indicator::before {
                width: 100%;
                height: 100%;
            }
            .scroll-indicator::after {
                font-size: 0.85rem;
            }
            .social-links { gap: 0.75rem; flex-wrap: wrap; padding: 0 1rem; }
            .home-social-links { gap: 1.8rem 1.6rem !important; margin-top: 1.2rem !important; padding: 1rem 2rem !important; } /* Much more spacing on mobile */
            .home-social-btn { padding: 0.5rem 0.9rem; font-size: 0.72rem; }
            .social-btn { padding: 0.75rem 1.25rem; font-size: 0.9rem; }
            .events-container { gap: 0.5rem; width: 90%; }
            .event-item { padding: 0.5rem 0.7rem; }
            
            /* Scale down overlay elements for mobile performance */
            .lava-blob:nth-child(1) { width: 250px; height: 250px; }
            .lava-blob:nth-child(2) { width: 200px; height: 200px; }
            .splotch { max-width: 300px; max-height: 300px; }
        }

        /* Extra small screens */
        @media (max-width: 480px) {
            h1 { font-size: clamp(1.5rem, 7vw, 2rem); }
            h2 { font-size: clamp(1.4rem, 6vw, 1.8rem); }
            /* Sections - center content between nav and music player */
            section { 
                padding: 50px 0.8rem 75px !important;
                justify-content: center !important;
                /* Ensure exact viewport height for proper scroll-snap */
                height: 100dvh !important;
                min-height: 100dvh !important;
                box-sizing: border-box !important;
                scroll-snap-align: start !important;
                scroll-snap-stop: always !important;
                -webkit-scroll-snap-align: start !important;
                -webkit-scroll-snap-stop: always !important;
            }
            /* Game section needs more top padding */
            #game {
                padding-top: 50px !important;
            }
            /* Larger nav for small screens */
            nav { 
                padding: 0.62rem 0.55rem;
                align-items: center;
            }
            nav ul { 
                gap: 0.22rem;
                align-items: center;
            }
            nav a:not(.nav-animated-logo-container) { 
                font-size: 0.67rem; 
                padding: 0.28rem 0.36rem;
                line-height: 1;
            }
            .nav-animated-logo-container { 
                height: 24px; 
                padding: 0.05rem; 
                border-radius: 4px; 
            }
            /* Reduce container widths for non-game sections */
            section:not(#game) .hero-image-container,
            section:not(#game) .about-container,
            section:not(#game) .videos-grid,
            section:not(#game) .merch-grid,
            section:not(#game) .events-grid,
            section:not(#game) .home-social-links {
                max-width: 85% !important;
            }
            /* Home section - center content between nav and music player */
            .home-section { 
                padding-top: 50px; 
                padding-bottom: 70px;
                justify-content: center !important;
                gap: 0.9rem;
            }
            .home-section h1 { 
                font-size: clamp(1.4rem, 6.5vw, 1.8rem); 
                margin: 0;
                white-space: nowrap;
            }
            .album-announcement {
                font-size: 0.5rem;
                padding: 0.15rem 0.4rem;
                top: 5%;
            }
            .hero-image-container {
                max-width: 83%;
            }
            /* Hero image - 5% larger to fill space */
            .hero-image { 
                max-width: 83% !important; 
                max-height: 45vh !important; 
                margin: 0 !important;
            }
            /* Smaller social buttons */
            .home-social-links { 
                gap: 1.4rem 1.2rem !important; /* More spacing on smallest screens */
                max-width: 300px !important;
                padding: 0.8rem 1.5rem !important;
            }
            .home-social-btn { 
                font-size: 0.65rem !important; 
                padding: 0.45rem 0.65rem !important; 
            }
            .about-content { padding: 1.3rem 1rem; }
            .about-content p { font-size: 0.75rem; margin-bottom: 0.9rem; }
            /* 3-column photo grid for 12 photos - fill screen width */
            .photos-grid { 
                grid-template-columns: repeat(3, 1fr) !important; 
                gap: 0.4rem !important; 
                max-width: 95vw !important;
                width: 95vw !important;
                max-height: none !important;
                padding: 0.4rem !important;
            }
            .photo-item { width: 100% !important; max-width: none !important; max-height: none !important; aspect-ratio: 1 !important; }
            /* Smaller merch with smaller icons - respect hidden state */
            .merch-grid:not([style*="display: none"]) { 
                grid-template-columns: repeat(2, 1fr) !important; 
                gap: 0.35rem !important; 
                max-width: 250px !important;
                width: 250px !important;
                max-height: none !important;
            }
            .merch-item { padding: 0.3rem; max-height: none !important; }
            .merch-info h3 { font-size: 0.5rem !important; }
            .merch-cta { font-size: 0.22rem !important; padding: 0.04rem 0.12rem !important; border-radius: 4px !important; }
            .placeholder-icon { font-size: 1.2rem !important; }
            .social-btn { padding: 0.6rem 1rem; font-size: 0.85rem; width: 100%; justify-content: center; }
            /* Keep 2x2 grid for home social buttons */
            .home-social-links { 
                display: grid !important;
                grid-template-columns: repeat(2, 1fr) !important;
                max-width: 290px !important;
                gap: 1rem 1.2rem !important;
            }
            .home-social-btn { font-size: 0.65rem !important; padding: 0.45rem 0.65rem !important; }
            .psychedelic-logo-container { max-width: 85vw; }
            
            /* Further reduce overlays on small screens */
            .lava-blob:nth-child(1) { width: 180px; height: 180px; }
            .lava-blob:nth-child(2) { width: 150px; height: 150px; }
        }

        /* Larger phones like OnePlus 13R (400px+ width) - bigger hero image */
        @media (min-width: 400px) and (max-width: 768px) {
            .hero-image-container {
                max-width: 92% !important;
            }
            .hero-image { 
                max-width: 92% !important; 
                max-height: 56vh !important; 
            }
            /* Tighter game container - let content determine size */
            .game-container {
                aspect-ratio: unset !important;
                height: auto !important;
                max-height: unset !important;
                min-height: unset !important;
                overflow: visible !important;
            }
            /* Nudge game section content up 10px on larger mobile devices */
            #game h2 {
                margin-top: -10px !important;
            }
            #game .game-container {
                margin-top: -10px !important;
            }
            #game .game-selector {
                margin-top: -10px !important;
            }
        }

        /* iPhone 13 Pro and smaller (390px width) */
        @media (max-width: 390px) {
            /* Larger nav for smallest screens */
            nav { padding: 0.52rem 0.48rem; }
            nav ul { gap: 0.15rem; }
            nav a:not(.nav-animated-logo-container) { 
                font-size: 0.62rem; 
                padding: 0.24rem 0.3rem;
            }
            .nav-animated-logo-container { height: 22px; }
            
            /* Smaller titles - fit on one line */
            h1 { 
                font-size: clamp(1.2rem, 6vw, 1.6rem); 
                white-space: nowrap;
            }
            h2 { font-size: clamp(1.1rem, 5vw, 1.4rem); }
            
            /* Section padding - center content between nav and music player */
            section { 
                padding: 45px 0.75rem 70px !important;
                justify-content: center !important;
                gap: 0.5rem !important;
                /* Ensure exact viewport height for proper scroll-snap */
                height: 100dvh !important;
                min-height: 100dvh !important;
                box-sizing: border-box !important;
                scroll-snap-align: start !important;
                scroll-snap-stop: always !important;
                -webkit-scroll-snap-align: start !important;
                -webkit-scroll-snap-stop: always !important;
            }
            /* Game section needs more top padding */
            #game {
                padding-top: 45px !important;
            }
            /* Reduce container widths for non-game sections */
            section:not(#game) .hero-image-container,
            section:not(#game) .about-container,
            section:not(#game) .videos-grid,
            section:not(#game) .merch-grid,
            section:not(#game) .events-grid,
            section:not(#game) .home-social-links {
                max-width: 82% !important;
            }
            .home-section { 
                padding-top: 45px !important; 
                padding-bottom: 65px !important;
                justify-content: center !important;
                gap: 0.8rem !important;
            }
            .home-section h1 {
                font-size: clamp(1.15rem, 5.8vw, 1.5rem);
                white-space: nowrap;
            }
            
            /* Smaller hero image */
            .hero-image-container { max-width: 70%; }
            .hero-image { max-height: 38vh !important; }
            .album-announcement {
                font-size: 0.45rem;
                padding: 0.12rem 0.35rem;
                top: 4%;
            }
            
            /* Smaller social buttons - compact padding for small screens */
            .home-social-links { 
                max-width: 260px !important;
                gap: 0.9rem 0.8rem !important;
                padding: 0.4rem 0.6rem !important;
            }
            .home-social-btn { 
                font-size: 0.55rem !important; 
                padding: 0.35rem 0.5rem !important; 
            }
            
            /* 3-column photos grid for 12 photos - fill screen */
            .photos-grid { 
                grid-template-columns: repeat(3, 1fr) !important;
                max-width: 95vw !important;
                width: 95vw !important;
                gap: 0.35rem !important;
            }
            .photo-item { max-width: none !important; max-height: none !important; aspect-ratio: 1 !important; }
            
            /* Smaller merch - respect hidden state */
            .merch-grid:not([style*="display: none"]) { 
                max-width: 220px !important;
                gap: 0.25rem !important;
            }
            .merch-item { padding: 0.25rem !important; }
            .merch-info h3 { font-size: 0.4rem !important; }
            .merch-price { font-size: 0.45rem !important; }
            .merch-cta { 
                font-size: 0.22rem !important; 
                padding: 0.04rem 0.12rem !important; 
                border-radius: 4px !important; 
            }
            .placeholder-icon { font-size: 0.9rem !important; }
            
            /* Smaller game container - let content determine size */
            .game-container {
                aspect-ratio: unset !important;
                height: auto !important;
                max-height: unset !important;
                min-height: unset !important;
                overflow: visible !important;
            }
            
            /* Smaller about content */
            .about-content { padding: 0.8rem; }
            .about-content p { font-size: 0.65rem; margin-bottom: 0.8rem; }
            
            /* Smaller events */
            .events-container { gap: 0.4rem !important; }
            .events-container.shows-timeline { padding-left: 1.5rem !important; }
            .events-container.shows-timeline::before { left: 0.4rem !important; }
            .events-container.shows-timeline .event-item::before { left: -1.1rem !important; width: 8px !important; height: 8px !important; }
            .event-item, .event-card { padding: 0.4rem 0.5rem !important; }
            .event-date { font-size: 0.65rem !important; }
            .event-venue { font-size: 0.55rem !important; }
            .event-location { font-size: 0.5rem !important; }
            
            /* Smaller videos */
            .videos-grid { gap: 1rem !important; }
            .video-embed { border-radius: 12px !important; }
        }

        /* Medium viewport heights (typical medium monitors) */
        @media (max-height: 900px) {
            .home-section {
                padding-top: 65px;
                padding-bottom: 100px;
            }
            .home-section h1 { font-size: clamp(3.5rem, 10vh, 5.5rem); margin-bottom: -0.5rem; }
            .hero-image { 
                max-height: min(30vh, 260px); 
                max-width: 360px;
            }
            .home-social-links {
                gap: 0.5rem;
            }
            .home-social-btn {
                padding: 0.45rem 0.9rem;
                font-size: 0.8rem;
            }
        }

        /* Shorter viewport heights (e.g., 24" monitors at 1080p) */
        @media (max-height: 800px) {
            .home-section {
                padding-top: 60px;
                padding-bottom: 95px;
            }
            .home-section h1 { font-size: clamp(3rem, 8vh, 4.5rem); margin-bottom: -0.4rem; }
            .hero-image { 
                max-height: min(26vh, 220px); 
                max-width: 300px;
            }
            .home-social-links {
                gap: 0.4rem;
            }
            .home-social-btn {
                padding: 0.35rem 0.7rem;
                font-size: 0.7rem;
            }
            .scroll-indicator {
                width: 26px;
                height: 26px;
            }
            .scroll-indicator::after {
                font-size: 0.8rem;
            }
        }

        /* Very short viewports */
        @media (max-height: 700px) {
            .home-section {
                padding-top: 55px;
                padding-bottom: 90px;
            }
            .home-section h1 { font-size: clamp(2.5rem, 7vh, 3.5rem); margin-bottom: -0.3rem; }
            .hero-image { 
                max-height: min(22vh, 180px);
                max-width: 240px;
            }
            .home-social-links {
                gap: 0.3rem;
            }
            .home-social-btn {
                padding: 0.3rem 0.6rem;
                font-size: 0.65rem;
            }
            .scroll-indicator {
                width: 22px;
                height: 22px;
            }
            .scroll-indicator::after {
                font-size: 0.7rem;
            }
        }

        /* ========== SMALL LAPTOPS (12-13" displays, ~1366x768) ========== */
        /* Target small laptops specifically - min-width excludes phones */
        @media (max-height: 800px) and (min-width: 769px) {
            /* Home section - more aggressive scaling */
            .home-section {
                padding-top: 50px;
                padding-bottom: 70px;
                gap: 0.6rem;
            }
            .home-section h1 { 
                font-size: clamp(2.8rem, 7vh, 4rem); 
                margin-bottom: -0.3rem; 
            }
            .hero-image { 
                max-height: min(24vh, 180px); 
                max-width: 260px;
            }
            .home-social-links {
                gap: 0.35rem;
                margin-top: 0.3rem;
            }
            .home-social-btn {
                padding: 0.3rem 0.65rem;
                font-size: 0.7rem;
            }
            .scroll-indicator {
                width: 24px;
                height: 24px;
                bottom: 12px;
            }
            
            /* Game section - tighter spacing */
            #game {
                padding-top: 50px;
                padding-bottom: 60px;
            }
            #game h2 {
                font-size: 2rem;
                margin-bottom: 0.3rem;
            }
            .arcade-selector {
                gap: 8px;
                margin-top: 5px;
                margin-bottom: 10px;
            }
            .arcade-pill {
                padding: 6px 12px;
                font-size: 0.95rem;
            }
            .arcade-pill .pill-text {
                font-size: 0.75rem;
            }
            .arcade-pill .pill-icon {
                font-size: 0.95rem;
            }
            .game-container {
                max-height: 72vh;
                max-width: 520px;
            }
            
            /* Other sections */
            h2 { font-size: 2.2rem; }
            .subtitle { font-size: 1rem; }
        }

        /* Even smaller laptops / very constrained height */
        @media (max-height: 700px) and (min-width: 769px) {
            .home-section {
                padding-top: 45px;
                padding-bottom: 55px;
                gap: 0.5rem;
            }
            .home-section h1 { 
                font-size: clamp(2.2rem, 6vh, 3rem); 
                margin-bottom: -0.2rem; 
            }
            .hero-image { 
                max-height: min(20vh, 140px); 
                max-width: 200px;
            }
            .home-social-links {
                gap: 0.25rem;
            }
            .home-social-btn {
                padding: 0.25rem 0.5rem;
                font-size: 0.6rem;
            }
            .scroll-indicator {
                width: 20px;
                height: 20px;
                bottom: 8px;
            }
            
            /* Game section */
            #game {
                padding-top: 40px;
                padding-bottom: 45px;
            }
            #game h2 {
                font-size: 1.6rem;
                margin-bottom: 0.2rem;
            }
            .arcade-selector {
                gap: 6px;
                margin-top: 3px;
                margin-bottom: 6px;
            }
            .arcade-pill {
                padding: 5px 10px;
                font-size: 0.85rem;
            }
            .arcade-pill .pill-text {
                font-size: 0.65rem;
            }
            .arcade-pill .pill-icon {
                font-size: 0.85rem;
            }
            .game-container {
                max-height: 68vh;
                max-width: 450px;
            }
            
            h2 { font-size: 1.8rem; }
            .subtitle { font-size: 0.9rem; }
        }

        /* Medium-large screens */
        @media (min-width: 1100px) {
            .hero-image { max-width: 480px; max-height: 34vh; }
        }

        /* Large screens - scale up elements */
        @media (min-width: 1400px) {
            .home-section h1 { font-size: 7.5rem; margin-bottom: -1rem; }
            .home-section { padding-top: 75px; padding-bottom: 105px; }
            .home-social-btn { padding: 0.45rem 1.3rem; font-size: 0.95rem; }
            .home-social-links { gap: 1.2rem; }
            h2 { font-size: 3.2rem; }
            .subtitle { font-size: 1.4rem; }
            .hero-image { max-width: 540px; max-height: 40vh; }
            .psychedelic-logo-container { max-width: 350px; }
            .videos-grid { max-width: 1100px; gap: 3rem; }
            .photos-grid { max-width: 950px; gap: 1rem; }
            .photo-item { width: 160px; max-width: 160px; }
            .merch-grid { max-width: 1100px; gap: 2rem; }
            .social-btn { padding: 1.25rem 2.5rem; font-size: 1.1rem; }
            .event-item { padding: 0.75rem 1rem; }
            
            /* Larger overlays for big screens */
            .lava-blob:nth-child(1) { width: 450px; height: 450px; }
            .lava-blob:nth-child(2) { width: 380px; height: 380px; }
        }

        /* Extra large screens */
        @media (min-width: 1800px) {
            h1 { font-size: 8rem; }
            section { padding: 80px 3rem 110px; }
            .hero-image { max-width: 700px; max-height: 48vh; }
            .videos-grid { max-width: 1300px; }
            .photos-grid { max-width: 1100px; }
            .photo-item { width: 190px; max-width: 190px; }
        }
    </style>
</head>
<body>
    <!-- Page loader to prevent animation pop -->
    <div class="page-loader" id="page-loader">
        <div class="loader-logo-container">
            <img src="Images/BOO_LogoTransparent.png" alt="BOO" class="loader-logo">
        </div>
    </div>
    
    <!-- Transition overlay for smooth section changes -->
    <div class="transition-overlay" id="transition-overlay"></div>

    <!-- Lightbox Gallery -->
    <div class="lightbox" id="lightbox">
        <div class="lightbox-content">
            <button class="lightbox-close" onclick="closeLightbox()"></button>
            <button class="lightbox-nav lightbox-prev" onclick="navigateLightbox(-1)"></button>
            <img src="" alt="Gallery Image" class="lightbox-image" id="lightbox-img">
            <button class="lightbox-nav lightbox-next" onclick="navigateLightbox(1)"></button>
            <div class="lightbox-controls">
                <a href="" download class="lightbox-btn" id="download-btn">
                    <span></span> Download
                </a>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav>
        <a href="#home" class="nav-animated-logo-container">
            <img src="Images/BOO_LogoTransparent.png" alt="Bunch of Others" class="nav-animated-logo">
        </a>
        <ul>
            <li><a href="#about">Bio<span class="menu-text-color">Bio</span></a></li>
            <li><a href="#videos">Videos<span class="menu-text-color">Videos</span></a></li>
            <li><a href="#photos">Photos<span class="menu-text-color">Photos</span></a></li>
            <li><a href="#game">Arcade<span class="menu-text-color">Arcade</span></a></li>
            <li><a href="#merch">Merch<span class="menu-text-color">Merch</span></a></li>
            <li><a href="#events">Events<span class="menu-text-color">Events</span></a></li>
        </ul>
    </nav>

    <!-- Card Indicators -->
    <div class="card-indicators">
        <button class="card-dot active" data-section="home"></button>
        <button class="card-dot" data-section="about"></button>
        <button class="card-dot" data-section="videos"></button>
        <button class="card-dot" data-section="photos"></button>
        <button class="card-dot" data-section="game"></button>
        <button class="card-dot" data-section="merch"></button>
        <button class="card-dot" data-section="events"></button>
        <button class="card-dot" data-section="logo-outro"></button>
    </div>

    <!-- Music Player -->
    <button class="music-toggle" id="music-toggle" onclick="toggleMusicPlayer()" title="Toggle Music Player"></button>
    <div class="music-player" id="music-player">
        <div class="player-controls">
            <button class="player-btn prev-btn" onclick="prevTrack()" title="Previous"></button>
            <button class="player-btn play-pause" id="play-pause-btn" onclick="togglePlay()"></button>
            <button class="player-btn next-btn" onclick="nextTrack()" title="Next"></button>
        </div>
        <div class="player-info">
            <div class="track-title" id="track-title">QUEEN</div>
            <div class="progress-container">
                <span class="time-display" id="current-time">0:00</span>
                <div class="progress-bar" id="progress-bar" onclick="seekTrack(event)">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <span class="time-display" id="duration">0:00</span>
            </div>
        </div>
        <div class="volume-control">
            <button class="volume-btn" id="volume-btn" onclick="toggleMute()"></button>
            <input type="range" class="volume-slider" id="volume-slider" min="0" max="1" step="0.1" value="0.7" oninput="changeVolume(this.value)">
        </div>
        <button class="player-hide-btn" onclick="toggleMusicPlayer()" title="Hide Player"></button>
    </div>
    <audio id="audio-player" preload="auto">
        <source src="Music/QUEEN.mp3" type="audio/mpeg">
    </audio>



    <!-- SCROLL CONTAINER - wraps all sections for proper cross-browser scroll-snap -->
    <div class="scroll-container" id="scroll-container">

    <!-- Home Section -->
    <section id="home" class="home-section">
        <div class="fade-overlay"></div>
        <div class="darken-overlay"></div>
        <div class="chrome-color-sweep"></div>
        <div class="chrome-shimmer"></div>
        <div class="color-mist"></div>
        <div class="liquid-overlay"></div>
        <div class="oil-slick"></div>
        <div class="wavy-flutter">
            <div class="flutter-wave flutter-wave-1"></div>
            <div class="flutter-wave flutter-wave-2"></div>
        </div>
        <div class="color-splotches">
            <div class="splotch splotch-1"></div>
            <div class="splotch splotch-3"></div>
        </div>
        <div class="lava-blobs">
            <div class="lava-blob"></div>
        </div>
        <h1>BUNCH OF OTHERS</h1>
        <div class="hero-image-container">
            <img src="Images/CuriosityAlbumCover.png" alt="Curiosity - Bunch of Others" class="hero-image" fetchpriority="high">
            <p class="album-announcement">Curiosity LP Available Now</p>
        </div>
        <div class="home-social-links">
            <a href="https://www.instagram.com/bunch_of_others/" target="_blank" class="home-social-btn">Instagram</a>
            <a href="https://www.youtube.com/@BunchOfOthersMusic" target="_blank" class="home-social-btn">YouTube</a>
            <a href="https://music.apple.com/us/artist/bunch-of-others/1754588177" target="_blank" class="home-social-btn">Apple Music</a>
            <a href="https://open.spotify.com/artist/1n8AIkpbrWiXAS8pewVjnP?nd=1" target="_blank" class="home-social-btn">Spotify</a>
        </div>
        <div class="scroll-indicator" onclick="menuTransitionToSection('about')"></div>
    </section>

    <!-- About Section -->
    <section id="about">
        <div class="fade-overlay"></div>
        <div class="darken-overlay"></div>
        <div class="chrome-color-sweep"></div>
        <div class="chrome-shimmer"></div>
        <div class="color-mist"></div>
        <div class="liquid-overlay"></div>
        <div class="oil-slick"></div>
        <div class="wavy-flutter">
            <div class="flutter-wave flutter-wave-1"></div>
            <div class="flutter-wave flutter-wave-2"></div>
        </div>
        <div class="color-splotches">
            <div class="splotch splotch-1"></div>
            <div class="splotch splotch-3"></div>
        </div>
        <div class="lava-blobs">
            <div class="lava-blob"></div>
        </div>
        <h2>Bio</h2>
        <div class="about-container">
            <div class="about-content">
                <p>BOO is a psychedelic rock band that blends influences from Pink Floyd, RHCP, and their own unique style to create immersive, heartfelt music. Formed in 2024, the band is driven by a rich history and a deeply personal story that shapes their music and performances. Frontman Jeff founded the band following the tragic loss of his brother Kyle, who was the frontman of Fields of Green. Discovering Kyle's unreleased music inspired Jeff to learn guitar and honor his brother's legacy by forming a band. Jeff's emotional journey is at the heart of BOO.</p>
                <p>Johnny, best friends with Kyle, was the drummer for Fields of Green. His deep connection with the Tubbs family and his musical history brings a sense of continuity and depth to the band. Joe, another close family friend, had played music with Kyle and possessed a library of beautiful, underappreciated songs. His songwriting adds richness and complexity to the band's music, celebrating both his and Kyle's legacies.</p>
                <p>Shawn, the bassist, joined the band at a pivotal moment, completing their sound with his exceptional talent. Shawn's background includes playing lead guitar for Andrew Judah and releasing 20 songs in the last 8 years, adding a layer of professional experience to the band.</p>
                <p>Their live performances are dynamic and engaging, inviting listeners to experience the deep connections that define the human experience. Through their music, Bunch of Others hopes to encourage others to find their own paths to healing and creativity.</p>
            </div>
        </div>
    </section>

    <!-- Videos Section -->
    <section id="videos">
        <div class="fade-overlay"></div>
        <div class="darken-overlay"></div>
        <div class="chrome-color-sweep"></div>
        <div class="chrome-shimmer"></div>
        <div class="color-mist"></div>
        <div class="liquid-overlay"></div>
        <div class="oil-slick"></div>
        <div class="wavy-flutter">
            <div class="flutter-wave flutter-wave-1"></div>
            <div class="flutter-wave flutter-wave-2"></div>
        </div>
        <div class="color-splotches">
            <div class="splotch splotch-1"></div>
            <div class="splotch splotch-3"></div>
        </div>
        <div class="lava-blobs">
            <div class="lava-blob"></div>
        </div>
        <h2>Videos</h2>
        <div class="videos-grid">
            <div class="video-container">
                <iframe id="yt-player-1" src="https://www.youtube-nocookie.com/embed/EtmP3giTw0g?enablejsapi=1" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            </div>
            <div class="video-container">
                <iframe id="yt-player-2" src="https://www.youtube-nocookie.com/embed/EEzNiweFy2I?enablejsapi=1" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            </div>
        </div>
    </section>

    <!-- Photos Section -->
    <section id="photos">
        <div class="fade-overlay"></div>
        <div class="darken-overlay"></div>
        <div class="chrome-color-sweep"></div>
        <div class="chrome-shimmer"></div>
        <div class="color-mist"></div>
        <div class="liquid-overlay"></div>
        <div class="oil-slick"></div>
        <div class="wavy-flutter">
            <div class="flutter-wave flutter-wave-1"></div>
            <div class="flutter-wave flutter-wave-2"></div>
        </div>
        <div class="color-splotches">
            <div class="splotch splotch-1"></div>
            <div class="splotch splotch-3"></div>
        </div>
        <div class="lava-blobs">
            <div class="lava-blob"></div>
        </div>
        <h2>Photos</h2>
        <div class="photos-grid">
            <div class="photo-item" onclick="openLightbox(0)">
                <img data-src="Images/BOO_BandShot.jpg" alt="Band Photo 1" class="lazy-img">
            </div>
            <div class="photo-item" onclick="openLightbox(1)">
                <img data-src="Images/BOO_Logo.jpg" alt="Band Logo" class="lazy-img">
            </div>
            <div class="photo-item" onclick="openLightbox(2)">
                <img data-src="Images/BOO_JeffBanner.jpg" alt="Band Banner" class="lazy-img">
            </div>
            <div class="photo-item" onclick="openLightbox(3)">
                <img data-src="Images/LiquidLight1.jpg" alt="Psychedelic Art 1" class="lazy-img">
            </div>
            <div class="photo-item" onclick="openLightbox(4)">
                <img data-src="Images/LiquidLight2.jpg" alt="Psychedelic Art 2" class="lazy-img">
            </div>
            <div class="photo-item" onclick="openLightbox(5)">
                <img data-src="Images/LiquidLight3.jpg" alt="Psychedelic Art 3" class="lazy-img">
            </div>
            <div class="photo-item" onclick="openLightbox(6)">
                <img data-src="Images/LiquidLight4.jpg" alt="Psychedelic Art 4" class="lazy-img">
            </div>
            <div class="photo-item" onclick="openLightbox(7)">
                <img data-src="Images/LiquidLight5.jpg" alt="Psychedelic Art 5" class="lazy-img">
            </div>
            <div class="photo-item" onclick="openLightbox(8)">
                <img data-src="Images/LiquidLight6.jpg" alt="Psychedelic Art 6" class="lazy-img">
            </div>
            <div class="photo-item" onclick="openLightbox(9)">
                <img data-src="Images/LiquidLightLogo.jpg" alt="Psychedelic Art 7" class="lazy-img">
            </div>
            <div class="photo-item" onclick="openLightbox(10)">
                <img data-src="Images/BOO_EPCover.jpg" alt="EP Cover" class="lazy-img">
            </div>
            <div class="photo-item" onclick="openLightbox(11)">
                <img data-src="Images/CuriosityAlbumCover.png" alt="Curiosity Album Cover" class="lazy-img">
            </div>
        </div>
    </section>

    <!-- Arcade Section -->
    <section id="game">
        <div class="fade-overlay"></div>
        <div class="darken-overlay"></div>
        <!-- Chrome overlays removed for game section - using minimal CSS gradient instead -->
        
        <!-- Arcade Game Selector -->
        <div class="arcade-selector">
            <button class="arcade-pill active" data-game="Games/neon-brickbreaker.html" data-title="Neon Brickbreaker" data-aspect="640/718" title="Brick Breaker">
                <span class="pill-icon"></span><span class="pill-text">Brick</span>
            </button>
            <button class="arcade-pill" data-game="Games/neon-survivors.html" data-title="Neon Survivors" data-aspect="630/983" title="Survive">
                <span class="pill-icon"></span><span class="pill-text">Survive</span>
            </button>
            <button class="arcade-pill" data-game="Games/clydes-big-jump.html" data-title="Clyde's Big Jump" data-aspect="630/900" title="Clyde">
                <span class="pill-icon"></span><span class="pill-text">Clyde</span>
            </button>
            <button class="arcade-pill" data-game="Games/neon-tower-defense.html" data-title="Neon Tower Defense" data-aspect="630/750" title="Tower Defense">
                <span class="pill-icon"></span><span class="pill-text">Defense</span>
            </button>
            <button class="arcade-pill" data-game="Games/neon-dig.html" data-title="Neon Dig" data-aspect="630/886" title="Mine">
                <span class="pill-icon"></span><span class="pill-text">Mine</span>
            </button>
            <button class="arcade-pill" data-game="Games/neon-snake.html" data-title="Neon Snake" data-aspect="630/880" title="Snake">
                <span class="pill-icon"></span><span class="pill-text">Snake</span>
            </button>
            <!-- Space Shooter hidden for now
            <button class="arcade-pill" data-game="Games/neon-space-shooter.html" data-title="Neon Space Shooter" data-aspect="630/900" title="Space Shooter">
                <span class="pill-icon"></span><span class="pill-text">Space</span>
            </button>
            -->
        </div>
        
        <div class="game-container">
            <div class="game-touch-blocker game-touch-top"></div>
            <div class="game-touch-blocker game-touch-bottom"></div>
            <div class="game-touch-blocker game-touch-left"></div>
            <div class="game-touch-blocker game-touch-right"></div>
            <iframe id="arcadeFrame" src="Games/neon-brickbreaker.html" title="Neon Brickbreaker" allowfullscreen></iframe>
            <button class="game-fullscreen-btn" aria-label="Toggle fullscreen"></button>
        </div>
    </section>

    <!-- Merch Section -->
    <section id="merch">
        <div class="fade-overlay"></div>
        <div class="darken-overlay"></div>
        <div class="chrome-color-sweep"></div>
        <div class="chrome-shimmer"></div>
        <div class="color-mist"></div>
        <div class="liquid-overlay"></div>
        <div class="oil-slick"></div>
        <div class="wavy-flutter">
            <div class="flutter-wave flutter-wave-1"></div>
            <div class="flutter-wave flutter-wave-2"></div>
        </div>
        <div class="color-splotches">
            <div class="splotch splotch-1"></div>
            <div class="splotch splotch-3"></div>
        </div>
        <div class="lava-blobs">
            <div class="lava-blob"></div>
        </div>
        <div class="coming-soon-banner">COMING SOON</div>
        <!-- Hidden merch content for future use -->
        <h2 style="display: none;">Merch</h2>
        <div class="merch-grid" style="display: none;">
            <a href="PAYMENT_LINK_1" target="_blank" class="merch-item"><div class="merch-image-placeholder"><div class="placeholder-icon"></div></div><div class="merch-info"><h3>Band T-Shirt</h3><p class="merch-price">$25.00</p><span class="merch-cta">Buy Now</span></div></a>
            <a href="PAYMENT_LINK_2" target="_blank" class="merch-item"><div class="merch-image-placeholder"><div class="placeholder-icon"></div></div><div class="merch-info"><h3>Psychedelic Hat</h3><p class="merch-price">$20.00</p><span class="merch-cta">Buy Now</span></div></a>
            <a href="PAYMENT_LINK_3" target="_blank" class="merch-item"><div class="merch-image-placeholder"><div class="placeholder-icon"></div></div><div class="merch-info"><h3>Vinyl Record</h3><p class="merch-price">$30.00</p><span class="merch-cta">Buy Now</span></div></a>
            <a href="PAYMENT_LINK_4" target="_blank" class="merch-item"><div class="merch-image-placeholder"><div class="placeholder-icon"></div></div><div class="merch-info"><h3>Guitar Pick Set</h3><p class="merch-price">$10.00</p><span class="merch-cta">Buy Now</span></div></a>
            <a href="PAYMENT_LINK_5" target="_blank" class="merch-item"><div class="merch-image-placeholder"><div class="placeholder-icon"></div></div><div class="merch-info"><h3>Album CD</h3><p class="merch-price">$15.00</p><span class="merch-cta">Buy Now</span></div></a>
        </div>
    </section>

    <!-- Events Section -->
    <section id="events">
        <div class="fade-overlay"></div>
        <div class="darken-overlay"></div>
        <div class="chrome-color-sweep"></div>
        <div class="chrome-shimmer"></div>
        <div class="color-mist"></div>
        <div class="liquid-overlay"></div>
        <div class="oil-slick"></div>
        <div class="wavy-flutter">
            <div class="flutter-wave flutter-wave-1"></div>
            <div class="flutter-wave flutter-wave-2"></div>
        </div>
        <div class="color-splotches">
            <div class="splotch splotch-1"></div>
            <div class="splotch splotch-3"></div>
        </div>
        <div class="lava-blobs">
            <div class="lava-blob"></div>
        </div>
        <h2>Recent Releases</h2>
        <div class="events-container" style="gap: 0.5rem; margin-bottom: 2rem;">
            <div class="event-item"><div class="event-date">December 4th, 2025</div><div class="event-venue">Curiosity LP</div><div class="event-location">All Major Platforms</div></div>
        </div>
        <h2>Upcoming Shows</h2>
        <div class="events-container" style="gap: 0.5rem;">
            <div class="event-item"><div class="event-date">January 11th, 2026</div><div class="event-venue">The Hub @ 7pm ~ Free Show</div><div class="event-location">Penticton, BC</div></div>
            <div class="event-item"><div class="event-date">January 29th, 2026</div><div class="event-venue">BNA (Hello Darling Speakeasy) @ 10pm</div><div class="event-location">Kelowna, BC</div></div>
            <div class="event-item"><div class="event-date">March 27th, 2026</div><div class="event-venue">Red Antler @ 7pm</div><div class="event-location">Silver Star, BC</div></div>
        </div>
    </section>

    <!-- Logo Outro Section -->
    <section id="logo-outro">
        <div class="fade-overlay"></div>
        <div class="darken-overlay"></div>
        <div class="chrome-color-sweep"></div>
        <div class="chrome-shimmer"></div>
        <div class="color-mist"></div>
        <div class="liquid-overlay"></div>
        <div class="oil-slick"></div>
        <div class="wavy-flutter">
            <div class="flutter-wave flutter-wave-1"></div>
            <div class="flutter-wave flutter-wave-2"></div>
        </div>
        <div class="color-splotches">
            <div class="splotch splotch-1"></div>
            <div class="splotch splotch-3"></div>
        </div>
        <div class="lava-blobs">
            <div class="lava-blob"></div>
        </div>
        <div class="psychedelic-logo-container">
            <img src="Images/BOO_LogoTransparent.png" alt="Bunch of Others" class="psychedelic-logo">
        </div>
    </section>

    </div><!-- End scroll-container -->

    <script>
        // Lightbox Gallery
        var galleryImages = [
            'Images/BOO_BandShot.jpg',
            'Images/BOO_Logo.jpg',
            'Images/BOO_JeffBanner.jpg',
            'Images/LiquidLight1.jpg',
            'Images/LiquidLight2.jpg',
            'Images/LiquidLight3.jpg',
            'Images/LiquidLight4.jpg',
            'Images/LiquidLight5.jpg',
            'Images/LiquidLight6.jpg',
            'Images/LiquidLightLogo.jpg',
            'Images/BOO_EPCover.jpg',
            'Images/CuriosityAlbumCover.png'
        ];
        var currentImageIndex = 0;

        function openLightbox(index) {
            currentImageIndex = index;
            var lightbox = document.getElementById('lightbox');
            var img = document.getElementById('lightbox-img');
            var downloadBtn = document.getElementById('download-btn');
            
            if (img) img.src = galleryImages[index];
            if (downloadBtn) {
                downloadBtn.href = galleryImages[index];
                downloadBtn.download = galleryImages[index].split('/').pop();
            }
            
            if (lightbox) lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            var lb = document.getElementById('lightbox');
            if (lb) lb.classList.remove('active');
            document.body.style.overflow = '';
        }

        function navigateLightbox(direction) {
            currentImageIndex += direction;
            if (currentImageIndex < 0) currentImageIndex = galleryImages.length - 1;
            if (currentImageIndex >= galleryImages.length) currentImageIndex = 0;
            
            var img = document.getElementById('lightbox-img');
            var downloadBtn = document.getElementById('download-btn');
            
            if (img) img.src = galleryImages[currentImageIndex];
            if (downloadBtn) {
                downloadBtn.href = galleryImages[currentImageIndex];
                downloadBtn.download = galleryImages[currentImageIndex].split('/').pop();
            }
        }

        // Close lightbox on escape key or clicking outside
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') closeLightbox();
            if (e.key === 'ArrowLeft') navigateLightbox(-1);
            if (e.key === 'ArrowRight') navigateLightbox(1);
        });

        var lightboxEl = document.getElementById('lightbox');
        if (lightboxEl) {
            lightboxEl.addEventListener('click', function(e) {
                if (e.target.id === 'lightbox') closeLightbox();
            });
        }

        // Detect Chrome/Edge for performance optimizations (both use Chromium)
        const isChromium = /Chrome/.test(navigator.userAgent) || /Edg/.test(navigator.userAgent);
        const isChrome = isChromium && !/Firefox/.test(navigator.userAgent);
        
        // Add Chrome/Chromium class for saturation fixes
        if (isChrome) {
            document.body.classList.add('is-chrome');
        }
        
        // Detect Firefox/LibreWolf
        const isFirefox = /Firefox/.test(navigator.userAgent) || /LibreWolf/.test(navigator.userAgent);
        if (isFirefox) {
            document.body.classList.add('is-firefox');
        }
        
        // Detect Android browsers (Samsung Internet, Xiaomi, Huawei, UC Browser, Opera)
        const isAndroid = /Android/.test(navigator.userAgent);
        const isSamsungBrowser = /SamsungBrowser/.test(navigator.userAgent);
        const isUCBrowser = /UCBrowser|UCWEB/.test(navigator.userAgent);
        const isOperaMini = /Opera Mini|OPiOS/.test(navigator.userAgent);
        const isAndroidWebView = isAndroid && /wv\)/.test(navigator.userAgent);
        
        if (isAndroid) {
            document.body.classList.add('is-android');
            if (isSamsungBrowser) document.body.classList.add('is-samsung');
            if (isUCBrowser) document.body.classList.add('is-ucbrowser');
            if (isOperaMini) document.body.classList.add('is-opera-mini');
            if (isAndroidWebView) document.body.classList.add('is-webview');
        }
        
        // Detect Safari (iOS and macOS) - improved detection
        const ua = navigator.userAgent;
        const isSafari = /Safari/.test(ua) && !/Chrome/.test(ua) && !/Chromium/.test(ua) && !/Edg/.test(ua);
        // iPadOS 13+ reports as Macintosh, so also check for touch + Mac combo
        const isIPadOS = /iPad/.test(ua) || 
                        (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1) ||
                        (/Macintosh/.test(ua) && 'ontouchend' in document);
        const isIOS = (/iPhone|iPod/.test(ua) || isIPadOS) && !window.MSStream;
        const isMacSafari = isSafari && /Macintosh/.test(ua) && !isIOS;
        
        // Apply Safari-specific fixes
        if (isSafari || isIOS) {
            try {
            // Add Safari class to body for CSS targeting
            document.body.classList.add('is-safari');
            if (isIOS) document.body.classList.add('is-ios');
            if (isMacSafari) document.body.classList.add('is-mac-safari');
            
            // DIRECT STYLE APPLICATION FOR iOS
            // iOS Safari has a GPU compositing bug where ANY animation + text-stroke
            // breaks rendering on all but last character. Remove text-stroke entirely.
            if (isIOS) {
                document.querySelectorAll('h1').forEach(el => {
                    el.style.setProperty('color', 'transparent', 'important');
                    el.style.setProperty('-webkit-text-fill-color', 'transparent', 'important');
                    el.style.setProperty('-webkit-text-stroke', '0', 'important');
                    el.style.setProperty('background', 'linear-gradient(180deg, #ffffff 0%, #e0e0e0 100%)', 'important');
                    el.style.setProperty('-webkit-background-clip', 'text', 'important');
                    el.style.setProperty('background-clip', 'text', 'important');
                    // Animation set via CSS - iosTitleGlow keyframes
                });
                document.querySelectorAll('h2').forEach(el => {
                    el.style.setProperty('color', 'transparent', 'important');
                    el.style.setProperty('-webkit-text-fill-color', 'transparent', 'important');
                    el.style.setProperty('-webkit-text-stroke', '0', 'important');
                    el.style.setProperty('background', 'linear-gradient(180deg, #ffffff 0%, #e0e0e0 100%)', 'important');
                    el.style.setProperty('-webkit-background-clip', 'text', 'important');
                    el.style.setProperty('background-clip', 'text', 'important');
                    // Animation set via CSS - iosSubtitleGlow keyframes
                });
            }
            
            // DIRECT STYLE APPLICATION FOR DESKTOP SAFARI
            // Apply styles directly to elements to bypass any specificity issues
            if (isMacSafari) {
                // Force styles directly on elements for macOS Safari
                document.querySelectorAll('h1').forEach(el => {
                    el.style.setProperty('color', '#000000', 'important');
                    el.style.setProperty('-webkit-text-fill-color', '#000000', 'important');
                    el.style.setProperty('-webkit-text-stroke', '2px #ffffff', 'important');
                    el.style.setProperty('animation', 'none', 'important');
                });
                document.querySelectorAll('h2').forEach(el => {
                    el.style.setProperty('color', '#000000', 'important');
                    el.style.setProperty('-webkit-text-fill-color', '#000000', 'important');
                    el.style.setProperty('-webkit-text-stroke', '2px #ffffff', 'important');
                    el.style.setProperty('animation', 'none', 'important');
                });
                // Apply backgrounds directly to sections
                const sectionBgs = {
                    'home': 'Images/LiquidLight4.jpg',
                    'about': 'Images/LiquidLight2.jpg',
                    'videos': 'Images/LiquidLight6.jpg',
                    'photos': 'Images/LiquidLight6.jpg',
                    'game': 'Images/LiquidLight1.jpg',
                    'merch': 'Images/LiquidLight5.jpg',
                    'events': 'Images/LiquidLight3.jpg',
                    'logo-outro': 'Images/LiquidLight4.jpg'
                };
                Object.entries(sectionBgs).forEach(([id, img]) => {
                    const section = document.getElementById(id);
                    if (section) {
                        section.style.setProperty('background-image', "url('" + img + "')", 'important');
                        section.style.setProperty('background-size', 'cover', 'important');
                        section.style.setProperty('background-position', 'center', 'important');
                    }
                });
                // Hide ::before pseudo-elements by hiding their parent's before content
                document.querySelectorAll('section').forEach(section => {
                    section.classList.add('safari-bg-applied');
                });
                // Apply boosted overlay opacity for visible effects
                document.querySelectorAll('.darken-overlay').forEach(el => {
                    el.style.setProperty('opacity', '0.78', 'important');
                    el.style.setProperty('background', 'rgba(10, 10, 14, 0.80)', 'important');
                });
                // Don't hide fade-overlay - let CSS handle it
                document.querySelectorAll('.fade-overlay').forEach(el => {
                    el.style.setProperty('opacity', '1', 'important');
                    el.style.setProperty('background', 'none', 'important');
                });
                // Boosted color overlay opacities for Safari
                document.querySelectorAll('.color-mist').forEach(el => {
                    el.style.setProperty('opacity', '0.28', 'important');
                    el.style.setProperty('-webkit-filter', 'saturate(1.4)', 'important');
                });
                document.querySelectorAll('.liquid-overlay').forEach(el => {
                    el.style.setProperty('opacity', '0.20', 'important');
                    el.style.setProperty('-webkit-filter', 'saturate(1.3)', 'important');
                });
                document.querySelectorAll('.oil-slick').forEach(el => {
                    el.style.setProperty('opacity', '0.16', 'important');
                });
                document.querySelectorAll('.wavy-flutter').forEach(el => {
                    el.style.setProperty('opacity', '0.14', 'important');
                });
                document.querySelectorAll('.color-splotches').forEach(el => {
                    el.style.setProperty('opacity', '0.20', 'important');
                    el.style.setProperty('-webkit-filter', 'saturate(1.5)', 'important');
                });
                document.querySelectorAll('.psych-fractals').forEach(el => {
                    el.style.setProperty('opacity', '0.12', 'important');
                });
                document.querySelectorAll('.lava-blobs').forEach(el => {
                    el.style.setProperty('opacity', '0.14', 'important');
                });
            }
            
            // DIRECT STYLE INJECTION FOR SAFARI - Override everything
            const safariStyleFix = document.createElement('style');
            safariStyleFix.id = 'safari-style-fix';
            safariStyleFix.textContent = `
                /* Desktop Safari: animated glow with text-stroke */
                body.is-safari:not(.is-ios) h1,
                body.is-safari:not(.is-ios) .home-section h1,
                body.is-safari:not(.is-ios) section h1,
                body.is-safari:not(.is-ios) #home h1 {
                    color: #000000 !important;
                    -webkit-text-fill-color: #000000 !important;
                    -webkit-text-stroke: 2px #ffffff !important;
                    animation: safariTitleGlow 6s ease-in-out infinite !important;
                    -webkit-animation: safariTitleGlow 6s ease-in-out infinite !important;
                }
                body.is-safari:not(.is-ios) h2,
                body.is-safari:not(.is-ios) .home-section h2,
                body.is-safari:not(.is-ios) section h2,
                body.is-safari:not(.is-ios) #home h2 {
                    color: #000000 !important;
                    -webkit-text-fill-color: #000000 !important;
                    -webkit-text-stroke: 2px #ffffff !important;
                    animation: safariSubtitleGlow 6s ease-in-out infinite !important;
                    -webkit-animation: safariSubtitleGlow 6s ease-in-out infinite !important;
                }
                /* iOS: NO text-stroke (GPU bug), use gradient fill + animated glow */
                body.is-ios h1,
                body.is-ios .home-section h1,
                body.is-ios section h1,
                body.is-ios #home h1 {
                    color: transparent !important;
                    -webkit-text-fill-color: transparent !important;
                    -webkit-text-stroke: 0 !important;
                    background: linear-gradient(180deg, #ffffff 0%, #e0e0e0 100%) !important;
                    -webkit-background-clip: text !important;
                    background-clip: text !important;
                    animation: iosTitleGlow 6s ease-in-out infinite !important;
                    -webkit-animation: iosTitleGlow 6s ease-in-out infinite !important;
                }
                body.is-ios h2,
                body.is-ios .home-section h2,
                body.is-ios section h2,
                body.is-ios #home h2 {
                    color: transparent !important;
                    -webkit-text-fill-color: transparent !important;
                    -webkit-text-stroke: 0 !important;
                    background: linear-gradient(180deg, #ffffff 0%, #e0e0e0 100%) !important;
                    -webkit-background-clip: text !important;
                    background-clip: text !important;
                    animation: iosSubtitleGlow 6s ease-in-out infinite !important;
                    -webkit-animation: iosSubtitleGlow 6s ease-in-out infinite !important;
                }
                /* SAFARI FORCE: Visible but subtle overlays */
                body.is-safari .darken-overlay,
                .darken-overlay { opacity: 0.78 !important; background: rgba(10, 10, 14, 0.80) !important; } /* Darker for contrast */
                body.is-safari .fade-overlay,
                .fade-overlay { 
                    opacity: 1 !important; 
                    background: none !important;
                    position: absolute !important;
                    top: 0 !important;
                    left: 0 !important;
                    right: 0 !important;
                    bottom: 0 !important;
                    z-index: 5 !important;
                }
                body.is-safari .fade-overlay::before,
                body.is-safari .fade-overlay::after,
                .fade-overlay::before,
                .fade-overlay::after {
                    content: '' !important;
                    position: absolute !important;
                    left: 0 !important;
                    right: 0 !important;
                    height: 20% !important;
                    pointer-events: none !important;
                    z-index: 5 !important;
                }
                body.is-safari .fade-overlay::before,
                .fade-overlay::before {
                    top: 0 !important;
                    background: -webkit-linear-gradient(top, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.95) 12%, rgba(0, 0, 0, 0.8) 30%, rgba(0, 0, 0, 0.5) 50%, rgba(0, 0, 0, 0.2) 70%, rgba(0, 0, 0, 0) 100%) !important;
                }
                body.is-safari .fade-overlay::after,
                .fade-overlay::after {
                    bottom: 0 !important;
                    background: -webkit-linear-gradient(bottom, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.95) 12%, rgba(0, 0, 0, 0.8) 30%, rgba(0, 0, 0, 0.5) 50%, rgba(0, 0, 0, 0.2) 70%, rgba(0, 0, 0, 0) 100%) !important;
                }
                /* Boosted Safari overlay opacities - match Firefox */
                body.is-safari .color-mist { opacity: 0.35 !important; -webkit-filter: saturate(1.1) !important; }
                body.is-safari .liquid-overlay { opacity: 0.28 !important; -webkit-filter: saturate(1.0) !important; }
                body.is-safari .oil-slick { opacity: 0.25 !important; }
                body.is-safari .wavy-flutter { opacity: 0.20 !important; }
                body.is-safari .color-splotches { opacity: 0.28 !important; -webkit-filter: saturate(1.2) !important; }
                body.is-safari .psych-fractals { opacity: 0.18 !important; }
                body.is-safari .lava-blobs { opacity: 0.22 !important; }
                /* SAFARI FORCE: Hide broken ::before, put bg on section */
                /* Safari mobile gets static backgrounds for stability */
                body.is-safari section::before {
                    display: none !important;
                    visibility: hidden !important;
                    opacity: 0 !important;
                    content: none !important;
                }
                /* Non-Safari mobile: Enable ::before with breathing animation */
                body:not(.is-safari) section::before {
                    display: block !important;
                    visibility: visible !important;
                    opacity: 1 !important;
                    content: '' !important;
                    position: absolute !important;
                    top: -5% !important;
                    left: -5% !important;
                    right: -5% !important;
                    bottom: -5% !important;
                    width: 110% !important;
                    height: 110% !important;
                    background-size: cover !important;
                    background-position: center !important;
                    background-repeat: no-repeat !important;
                    z-index: 0 !important;
                    -webkit-transform-origin: center center;
                    transform-origin: center center;
                    -webkit-backface-visibility: hidden;
                    backface-visibility: hidden;
                    -webkit-animation: mobileBackgroundBreathe 45s ease-in-out infinite !important;
                    animation: mobileBackgroundBreathe 45s ease-in-out infinite !important;
                    -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 8%, black 92%, transparent 100%);
                    mask-image: linear-gradient(to bottom, transparent 0%, black 8%, black 92%, transparent 100%);
                }
                /* Non-Safari: backgrounds on ::before */
                body:not(.is-safari) #home::before { background-image: url('Images/LiquidLight4.jpg') !important; }
                body:not(.is-safari) #about::before { background-image: url('Images/LiquidLight2.jpg') !important; }
                body:not(.is-safari) #videos::before { background-image: url('Images/LiquidLight6.jpg') !important; }
                body:not(.is-safari) #photos::before { background-image: url('Images/LiquidLight6.jpg') !important; }
                body:not(.is-safari) #game::before { background-image: url('Images/LiquidLight1.jpg') !important; }
                body:not(.is-safari) #merch::before { background-image: url('Images/LiquidLight5.jpg') !important; }
                body:not(.is-safari) #events::before { background-image: url('Images/LiquidLight3.jpg') !important; }
                body:not(.is-safari) #logo-outro::before { background-image: url('Images/LiquidLight4.jpg') !important; }
                /* Non-Safari: remove direct section backgrounds */
                body:not(.is-safari) section { background-image: none !important; }
                
                /* Safari: Background on section itself (static) */
                body.is-safari section {
                    background-size: cover !important;
                    background-position: center !important;
                    background-repeat: no-repeat !important;
                }
                body.is-safari #home { background-image: url('Images/LiquidLight4.jpg') !important; }
                body.is-safari #about { background-image: url('Images/LiquidLight2.jpg') !important; }
                body.is-safari #videos { background-image: url('Images/LiquidLight6.jpg') !important; }
                body.is-safari #photos { background-image: url('Images/LiquidLight6.jpg') !important; }
                body.is-safari #game { background-image: url('Images/LiquidLight1.jpg') !important; }
                body.is-safari #merch { background-image: url('Images/LiquidLight5.jpg') !important; }
                body.is-safari #events { background-image: url('Images/LiquidLight3.jpg') !important; }
                body.is-safari #logo-outro { background-image: url('Images/LiquidLight4.jpg') !important; }
            `;
            document.head.appendChild(safariStyleFix);
            
            // Fix iOS Safari 100vh issue
            const setVH = function() {
                const vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', vh + 'px');
            };
            setVH();
            
            // Debounced resize handler
            let resizeTimeout;
            window.addEventListener('resize', function() {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(setVH, 100);
            });
            window.addEventListener('orientationchange', function() {
                setTimeout(setVH, 100);
            });
            
            // Prevent iOS Safari from zooming on double-tap
            let lastTouchEnd = 0;
            document.addEventListener('touchend', (e) => {
                const now = Date.now();
                if (now - lastTouchEnd <= 300) {
                    e.preventDefault();
                }
                lastTouchEnd = now;
            }, { passive: false });
            } catch (e) { /* Silently handle Safari initialization errors */ }
        }
        
        // Scroll state management
        let scrollTimeout;
        const SCROLL_PAUSE_DURATION = 250; // ms to keep animations paused after scroll
        
        function pauseAnimations() {
            document.body.classList.add('scrolling');
            clearTimeout(scrollTimeout);
        }
        
        function resumeAnimations(immediate = false) {
            clearTimeout(scrollTimeout);
            if (immediate) {
                document.body.classList.remove('scrolling');
            } else {
                scrollTimeout = setTimeout(() => {
                    document.body.classList.remove('scrolling');
                }, SCROLL_PAUSE_DURATION);
            }
        }
        
        // Track if we're currently transitioning to prevent double-clicks
        let isTransitioning = false;
        let transitionSafetyTimeout = null;
        
        // Safety function to reset transition state (prevents stuck state)
        function resetTransitionState() {
            isTransitioning = false;
            if (transitionSafetyTimeout) {
                clearTimeout(transitionSafetyTimeout);
                transitionSafetyTimeout = null;
            }
        }
        
        // Get currently visible section
        function getCurrentSection() {
            const scrollTop = scrollContainer.scrollTop;
            const sectionHeight = window.innerHeight;
            const currentIndex = Math.round(scrollTop / sectionHeight);
            return sections[currentIndex] || sections[0];
        }
        
        // Black fade transition for MENU CLICKS only
        const transitionOverlay = document.getElementById('transition-overlay');
        
        function menuTransitionToSection(targetId, clickedElement = null) {
            // If already transitioning, force reset after a short delay and try again
            if (isTransitioning) {
                // Safety: if transition is stuck, reset and proceed
                setTimeout(function() {
                    resetTransitionState();
                }, 100);
                return;
            }
            
            const currentSectionId = getCurrentSection();
            const targetSection = document.getElementById(targetId);
            
            if (!targetSection) return;
            
            // Allow navigation even if same section (for mobile tap feedback)
            const isSameSection = currentSectionId === targetId;
            
            isTransitioning = true;
            
            // ARCADE: Disable arcade mode before transitioning away (allows scrolling)
            if (document.body.classList.contains('arcade-active') && targetId !== 'game') {
                disableArcadeMode();
            }
            
            // Safety timeout - reset transition state after max 2 seconds
            transitionSafetyTimeout = setTimeout(function() {
                resetTransitionState();
            }, 2000);
            
            // Detect Safari for faster timing
            const isSafariBrowser = document.body.classList.contains('is-safari') || document.body.classList.contains('is-mac-safari');
            const fadeInTime = isSafariBrowser ? 230 : 345;
            const pauseTime = isSafariBrowser ? 35 : 58;
            const snapReenableTime = isSafariBrowser ? 58 : 115;
            
            // Mobile: Add tap highlight class (skip logo)
            const isMobile = window.innerWidth <= 768;
            const isLogo = clickedElement && clickedElement.classList.contains('nav-animated-logo-container');
            if (isMobile && clickedElement && !isLogo) {
                // Remove from all nav links first
                document.querySelectorAll('nav a:not(.nav-animated-logo-container)').forEach(function(link) {
                    link.classList.remove('nav-tap-active');
                });
                clickedElement.classList.add('nav-tap-active');
                
                // Remove tap highlight after 3 seconds (includes fade in/out time)
                setTimeout(function() {
                    clickedElement.classList.remove('nav-tap-active');
                }, 3000);
            }
            
            // If same section, just show tap feedback and return
            if (isSameSection) {
                setTimeout(function() {
                    resetTransitionState();
                }, 100);
                return;
            }
            
            // Add page-transitioning class to pause animations
            document.body.classList.add('page-transitioning');
            
            // Fade in the black overlay
            transitionOverlay.classList.add('active');
            
            // After fade in complete, do the scroll
            setTimeout(() => {
                // Use multiple scroll methods for maximum compatibility
                // Safari sometimes ignores scrollIntoView, so we use scrollTop as fallback
                try {
                    // Primary: scrollIntoView (works in most browsers)
                    targetSection.scrollIntoView({ behavior: 'instant', block: 'start' });
                } catch (e) {
                    // Fallback: direct scrollTop manipulation
                    scrollContainer.scrollTop = targetSection.offsetTop;
                }
                
                // Double-check position after a frame (Safari fix)
                requestAnimationFrame(() => {
                    if (Math.abs(scrollContainer.scrollTop - targetSection.offsetTop) > 10) {
                        scrollContainer.scrollTop = targetSection.offsetTop;
                    }
                });
                
                updateActiveDot(targetId);
                updateActiveMenuItem(targetId);
                updateUrlHash(targetId);
                
                // Brief pause then fade out
                setTimeout(() => {
                    transitionOverlay.classList.remove('active');
                    document.body.classList.remove('page-transitioning');
                    
                    // Mark transition complete after brief delay
                    setTimeout(() => {
                        resetTransitionState();
                    }, snapReenableTime);
                }, pauseTime);
                
            }, fadeInTime); // Match overlay fade-in duration
        }
        
        // Menu navigation uses fade transition
        function smoothScrollTo(target, targetId) {
            menuTransitionToSection(targetId);
        }

        // Smooth scrolling for nav links - uses fade transition
        // Safari iOS fix: Use touchend for better touch response
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            // Handle click events (desktop + some mobile)
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                e.stopPropagation();
                const targetId = this.getAttribute('href').substring(1);
                const target = document.getElementById(targetId);
                if (target) {
                    menuTransitionToSection(targetId, this);
                }
            });
            
            // Safari iOS fix: touchend fires more reliably than click
            // Track touch start position to detect taps vs scrolls
            let touchStartY = 0;
            anchor.addEventListener('touchstart', function(e) {
                touchStartY = e.touches[0].clientY;
            }, { passive: true });
            
            anchor.addEventListener('touchend', function (e) {
                // Only handle if it was a tap (not a scroll - less than 10px movement)
                const touchEndY = e.changedTouches[0].clientY;
                const isScrollGesture = Math.abs(touchEndY - touchStartY) > 10;
                
                if (!isScrollGesture) {
                    e.preventDefault();
                    e.stopPropagation();
                    const targetId = this.getAttribute('href').substring(1);
                    const target = document.getElementById(targetId);
                    if (target) {
                        menuTransitionToSection(targetId, this);
                    }
                }
            }, { passive: false });
        });

        // Card dot navigation - uses fade transition
        const sections = ['home', 'about', 'videos', 'photos', 'game', 'merch', 'events', 'logo-outro'];
        
        document.querySelectorAll('.card-dot').forEach(dot => {
            dot.addEventListener('click', function() {
                const targetId = this.dataset.section;
                const target = document.getElementById(targetId);
                if (target) {
                    menuTransitionToSection(targetId);
                }
            });
        });

        function updateActiveDot(sectionId) {
            cardDots.forEach(dot => {
                dot.classList.remove('active');
                if (dot.dataset.section === sectionId) {
                    dot.classList.add('active');
                }
            });
        }

        // Track scroll position to update dots and trigger slide animations
        // Also pause animations on off-screen sections for performance
        const scrollContainer = document.getElementById('scroll-container');
        
        // Cache DOM queries for performance
        const cardDots = document.querySelectorAll('.card-dot');
        const cardIndicators = document.querySelector('.card-indicators');
        
        // Throttle scroll handling using requestAnimationFrame
        let scrollTicking = false;
        let cardIndicatorTimeout;
        
        // Shared function to show card indicators (defined early for reuse)
        function showCardIndicators() {
            if (cardIndicators) {
                cardIndicators.classList.add('visible');
                clearTimeout(cardIndicatorTimeout);
                cardIndicatorTimeout = setTimeout(() => {
                    cardIndicators.classList.remove('visible');
                }, 1200);
            }
        }
        
        function handleScroll() {
            // Pause animations during scroll
            pauseAnimations();
            resumeAnimations();
            
            // Show card indicators (reuse shared function)
            showCardIndicators();
            
            scrollTicking = false;
        }
        
        // Single optimized scroll listener with throttling
        if (scrollContainer) {
            scrollContainer.addEventListener('scroll', function() {
                // Skip if scroll is locked (game interaction) or in cooldown period
                if (isScrollLocked || unlockCooldown) return;
                
                if (!scrollTicking) {
                    requestAnimationFrame(handleScroll);
                    scrollTicking = true;
                }
            }, { passive: true });
        }
        
        // Block keyboard scroll keys only when hovering over game container
        document.addEventListener('keydown', function(e) {
            if (document.body.classList.contains('arcade-game-hover')) {
                const scrollKeys = ['ArrowUp', 'ArrowDown', 'PageUp', 'PageDown', 'Home', 'End', ' '];
                if (scrollKeys.includes(e.key)) {
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                }
            }
        }, { passive: false });
        
        // Scroll/wheel uses native scroll-snap behavior
        // No interception needed - CSS scroll-snap-type: y mandatory handles it
        
        // ========== SCROLL TRANSITION SYSTEM ==========
        // Intercept scroll/wheel/touch to trigger same fade transition as nav clicks
        let scrollTransitionCooldown = false;
        let isResizing = false; // Block transitions during window resize
        const scrollCooldownTime = 690; // Prevent rapid-fire transitions
        
        // Get ordered section list
        const orderedSections = ['home', 'about', 'videos', 'photos', 'game', 'merch', 'events', 'logo-outro'];
        
        function getNextSection(direction) {
            const currentId = getCurrentSection();
            const currentIndex = orderedSections.indexOf(currentId);
            
            if (direction === 'down' && currentIndex < orderedSections.length - 1) {
                return orderedSections[currentIndex + 1];
            } else if (direction === 'up' && currentIndex > 0) {
                return orderedSections[currentIndex - 1];
            }
            return null;
        }
        
        function triggerScrollTransition(direction) {
            if (scrollTransitionCooldown || isTransitioning || isResizing) return;
            
            const nextSectionId = getNextSection(direction);
            if (!nextSectionId) return;
            
            scrollTransitionCooldown = true;
            menuTransitionToSection(nextSectionId);
            
            setTimeout(() => {
                scrollTransitionCooldown = false;
            }, scrollCooldownTime);
        }
        
        // WHEEL EVENT - Desktop scroll (replaces arcade frame lock handler)
        let wheelAccumulator = 0;
        const wheelThreshold = 50; // Pixels of wheel delta before triggering
        let wheelResetTimeout;
        
        scrollContainer.addEventListener('wheel', function(e) {
            // Don't intercept if game is active (arcade hover)
            if (document.body.classList.contains('arcade-game-hover')) {
                e.preventDefault();
                e.stopPropagation();
                return false;
            }
            
            e.preventDefault();
            
            wheelAccumulator += e.deltaY;
            
            clearTimeout(wheelResetTimeout);
            wheelResetTimeout = setTimeout(() => {
                wheelAccumulator = 0;
            }, 150);
            
            if (Math.abs(wheelAccumulator) >= wheelThreshold) {
                const direction = wheelAccumulator > 0 ? 'down' : 'up';
                triggerScrollTransition(direction);
                wheelAccumulator = 0;
            }
        }, { passive: false });
        
        // TOUCH EVENTS - Mobile swipe
        let swipeTouchStartY = 0;
        let swipeTouchStartTime = 0;
        const swipeThreshold = 50; // Minimum swipe distance
        const swipeTimeLimit = 300; // Max time for swipe gesture
        
        scrollContainer.addEventListener('touchstart', function(e) {
            // Don't intercept if game is active
            if (isInteractingWithGame || isGameVisible || isScrollLocked) return;
            
            swipeTouchStartY = e.touches[0].clientY;
            swipeTouchStartTime = Date.now();
        }, { passive: true });
        
        scrollContainer.addEventListener('touchmove', function(e) {
            // Don't intercept if game is active
            if (isInteractingWithGame || isGameVisible || isScrollLocked) return;
            
            // Prevent native scroll when not in cooldown
            if (!scrollTransitionCooldown && !isTransitioning) {
                e.preventDefault();
            }
        }, { passive: false });
        
        scrollContainer.addEventListener('touchend', function(e) {
            // Don't intercept if game is active
            if (isInteractingWithGame || isGameVisible || isScrollLocked) return;
            
            const touchEndY = e.changedTouches[0].clientY;
            const touchEndTime = Date.now();
            
            const deltaY = swipeTouchStartY - touchEndY;
            const deltaTime = touchEndTime - swipeTouchStartTime;
            
            if (Math.abs(deltaY) >= swipeThreshold && deltaTime <= swipeTimeLimit) {
                const direction = deltaY > 0 ? 'down' : 'up';
                triggerScrollTransition(direction);
            }
        }, { passive: true });
        
        // ========== RESIZE SCROLL LOCK ==========
        // Maintain current section position when window is resized (including monitor drags)
        let resizeScrollTimeout;
        let currentSectionBeforeResize = null;
        let lastKnownSectionTop = 0;
        
        window.addEventListener('resize', function() {
            // Capture current section at start of resize sequence
            if (!currentSectionBeforeResize) {
                currentSectionBeforeResize = getCurrentSection();
                const targetSection = document.getElementById(currentSectionBeforeResize);
                if (targetSection) {
                    lastKnownSectionTop = targetSection.offsetTop;
                }
            }
            isResizing = true;
            
            // IMMEDIATE correction during resize - keeps section locked in real-time
            if (currentSectionBeforeResize && scrollContainer) {
                const targetSection = document.getElementById(currentSectionBeforeResize);
                if (targetSection) {
                    // Direct scroll position set (faster than scrollIntoView during rapid events)
                    scrollContainer.scrollTop = targetSection.offsetTop;
                }
            }
            
            // Debounce - final cleanup after resize settles
            clearTimeout(resizeScrollTimeout);
            resizeScrollTimeout = setTimeout(function() {
                if (currentSectionBeforeResize && scrollContainer) {
                    const targetSection = document.getElementById(currentSectionBeforeResize);
                    if (targetSection) {
                        // Final position lock with scrollIntoView for reliability
                        targetSection.scrollIntoView({ behavior: 'instant', block: 'start' });
                    }
                }
                currentSectionBeforeResize = null;
                lastKnownSectionTop = 0;
                isResizing = false;
            }, 200);
        });
        
        // Update URL hash without adding to browser history (cleaner UX)
        var lastUrlSection = '';
        function updateUrlHash(sectionId) {
            // Don't update for logo-outro (treat as extension of home)
            var hashSection = sectionId === 'logo-outro' ? 'home' : sectionId;
            
            // Only update if section actually changed
            if (hashSection === lastUrlSection) return;
            lastUrlSection = hashSection;
            
            // Use replaceState to avoid cluttering browser history
            // Wrapped in try-catch for iframe/preview environments
            try {
                var newUrl = hashSection === 'home' 
                    ? window.location.pathname  // Clean URL for home (no hash)
                    : window.location.pathname + '#' + hashSection;
                
                history.replaceState(null, '', newUrl);
            } catch (e) {
                // Silently fail in restricted environments (iframes, previews)
            }
        }

        // Wrap IntersectionObserver in try-catch for Safari compatibility
        var observer = null;
        var isArcadeActive = false;
        var isDesktop = window.innerWidth > 768;
        
        // Update desktop detection on resize
        window.addEventListener('resize', function() {
            isDesktop = window.innerWidth > 768;
        });
        
        // Arcade mode functions (desktop only)
        function enableArcadeMode() {
            if (!isDesktop) return;
            document.body.classList.add('arcade-active');
        }
        
        function disableArcadeMode() {
            document.body.classList.remove('arcade-active');
            document.body.classList.remove('arcade-game-hover');
        }
        
        try {
            observer = new IntersectionObserver(function(entries) {
                entries.forEach(function(entry) {
                    if (entry.isIntersecting) {
                        // Section entering view - resume animations
                        entry.target.classList.remove('offscreen');
                        
                        if (entry.intersectionRatio > 0.3) {
                            updateActiveDot(entry.target.id);
                            entry.target.classList.add('visible');
                            // Update active menu item (mobile only, excludes home)
                            updateActiveMenuItem(entry.target.id);
                            // Update URL hash to reflect current section
                            updateUrlHash(entry.target.id);
                            
                            // ARCADE MODE: Disable overlays on desktop
                            if (entry.target.id === 'game') {
                                isArcadeActive = true;
                                if (isDesktop) {
                                    enableArcadeMode();
                                }
                            } else {
                                // Leaving arcade - restore normal behavior
                                if (isArcadeActive) {
                                    isArcadeActive = false;
                                    disableArcadeMode();
                                }
                            }
                        }
                    } else {
                        // Section leaving view - pause animations for performance
                        entry.target.classList.add('offscreen');
                    }
                });
            }, { 
                root: scrollContainer,
                threshold: [0, 0.3, 0.5] // Added 0 threshold to detect exit
            });
        } catch (e) {
            // IntersectionObserver not supported or error
        }
        
        // Cache nav links for performance (queried once)
        const navMenuLinks = document.querySelectorAll('nav a:not(.nav-animated-logo-container)');
        
        // Update active menu item for current section (mobile)
        function updateActiveMenuItem(sectionId) {
            // Remove active class from all menu items (using cached NodeList)
            navMenuLinks.forEach(function(link) {
                link.classList.remove('menu-active');
            });
            
            // Don't highlight for home or logo-outro sections
            if (sectionId === 'home' || sectionId === 'logo-outro') return;
            
            // Find and activate the corresponding menu link (using cached links)
            for (let i = 0; i < navMenuLinks.length; i++) {
                if (navMenuLinks[i].getAttribute('href') === '#' + sectionId) {
                    navMenuLinks[i].classList.add('menu-active');
                    break;
                }
            }
        }

        if (observer) {
            sections.forEach(function(sectionId) {
                var section = document.getElementById(sectionId);
                if (section) {
                    observer.observe(section);
                    // Initialize non-visible sections as offscreen (pauses their animations)
                    if (sectionId !== 'home') {
                        section.classList.add('offscreen');
                    }
                }
            });
        }

        // Make home section visible immediately on load
        window.addEventListener('load', () => {
            // Check for URL hash and navigate to that section
            const initialHash = window.location.hash.slice(1); // Remove the #
            const validSections = ['home', 'about', 'videos', 'photos', 'game', 'merch', 'events'];
            
            if (initialHash && validSections.includes(initialHash)) {
                // Delay navigation until after loader completes
                setTimeout(() => {
                    const targetSection = document.getElementById(initialHash);
                    if (targetSection) {
                        // Instant scroll to section (no animation during load)
                        targetSection.scrollIntoView({ behavior: 'instant', block: 'start' });
                        updateActiveDot(initialHash);
                        updateActiveMenuItem(initialHash);
                        targetSection.classList.add('visible');
                        targetSection.classList.remove('offscreen'); // Resume animations
                        lastUrlSection = initialHash;
                    }
                }, 1250); // After loader fades
            }
            
            // Give animations time to initialize and GPU layers to settle
            // This prevents flickering and animation "pop"
            setTimeout(() => {
                const loader = document.getElementById('page-loader');
                if (loader) {
                    loader.classList.add('loaded');
                    document.body.classList.add('page-loaded');
                    // Remove loader from DOM after fade completes
                    setTimeout(() => {
                        loader.style.display = 'none';
                    }, 400);
                }
            }, 1000); // Loading time for smooth initialization

            const homeSection = document.getElementById('home');
            if (homeSection) {
                setTimeout(() => homeSection.classList.add('visible'), 1000);
            }
            
            // Sync all color animations to start together
            setTimeout(syncColorAnimations, 100);
        });

        // Show on wheel scroll
        if (scrollContainer) {
            scrollContainer.addEventListener('wheel', showCardIndicators, { passive: true });
            
            // Show on touch scroll
            scrollContainer.addEventListener('touchmove', showCardIndicators, { passive: true });
        }
        
        // Also show when hovering over the indicators
        if (cardIndicators) {
            cardIndicators.addEventListener('mouseenter', () => {
                cardIndicators.classList.add('visible');
                clearTimeout(cardIndicatorTimeout);
            });
            cardIndicators.addEventListener('mouseleave', () => {
                cardIndicatorTimeout = setTimeout(() => {
                    cardIndicators.classList.remove('visible');
                }, 800);
            });
        }

        // ========== MUSIC PLAYER ==========
        const audioPlayer = document.getElementById('audio-player');
        const playPauseBtn = document.getElementById('play-pause-btn');
        const progressFill = document.getElementById('progress-fill');
        const progressBar = document.getElementById('progress-bar');
        const currentTimeEl = document.getElementById('current-time');
        const durationEl = document.getElementById('duration');
        const volumeSlider = document.getElementById('volume-slider');
        const volumeBtn = document.getElementById('volume-btn');
        const trackTitleEl = document.getElementById('track-title');

        let isPlaying = false;
        let currentTrackIndex = 0;

        // Playlist: Queen, Goldmine, Girl With Weed, It's So Fine (Part II)
        const playlist = [
            { src: 'Music/QUEEN.mp3', title: 'QUEEN' },
            { src: 'Music/GOLDMINE.mp3', title: 'GOLDMINE' },
            { src: 'Music/GIRL_WITH_WEED.mp3', title: 'GIRL WITH WEED' },
            { src: 'Music/IT_S_SO_FINE__part_II_.mp3', title: "IT'S SO FINE (part II)" }
        ];

        // Load a track by index
        function loadTrack(index) {
            if (!audioPlayer || index < 0 || index >= playlist.length) return;
            currentTrackIndex = index;
            const track = playlist[index];
            audioPlayer.src = track.src;
            if (trackTitleEl) trackTitleEl.textContent = track.title;
            if (progressFill) progressFill.style.width = '0%';
            if (currentTimeEl) currentTimeEl.textContent = '0:00';
            if (durationEl) durationEl.textContent = '0:00';
        }

        // Next track
        function nextTrack() {
            const wasPlaying = isPlaying;
            const nextIndex = (currentTrackIndex + 1) % playlist.length;
            loadTrack(nextIndex);
            if (wasPlaying) {
                audioPlayer.play().catch(function() {});
            }
        }

        // Previous track
        function prevTrack() {
            const wasPlaying = isPlaying;
            // If more than 3 seconds in, restart current track; otherwise go to previous
            if (audioPlayer && audioPlayer.currentTime > 3) {
                audioPlayer.currentTime = 0;
            } else {
                const prevIndex = (currentTrackIndex - 1 + playlist.length) % playlist.length;
                loadTrack(prevIndex);
            }
            if (wasPlaying) {
                audioPlayer.play().catch(function() {});
            }
        }

        // Set initial volume (with null check for Safari)
        if (audioPlayer) {
            try {
                audioPlayer.volume = 0.7;
            } catch (e) { /* Audio not ready */ }
        }

        // Music Player Toggle
        function toggleMusicPlayer() {
            var player = document.getElementById('music-player');
            var toggle = document.getElementById('music-toggle');
            var isSmallPhone = window.innerWidth <= 390;
            
            if (isSmallPhone) {
                // On small phones, toggle 'shown' class
                player.classList.toggle('shown');
                var isShown = player.classList.contains('shown');
                toggle.style.display = isShown ? 'none' : 'flex';
                localStorage.setItem('musicPlayerHidden', isShown ? 'false' : 'true');
            } else {
                // On larger screens, toggle 'hidden' class
                player.classList.toggle('hidden');
                var isHidden = player.classList.contains('hidden');
                toggle.classList.toggle('visible', isHidden);
                localStorage.setItem('musicPlayerHidden', isHidden ? 'true' : 'false');
            }
        }
        
        // Initialize music player visibility on page load
        function initMusicPlayerVisibility() {
            var player = document.getElementById('music-player');
            var toggle = document.getElementById('music-toggle');
            var isSmallPhone = window.innerWidth <= 390;
            var savedPref = localStorage.getItem('musicPlayerHidden');
            
            if (isSmallPhone) {
                // On small phones, auto-hide unless user chose to show
                if (savedPref === 'false') {
                    player.classList.add('shown');
                    toggle.style.display = 'none';
                } else {
                    toggle.style.display = 'flex';
                }
            } else {
                // On larger screens, show unless user chose to hide
                if (savedPref === 'true') {
                    player.classList.add('hidden');
                    toggle.classList.add('visible');
                }
            }
        }
        
        // Run on DOM ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initMusicPlayerVisibility);
        } else {
            initMusicPlayerVisibility();
        }

        function togglePlay() {
            if (!audioPlayer) return;
            try {
                if (isPlaying) {
                    audioPlayer.pause();
                    if (playPauseBtn) playPauseBtn.textContent = '';
                } else {
                    audioPlayer.play().catch(function() { /* Autoplay blocked */ });
                    if (playPauseBtn) playPauseBtn.textContent = '';
                }
                isPlaying = !isPlaying;
            } catch (e) { /* Audio error */ }
        }

        function formatTime(seconds) {
            if (!seconds || isNaN(seconds)) return '0:00';
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return mins + ':' + secs.toString().padStart(2, '0');
        }

        if (audioPlayer) {
            audioPlayer.addEventListener('loadedmetadata', function() {
                if (durationEl) durationEl.textContent = formatTime(audioPlayer.duration);
            });

            // Throttle timeupdate to reduce DOM updates (fires ~4x per second instead of constantly)
            var lastTimeUpdate = 0;
            audioPlayer.addEventListener('timeupdate', function() {
                var now = Date.now();
                if (now - lastTimeUpdate < 250) return; // Throttle to 4 updates per second
                lastTimeUpdate = now;
                
                var progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                if (progressFill) progressFill.style.width = progress + '%';
                if (currentTimeEl) currentTimeEl.textContent = formatTime(audioPlayer.currentTime);
            });

            // Auto-advance to next track when current one ends
            audioPlayer.addEventListener('ended', function() {
                nextTrack();
                // Keep playing
                audioPlayer.play().catch(function() {});
            });
            
            audioPlayer.addEventListener('play', function() {
                isPlaying = true;
                if (playPauseBtn) playPauseBtn.textContent = '';
            });
            
            audioPlayer.addEventListener('pause', function() {
                isPlaying = false;
                if (playPauseBtn) playPauseBtn.textContent = '';
            });
            
            audioPlayer.addEventListener('error', function() {
                /* Silently handle audio loading errors */
            });
        }

        function seekTrack(e) {
            if (!audioPlayer || !progressBar) return;
            try {
                var rect = progressBar.getBoundingClientRect();
                var clickX = e.clientX - rect.left;
                var percentage = clickX / rect.width;
                audioPlayer.currentTime = percentage * audioPlayer.duration;
            } catch (err) { /* Seek error */ }
        }

        function changeVolume(value) {
            if (!audioPlayer) return;
            try {
                audioPlayer.volume = value;
                updateVolumeIcon(value);
            } catch (err) { /* Volume error */ }
        }

        function toggleMute() {
            if (!audioPlayer) return;
            try {
                if (audioPlayer.volume > 0) {
                    audioPlayer.dataset.prevVolume = audioPlayer.volume;
                    audioPlayer.volume = 0;
                    if (volumeSlider) volumeSlider.value = 0;
                    if (volumeBtn) volumeBtn.textContent = '';
                } else {
                    audioPlayer.volume = audioPlayer.dataset.prevVolume || 0.7;
                    if (volumeSlider) volumeSlider.value = audioPlayer.volume;
                    updateVolumeIcon(audioPlayer.volume);
                }
            } catch (err) { /* Mute error */ }
        }

        function updateVolumeIcon(value) {
            if (!volumeBtn) return;
            if (value == 0) {
                volumeBtn.textContent = '';
            } else if (value < 0.5) {
                volumeBtn.textContent = '';
            } else {
                volumeBtn.textContent = '';
            }
        }

        // ========== GLOBAL AUDIO MANAGEMENT ==========
        // Pause all other audio sources when one starts playing
        
        // YouTube IFrame API setup
        let ytPlayers = {};
        let ytApiReady = false;
        
        // Initialize YouTube players once API is ready
        function initYouTubePlayers() {
            if (ytApiReady) return; // Already initialized
            ytApiReady = true;
            
            const iframes = document.querySelectorAll('iframe[id^="yt-player"]');
            iframes.forEach(iframe => {
                try {
                    ytPlayers[iframe.id] = new YT.Player(iframe.id, {
                        events: {
                            'onStateChange': onYTPlayerStateChange
                        }
                    });
                } catch (e) {
                    // Player init can fail if iframe not ready yet
                }
            });
        }
        
        // Called by YouTube API when ready
        window.onYouTubeIframeAPIReady = function() {
            initYouTubePlayers();
        };
        
        // Load YouTube IFrame API (only if not already loading/loaded)
        try {
            if (!window.YT) {
                var ytScript = document.createElement('script');
                ytScript.src = 'https://www.youtube.com/iframe_api';
                ytScript.onerror = function() { /* Silently fail if YouTube blocked */ };
                document.head.appendChild(ytScript);
            } else if (window.YT && window.YT.Player) {
                // API already loaded
                initYouTubePlayers();
            }
        } catch (e) {
            // YouTube API loading failed
        }
        
        // Handle YouTube player state changes
        function onYTPlayerStateChange(event) {
            try {
                // If video started playing (state 1 = playing)
                if (window.YT && event.data === window.YT.PlayerState.PLAYING) {
                    pauseAllAudioExcept('youtube', event.target.getIframe().id);
                }
            } catch (e) {
                // YT API not ready
            }
        }
        
        // Pause all audio sources except the specified one
        function pauseAllAudioExcept(sourceType, sourceId) {
            // Pause music player if it's not the source
            if (sourceType !== 'musicPlayer' && isPlaying && audioPlayer) {
                try {
                    audioPlayer.pause();
                    if (playPauseBtn) playPauseBtn.textContent = '';
                    isPlaying = false;
                } catch (e) { /* Audio error */ }
            }
            
            // Pause all YouTube videos except the one playing
            if (ytApiReady && window.YT) {
                Object.keys(ytPlayers).forEach(playerId => {
                    if (sourceType !== 'youtube' || playerId !== sourceId) {
                        try {
                            const player = ytPlayers[playerId];
                            if (player && player.pauseVideo) {
                                player.pauseVideo();
                            }
                        } catch (e) {
                            // Player might not be ready yet
                        }
                    }
                });
            }
        }
        
        // Override togglePlay to pause other audio first
        const originalTogglePlay = togglePlay;
        togglePlay = function() {
            if (!isPlaying) {
                // About to play - pause other sources first
                pauseAllAudioExcept('musicPlayer', 'audio-player');
            }
            originalTogglePlay();
        };
        
        // Also handle when audio starts playing via other means
        if (audioPlayer) {
            audioPlayer.addEventListener('play', function() {
                pauseAllAudioExcept('musicPlayer', 'audio-player');
            });
        }
        
        // ========== ARCADE GAME SELECTOR ==========
        const arcadePills = document.querySelectorAll('.arcade-pill');
        const arcadeFrame = document.getElementById('arcadeFrame');
        const arcadeGameContainer = document.querySelector('#game .game-container');
        
        if (arcadePills.length > 0 && arcadeFrame) {
            // Mobile uses fixed aspect ratio from CSS - no per-game override needed
            // Desktop can use per-game aspect ratios if needed
            const activePill = document.querySelector('.arcade-pill.active');
            if (activePill && activePill.dataset.aspect && window.innerWidth > 768) {
                arcadeFrame.style.setProperty('aspect-ratio', activePill.dataset.aspect, 'important');
            }
            
            arcadePills.forEach(pill => {
                // Click handler for desktop
                pill.addEventListener('click', () => switchArcadeGame(pill));
                
                // Touch handler for mobile
                pill.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    switchArcadeGame(pill);
                });
            });
            
            function switchArcadeGame(pill) {
                // Skip if already active
                if (pill.classList.contains('active')) return;
                
                const gameSrc = pill.dataset.game;
                const gameTitle = pill.dataset.title;
                const gameAspect = pill.dataset.aspect;
                
                // Update active pill
                arcadePills.forEach(p => p.classList.remove('active'));
                pill.classList.add('active');
                
                // Fade out transition
                arcadeGameContainer.classList.add('switching');
                
                // Swap iframe after fade
                setTimeout(() => {
                    arcadeFrame.src = gameSrc;
                    arcadeFrame.title = gameTitle;
                    
                    // Mobile uses fixed aspect ratio from CSS - don't override per-game
                    // Desktop can use per-game aspect ratios if needed
                    if (gameAspect && window.innerWidth > 768) {
                        arcadeFrame.style.setProperty('aspect-ratio', gameAspect, 'important');
                    }
                    
                    // Fade back in
                    arcadeGameContainer.classList.remove('switching');
                    arcadeGameContainer.classList.add('switching-in');
                    
                    // Clean up transition class
                    setTimeout(() => {
                        arcadeGameContainer.classList.remove('switching-in');
                    }, 200);
                }, 150);
            }
        }

        // ========== FULLSCREEN TOGGLE FOR GAME ==========
        // Helps combat mobile browser toolbar auto-hide issues
        const fullscreenBtn = document.querySelector('.game-fullscreen-btn');
        const arcadeGameContainerFS = document.querySelector('.game-container');
        const arcadeFrameFS = document.getElementById('arcadeFrame');
        
        // Store iframe's natural size before fullscreen
        let iframeNaturalWidth = 640;
        let iframeNaturalHeight = 800;
        
        if (fullscreenBtn && arcadeGameContainerFS) {
            // Update button icon and scale game based on fullscreen state
            function updateFullscreenState() {
                const isFullscreen = document.fullscreenElement || 
                                    document.webkitFullscreenElement || 
                                    document.mozFullScreenElement ||
                                    document.msFullscreenElement;
                fullscreenBtn.textContent = isFullscreen ? '' : '';
                fullscreenBtn.setAttribute('aria-label', isFullscreen ? 'Exit fullscreen' : 'Enter fullscreen');
                
                // Scale the iframe to fill more of the screen in fullscreen mode
                if (arcadeFrameFS) {
                    if (isFullscreen) {
                        // Detect mobile/tablet properly (iPadOS 13+ reports as Macintosh)
                        const isIPadFS = /iPad/.test(navigator.userAgent) || 
                                        (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1) ||
                                        (/Macintosh/.test(navigator.userAgent) && 'ontouchend' in document);
                        const isMobile = /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
                        const isTabletFS = isIPadFS || (('ontouchstart' in window) && Math.min(window.screen.width, window.screen.height) >= 600);
                        
                        // DEBUG: Show parent container info
                        let debugParent = document.getElementById('parent-debug');
                        if (!debugParent) {
                            debugParent = document.createElement('div');
                            debugParent.id = 'parent-debug';
                            debugParent.style.cssText = 'position:fixed;top:10px;right:10px;background:rgba(0,100,255,0.9);color:#fff;padding:8px;font:11px monospace;z-index:999999;border-radius:4px;max-width:280px;text-align:left;';
                            document.body.appendChild(debugParent);
                        }
                        
                        const screenW = window.innerWidth;
                        const screenH = window.innerHeight;
                        
                        if (isMobile || isTabletFS) {
                            // MOBILE/TABLET: Calculate dimensions and center with absolute positioning
                            
                            // Get aspect ratio from active pill
                            const activePill = document.querySelector('.arcade-pill.active');
                            const aspectStr = activePill ? activePill.dataset.aspect : '630/773';
                            const aspectParts = aspectStr.split('/');
                            const aspectW = parseFloat(aspectParts[0]) || 630;
                            const aspectH = parseFloat(aspectParts[1]) || 773;
                            const gameAspect = aspectW / aspectH;
                            
                            // Calculate size to fit screen while maintaining aspect ratio
                            let targetW, targetH;
                            if (screenW / screenH > gameAspect) {
                                // Screen is wider - fit to height
                                targetH = screenH;
                                targetW = targetH * gameAspect;
                            } else {
                                // Screen is taller - fit to width
                                targetW = screenW;
                                targetH = targetW / gameAspect;
                            }
                            
                            // Calculate centered position
                            const leftPos = (screenW - targetW) / 2;
                            const topPos = (screenH - targetH) / 2;
                            
                            arcadeFrameFS.style.position = 'absolute';
                            arcadeFrameFS.style.width = targetW + 'px';
                            arcadeFrameFS.style.height = targetH + 'px';
                            arcadeFrameFS.style.top = topPos + 'px';
                            arcadeFrameFS.style.left = leftPos + 'px';
                            arcadeFrameFS.style.transform = 'none';
                            arcadeFrameFS.style.border = 'none';
                            
                            debugParent.innerHTML = `
                                <b>Parent Debug (Tablet)</b><br>
                                screen: ${screenW}${screenH}<br>
                                aspect: ${aspectStr} = ${gameAspect.toFixed(3)}<br>
                                target: ${Math.round(targetW)}${Math.round(targetH)}<br>
                                pos: L${Math.round(leftPos)} T${Math.round(topPos)}<br>
                                isIPad: ${isIPadFS}<br>
                                isMobile: ${isMobile}<br>
                                isTablet: ${isTabletFS}
                            `;
                        } else {
                            // DESKTOP: Use transform scaling
                            requestAnimationFrame(() => {
                                const screenW = window.innerWidth;
                                const screenH = window.innerHeight;
                                
                                const scaleX = screenW / iframeNaturalWidth;
                                const scaleY = screenH / iframeNaturalHeight;
                                const scale = Math.min(scaleX, scaleY, 5.0);
                                
                                const scaledW = iframeNaturalWidth * scale;
                                const scaledH = iframeNaturalHeight * scale;
                                const leftPos = (screenW - scaledW) / 2;
                                const topPos = (screenH - scaledH) / 2;
                                
                                arcadeFrameFS.style.position = 'absolute';
                                arcadeFrameFS.style.width = iframeNaturalWidth + 'px';
                                arcadeFrameFS.style.height = iframeNaturalHeight + 'px';
                                arcadeFrameFS.style.top = topPos + 'px';
                                arcadeFrameFS.style.left = leftPos + 'px';
                                arcadeFrameFS.style.transform = `scale(${scale})`;
                                arcadeFrameFS.style.transformOrigin = 'top left';
                                arcadeFrameFS.style.border = 'none';
                            });
                        }
                    } else {
                        // Reset to normal styling when exiting fullscreen
                        arcadeFrameFS.style.position = '';
                        arcadeFrameFS.style.width = '';
                        arcadeFrameFS.style.height = '';
                        arcadeFrameFS.style.top = '';
                        arcadeFrameFS.style.left = '';
                        arcadeFrameFS.style.transform = '';
                        arcadeFrameFS.style.transformOrigin = '';
                        arcadeFrameFS.style.border = '';
                        
                        // Remove debug overlay
                        const debugParent = document.getElementById('parent-debug');
                        if (debugParent) debugParent.remove();
                        
                        // Restore aspect ratio from active pill (critical for mobile)
                        const activePill = document.querySelector('.arcade-pill.active');
                        if (activePill && activePill.dataset.aspect) {
                            arcadeFrameFS.style.setProperty('aspect-ratio', activePill.dataset.aspect, 'important');
                        }
                    }
                }
            }
            
            // Toggle fullscreen on button click
            // Detect iOS/iPadOS properly
            // iPadOS 13+ reports as Macintosh, so check for touch + Mac combo
            const isIPhone = /iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
            const isIPad = /iPad/.test(navigator.userAgent) || 
                          (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1) ||
                          (/Macintosh/.test(navigator.userAgent) && 'ontouchend' in document);
            
            // Hide fullscreen button entirely on iPad
            if (isIPad && fullscreenBtn) {
                fullscreenBtn.style.display = 'none';
            }
            
            // Only iPhone uses pseudo-fullscreen
            // Native fullscreen on iPhone has an unblockable swipe-down-to-exit system gesture
            const isIOS = isIPhone;
            let pseudoFullscreen = false;
            
            function enterPseudoFullscreen() {
                pseudoFullscreen = true;
                arcadeGameContainerFS.classList.add('pseudo-fullscreen');
                document.body.classList.add('pseudo-fullscreen-active');
                document.body.style.overflow = 'hidden';
                document.body.style.touchAction = 'none';
                document.documentElement.style.overflow = 'hidden';
                document.documentElement.style.touchAction = 'none';
                fullscreenBtn.textContent = '';
                
                // Hide music player
                const musicPlayer = document.getElementById('music-player');
                if (musicPlayer) {
                    musicPlayer.style.display = 'none';
                    musicPlayer.style.visibility = 'hidden';
                    musicPlayer.style.pointerEvents = 'none';
                }
                
                // Calculate sizing based on available viewport
                resizePseudoFullscreen();
            }
            
            function resizePseudoFullscreen() {
                if (!pseudoFullscreen) return;
                
                const screenW = window.innerWidth;
                const screenH = window.innerHeight;
                const isLandscape = screenW > screenH;
                const isPhone = Math.min(screenW, screenH) < 500;
                
                // Get game aspect ratio from active pill
                const activePill = document.querySelector('.arcade-pill.active');
                const aspectStr = activePill ? activePill.dataset.aspect : '630/773';
                const aspectParts = aspectStr.split('/');
                const aspectW = parseFloat(aspectParts[0]) || 630;
                const aspectH = parseFloat(aspectParts[1]) || 773;
                const gameAspect = aspectW / aspectH;
                
                // Safe area padding - ensure entire game border visible
                // Increased padding for tablets to show full cyan border
                let paddingTop, paddingBottom, paddingHoriz;
                if (isPhone) {
                    paddingTop = isLandscape ? 15 : 60;
                    paddingBottom = isLandscape ? 15 : 20;
                    paddingHoriz = isLandscape ? 55 : 10;
                } else {
                    // Tablet - more padding to ensure full border visibility
                    paddingTop = 40;
                    paddingBottom = 40;
                    paddingHoriz = 40;
                }
                
                // Calculate available space
                const availW = screenW - (paddingHoriz * 2);
                const availH = screenH - paddingTop - paddingBottom;
                
                // Fit game maintaining aspect ratio
                let targetW, targetH;
                if (availW / availH > gameAspect) {
                    // Height constrained - fit to height
                    targetH = availH;
                    targetW = targetH * gameAspect;
                } else {
                    // Width constrained - fit to width
                    targetW = availW;
                    targetH = targetW / gameAspect;
                }
                
                // Ensure we don't exceed available space
                targetW = Math.min(targetW, availW);
                targetH = Math.min(targetH, availH);
                
                // Center horizontally, position from top
                const leftPos = (screenW - targetW) / 2;
                const topPos = paddingTop + (availH - targetH) / 2;
                
                // Apply styles
                arcadeFrameFS.style.position = 'absolute';
                arcadeFrameFS.style.width = Math.floor(targetW) + 'px';
                arcadeFrameFS.style.height = Math.floor(targetH) + 'px';
                arcadeFrameFS.style.top = Math.floor(topPos) + 'px';
                arcadeFrameFS.style.left = Math.floor(leftPos) + 'px';
                arcadeFrameFS.style.transform = 'none';
                arcadeFrameFS.style.border = 'none';
                arcadeFrameFS.style.maxWidth = '100vw';
                arcadeFrameFS.style.maxHeight = '100vh';
            }
            
            function exitPseudoFullscreen() {
                pseudoFullscreen = false;
                arcadeGameContainerFS.classList.remove('pseudo-fullscreen');
                document.body.classList.remove('pseudo-fullscreen-active');
                document.body.style.overflow = '';
                document.body.style.touchAction = '';
                document.documentElement.style.overflow = '';
                document.documentElement.style.touchAction = '';
                fullscreenBtn.textContent = '';
                
                // Show music player
                const musicPlayer = document.getElementById('music-player');
                if (musicPlayer) {
                    musicPlayer.style.display = '';
                    musicPlayer.style.visibility = '';
                    musicPlayer.style.pointerEvents = '';
                }
                
                // Reset iframe styles
                arcadeFrameFS.style.position = '';
                arcadeFrameFS.style.width = '';
                arcadeFrameFS.style.height = '';
                arcadeFrameFS.style.top = '';
                arcadeFrameFS.style.left = '';
                arcadeFrameFS.style.transform = '';
                arcadeFrameFS.style.border = '';
                
                const activePill = document.querySelector('.arcade-pill.active');
                if (activePill && activePill.dataset.aspect) {
                    arcadeFrameFS.style.setProperty('aspect-ratio', activePill.dataset.aspect, 'important');
                }
            }
            
            fullscreenBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                // For iOS, use pseudo-fullscreen
                if (isIOS) {
                    if (pseudoFullscreen) {
                        exitPseudoFullscreen();
                    } else {
                        enterPseudoFullscreen();
                    }
                    return;
                }
                
                const isFullscreen = document.fullscreenElement || 
                                    document.webkitFullscreenElement || 
                                    document.mozFullScreenElement ||
                                    document.msFullscreenElement;
                
                if (isFullscreen) {
                    // Exit fullscreen
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    } else if (document.webkitExitFullscreen) {
                        document.webkitExitFullscreen();
                    } else if (document.mozCancelFullScreen) {
                        document.mozCancelFullScreen();
                    } else if (document.msExitFullscreen) {
                        document.msExitFullscreen();
                    }
                } else {
                    // Capture reference size BEFORE going fullscreen
                    if (arcadeFrameFS) {
                        const rect = arcadeFrameFS.getBoundingClientRect();
                        iframeNaturalWidth = rect.width || 640;
                        iframeNaturalHeight = rect.height || 800;
                    }
                    
                    // Enter fullscreen on game container
                    if (arcadeGameContainerFS.requestFullscreen) {
                        arcadeGameContainerFS.requestFullscreen();
                    } else if (arcadeGameContainerFS.webkitRequestFullscreen) {
                        arcadeGameContainerFS.webkitRequestFullscreen();
                    } else if (arcadeGameContainerFS.mozRequestFullScreen) {
                        arcadeGameContainerFS.mozRequestFullScreen();
                    } else if (arcadeGameContainerFS.msRequestFullscreen) {
                        arcadeGameContainerFS.msRequestFullscreen();
                    }
                }
            });
            
            // Touch handler for mobile
            fullscreenBtn.addEventListener('touchend', function(e) {
                e.preventDefault();
                e.stopPropagation();
                fullscreenBtn.click();
            }, { passive: false });
            
            // Listen for fullscreen changes
            document.addEventListener('fullscreenchange', updateFullscreenState);
            document.addEventListener('webkitfullscreenchange', updateFullscreenState);
            document.addEventListener('mozfullscreenchange', updateFullscreenState);
            document.addEventListener('MSFullscreenChange', updateFullscreenState);
            
            // Also update on window resize while in fullscreen
            window.addEventListener('resize', function() {
                const isFullscreen = document.fullscreenElement || 
                                    document.webkitFullscreenElement;
                if (isFullscreen) {
                    updateFullscreenState();
                }
                // Handle pseudo-fullscreen resize (iOS and tablets)
                if (pseudoFullscreen) {
                    resizePseudoFullscreen();
                }
            });
            
            // Handle orientation changes for tablets/phones
            window.addEventListener('orientationchange', function() {
                if (pseudoFullscreen) {
                    // Small delay to let the browser settle after rotation
                    setTimeout(resizePseudoFullscreen, 100);
                }
            });
            
            // Ensure reset when user switches apps, locks phone, or returns to page
            document.addEventListener('visibilitychange', function() {
                if (document.visibilityState === 'visible') {
                    // Page is visible again - check if fullscreen was exited
                    const isFullscreen = document.fullscreenElement || 
                                        document.webkitFullscreenElement;
                    if (!isFullscreen && !pseudoFullscreen) {
                        updateFullscreenState(); // This will trigger the reset
                    }
                    // Exit iOS pseudo-fullscreen when returning to app
                    if (isIOS && pseudoFullscreen) {
                        exitPseudoFullscreen();
                    }
                }
            });
            
            window.addEventListener('pageshow', function(event) {
                // Only trigger on back/forward navigation (persisted pages)
                if (event.persisted) {
                    const isFullscreen = document.fullscreenElement || 
                                        document.webkitFullscreenElement;
                    if (!isFullscreen && !pseudoFullscreen) {
                        updateFullscreenState();
                    }
                    if (isIOS && pseudoFullscreen) {
                        exitPseudoFullscreen();
                    }
                }
            });
        }

        // ========== GAME CONTAINER SCROLL PREVENTION ==========
        // Completely prevent page scrolling when interacting with game
        const gameSection = document.getElementById('game');
        const gameContainer = document.querySelector('.game-container');
        // Note: scrollContainer is already declared above
        
        // Track game interaction state
        let isInteractingWithGame = false;
        let isGameVisible = false;
        let savedScrollY = 0;
        let isScrollLocked = false;
        let unlockCooldown = false; // iOS Safari: prevent snaps during unlock transition
        
        // Check if element is within game area
        function isGameElement(el) {
            if (!el) return false;
            return el.closest('.game-container') || el.closest('#game iframe');
        }
        
        // Check if coordinates are within game container
        function isPointInGame(x, y) {
            if (!gameContainer) return false;
            const rect = gameContainer.getBoundingClientRect();
            return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;
        }
        
        // Intersection Observer to detect when game is visible
        // Used to track visibility state, but don't preemptively lock scroll
        // Scroll lock only happens on actual interaction with game container
        if (gameSection && 'IntersectionObserver' in window) {
            const gameObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.intersectionRatio > 0.5) {
                        isGameVisible = true;
                        // Hide music player on mobile/tablet when game is visible
                        document.body.classList.add('game-section-active');
                    } else {
                        if (isGameVisible && !isInteractingWithGame) {
                            isGameVisible = false;
                            unlockScroll();
                        }
                        // Show music player when leaving game section
                        document.body.classList.remove('game-section-active');
                    }
                });
            }, { threshold: [0, 0.5, 1.0] });
            
            gameObserver.observe(gameSection);
        }
        
        // Listen for postMessage from game iframe to lock/unlock scroll
        // This bridges the gap since iframe touch events don't bubble to parent
        window.addEventListener('message', function(e) {
            if (e.data && e.data.type === 'gameTouch') {
                if (e.data.action === 'start') {
                    isInteractingWithGame = true;
                    lockScroll();
                } else if (e.data.action === 'end') {
                    // Delay unlock to prevent scroll momentum
                    setTimeout(function() {
                        if (!isGameVisible) {
                            isInteractingWithGame = false;
                            unlockScroll();
                        }
                    }, 150);
                }
            }
        });
        
        // Lock scrolling completely - simpler approach without position:fixed to prevent flicker
        function lockScroll() {
            // Don't lock if already locked
            if (isScrollLocked) return;
            isScrollLocked = true;
            
            if (scrollContainer) {
                // Simply save current position - no snapping (prevents page shift on hover)
                savedScrollY = scrollContainer.scrollTop;
                
                scrollContainer.style.overflow = 'hidden';
                scrollContainer.style.touchAction = 'none';
                scrollContainer.style.overscrollBehavior = 'none';
                
                // Add scroll event listener to immediately reset any scroll attempts
                scrollContainer.addEventListener('scroll', blockScroll, { passive: false, capture: true });
                scrollContainer.addEventListener('wheel', blockWheel, { passive: false, capture: true });
            }
        }
        
        // Block scroll by resetting position immediately
        function blockScroll(e) {
            if (isScrollLocked && scrollContainer) {
                e.preventDefault();
                e.stopPropagation();
                scrollContainer.scrollTop = savedScrollY;
            }
        }
        
        // Block wheel events on scroll container
        function blockWheel(e) {
            if (isScrollLocked) {
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
            }
        }
        
        // Unlock scrolling - restore normal scroll behavior
        // iOS Safari specific: Use cooldown to prevent momentum-triggered jumps
        function unlockScroll() {
            // Don't unlock if still interacting with game or not locked
            if (isInteractingWithGame || !isScrollLocked) return;
            
            var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) || 
                       (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
            
            // Start cooldown period - reject snaps during this time
            unlockCooldown = true;
            
            // Get the game section position for forced snap
            var gameSection = document.getElementById('game');
            var gameSectionTop = gameSection ? gameSection.offsetTop : savedScrollY;
            
            // Force scroll to game section BEFORE clearing overflow
            if (scrollContainer) {
                scrollContainer.scrollTop = gameSectionTop;
                savedScrollY = gameSectionTop;
            }
            
            isScrollLocked = false;
            
            // Remove scroll blocker
            if (scrollContainer) {
                scrollContainer.removeEventListener('scroll', blockScroll, { capture: true });
                scrollContainer.removeEventListener('wheel', blockWheel, { capture: true });
                
                // iOS Safari fix: Keep touch-action blocked briefly to absorb momentum
                if (isIOS) {
                    // Keep overflow hidden and force position for a moment
                    scrollContainer.scrollTop = gameSectionTop;
                    
                    setTimeout(function() {
                        if (scrollContainer && !isScrollLocked) {
                            // Force position again before releasing
                            scrollContainer.scrollTop = gameSectionTop;
                            scrollContainer.style.overflow = '';
                            scrollContainer.style.touchAction = '';
                            scrollContainer.style.overscrollBehavior = '';
                            
                            // One more force after styles clear
                            requestAnimationFrame(function() {
                                if (scrollContainer && !isScrollLocked) {
                                    scrollContainer.scrollTop = gameSectionTop;
                                }
                            });
                        }
                    }, 50);
                    
                    // End cooldown after momentum would have settled
                    setTimeout(function() {
                        unlockCooldown = false;
                    }, 400);
                } else {
                    // Non-iOS: immediate release
                    scrollContainer.style.overflow = '';
                    scrollContainer.style.touchAction = '';
                    scrollContainer.style.overscrollBehavior = '';
                    scrollContainer.scrollTop = gameSectionTop;
                    
                    setTimeout(function() {
                        unlockCooldown = false;
                    }, 150);
                }
            }
        }
        
        // TOUCH EVENTS - Capture phase for maximum control
        document.addEventListener('touchstart', function(e) {
            const touch = e.touches[0];
            if (isGameElement(e.target) || isPointInGame(touch.clientX, touch.clientY)) {
                isInteractingWithGame = true;
                lockScroll();
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
            }
        }, { passive: false, capture: true });
        
        document.addEventListener('touchmove', function(e) {
            if (isInteractingWithGame) {
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
                return false;
            }
            const touch = e.touches[0];
            if (isGameElement(e.target) || isPointInGame(touch.clientX, touch.clientY)) {
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
                return false;
            }
        }, { passive: false, capture: true });
        
        document.addEventListener('touchend', function(e) {
            if (isInteractingWithGame) {
                // Prevent any default behavior that might cause scroll
                e.preventDefault();
                isInteractingWithGame = false;
                // Longer delay for iOS Safari to let momentum fully settle
                var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) || 
                           (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
                setTimeout(unlockScroll, isIOS ? 150 : 50);
            }
        }, { passive: false, capture: true });
        
        document.addEventListener('touchcancel', function(e) {
            if (isInteractingWithGame) {
                e.preventDefault();
                isInteractingWithGame = false;
                var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) || 
                           (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
                setTimeout(unlockScroll, isIOS ? 150 : 50);
            }
        }, { passive: false, capture: true });
        
        // MOUSE WHEEL - Prevent scroll when over game - window level for earliest interception
        window.addEventListener('wheel', function(e) {
            if (isInteractingWithGame || isScrollLocked || unlockCooldown) {
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
                return false;
            }
        }, { passive: false, capture: true });
        
        // MOUSE WHEEL - Prevent scroll when over game - document level backup
        document.addEventListener('wheel', function(e) {
            if (isInteractingWithGame || unlockCooldown || isGameElement(e.target) || isPointInGame(e.clientX, e.clientY)) {
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
                return false;
            }
        }, { passive: false, capture: true });
        
        // iOS SAFARI FIX: Catch any scroll events during cooldown and force back to game section
        window.addEventListener('scroll', function(e) {
            if (unlockCooldown && scrollContainer) {
                var gameSection = document.getElementById('game');
                if (gameSection) {
                    scrollContainer.scrollTop = gameSection.offsetTop;
                }
            }
        }, { passive: true, capture: true });
        
        // KEYBOARD - Prevent arrow keys from scrolling when game is focused or hovered
        document.addEventListener('keydown', function(e) {
            if (isInteractingWithGame || isGameElement(document.activeElement)) {
                if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', ' ', 'PageUp', 'PageDown', 'Home', 'End'].includes(e.key)) {
                    e.preventDefault();
                    e.stopPropagation();
                }
            }
        }, { passive: false, capture: true });
        
        // Apply CSS properties to game container only (not entire section)
        // This allows scrolling outside the game while blocking it inside
        if (gameSection) {
            gameSection.style.overscrollBehavior = 'contain';
        }
        
        if (gameContainer) {
            gameContainer.style.touchAction = 'none';
            gameContainer.style.overscrollBehavior = 'contain';
            
            // Direct touch handlers on game container - highest priority prevention
            // These fire before document-level handlers and prevent browser UI changes
            gameContainer.addEventListener('touchstart', function(e) {
                isInteractingWithGame = true;
                lockScroll();
                // Only preventDefault on non-interactive elements
                const isInteractive = e.target.closest('button') || e.target.closest('input');
                if (!isInteractive) {
                    e.preventDefault();
                }
            }, { passive: false, capture: true });
            
            gameContainer.addEventListener('touchmove', function(e) {
                e.preventDefault();
                e.stopPropagation();
            }, { passive: false, capture: true });
            
            gameContainer.addEventListener('touchend', function(e) {
                // Prevent default to stop any residual scroll behavior
                e.preventDefault();
                // Longer delay for iOS Safari to let momentum fully settle
                var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) || 
                           (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
                setTimeout(function() {
                    isInteractingWithGame = false;
                    unlockScroll();
                }, isIOS ? 150 : 100);
            }, { passive: false, capture: true });
            
            // DESKTOP: Lock scroll completely when mouse enters game container
            gameContainer.addEventListener('mouseenter', function() {
                isInteractingWithGame = true;
                lockScroll();
                // Add arcade-game-hover for CSS scroll lock
                document.body.classList.add('arcade-game-hover');
            });
            
            gameContainer.addEventListener('mouseleave', function() {
                isInteractingWithGame = false;
                unlockScroll();
                // Remove arcade-game-hover
                document.body.classList.remove('arcade-game-hover');
            });
            
            // Additional wheel handler directly on game container for maximum priority
            gameContainer.addEventListener('wheel', function(e) {
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
                return false;
            }, { passive: false, capture: true });
        }
        
        // ========== SCROLLABLE SECTION CONTAINMENT ==========
        // Prevent page scroll when scrolling inside bio or events containers
        (function() {
            const scrollableContainers = document.querySelectorAll('.about-container, .events-container');
            
            scrollableContainers.forEach(function(container) {
                // Track if we're inside a scrollable area
                let isHovering = false;
                
                // Mouse enter - start containing scroll
                container.addEventListener('mouseenter', function() {
                    isHovering = true;
                });
                
                container.addEventListener('mouseleave', function() {
                    isHovering = false;
                });
                
                // Wheel event - contain scroll within container
                container.addEventListener('wheel', function(e) {
                    const scrollTop = container.scrollTop;
                    const scrollHeight = container.scrollHeight;
                    const clientHeight = container.clientHeight;
                    const maxScroll = scrollHeight - clientHeight;
                    
                    // If there's nothing to scroll, let it bubble
                    if (maxScroll <= 0) return;
                    
                    const delta = e.deltaY;
                    
                    // At top and scrolling up, or at bottom and scrolling down - block
                    if ((scrollTop <= 0 && delta < 0) || (scrollTop >= maxScroll && delta > 0)) {
                        e.preventDefault();
                        e.stopPropagation();
                    } else {
                        // Scrolling within bounds - stop propagation but allow scroll
                        e.stopPropagation();
                    }
                }, { passive: false });
                
                // Touch handling for mobile
                let touchStartY = 0;
                
                container.addEventListener('touchstart', function(e) {
                    touchStartY = e.touches[0].clientY;
                    isHovering = true;
                }, { passive: true });
                
                container.addEventListener('touchmove', function(e) {
                    if (!isHovering) return;
                    
                    const scrollTop = container.scrollTop;
                    const scrollHeight = container.scrollHeight;
                    const clientHeight = container.clientHeight;
                    const maxScroll = scrollHeight - clientHeight;
                    
                    // If there's nothing to scroll, let it bubble
                    if (maxScroll <= 0) return;
                    
                    const touchY = e.touches[0].clientY;
                    const delta = touchStartY - touchY; // positive = scrolling down
                    
                    // At top and scrolling up, or at bottom and scrolling down - block
                    if ((scrollTop <= 0 && delta < 0) || (scrollTop >= maxScroll - 1 && delta > 0)) {
                        e.preventDefault();
                    }
                    
                    e.stopPropagation();
                }, { passive: false });
                
                container.addEventListener('touchend', function() {
                    isHovering = false;
                }, { passive: true });
            });
        })();
        
        // ========== MOBILE NAV TAP HANDLER ==========
        // Bold effect only on the tapped menu item, cross-browser
        // Note: Main tap highlight is now handled in menuTransitionToSection
        // This is a fallback for direct touch without navigation
        (function() {
            const isMobile = window.matchMedia('(max-width: 768px), (hover: none)').matches;
            if (!isMobile) return;
            
            const navLinks = document.querySelectorAll('nav a:not(.nav-animated-logo-container)');
            
            navLinks.forEach(function(link) {
                // Touch start - add bold class immediately for feedback
                link.addEventListener('touchstart', function(e) {
                    // Remove from all others first
                    navLinks.forEach(function(l) { l.classList.remove('nav-tap-active'); });
                    // Add to this one
                    this.classList.add('nav-tap-active');
                }, { passive: true });
                
                // Touch end - remove after 3 seconds (includes fade in/out time)
                link.addEventListener('touchend', function(e) {
                    var el = this;
                    setTimeout(function() {
                        el.classList.remove('nav-tap-active');
                    }, 3000);
                }, { passive: true });
                
                // Touch cancel - remove after 3 seconds as well
                link.addEventListener('touchcancel', function(e) {
                    var el = this;
                    setTimeout(function() {
                        el.classList.remove('nav-tap-active');
                    }, 3000);
                }, { passive: true });
            });
        })();
        
        // ========== FAST LAZY LOADING ==========
        // Custom lazy loader with 300px preload margin for faster perceived loading
        (function() {
            const lazyImages = document.querySelectorAll('.lazy-img');
            if (!lazyImages.length) return;
            
            if ('IntersectionObserver' in window) {
                const lazyObserver = new IntersectionObserver(function(entries) {
                    entries.forEach(function(entry) {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            const src = img.getAttribute('data-src');
                            if (src) {
                                img.src = src;
                                img.onload = function() {
                                    img.classList.add('loaded');
                                };
                                img.removeAttribute('data-src');
                            }
                            lazyObserver.unobserve(img);
                        }
                    });
                }, {
                    root: scrollContainer, // Use scroll container as root
                    rootMargin: '300px 0px', // Preload 300px before visible
                    threshold: 0
                });
                
                lazyImages.forEach(function(img) {
                    lazyObserver.observe(img);
                });
            } else {
                // Fallback: load all images immediately
                lazyImages.forEach(function(img) {
                    img.src = img.getAttribute('data-src');
                    img.classList.add('loaded');
                });
            }
        })();
        
        // ========== SYNC COLOR ANIMATIONS ==========
        // Force all color-cycling animations to start at the same point
        // Uses class toggle to reset all animations including pseudo-elements
        function syncColorAnimations() {
            // Add a class that pauses all animations
            const style = document.createElement('style');
            style.id = 'sync-animations-style';
            style.textContent = `
                .animation-reset,
                .animation-reset *,
                .animation-reset::before,
                .animation-reset::after,
                .animation-reset *::before,
                .animation-reset *::after {
                    animation: none !important;
                }
            `;
            document.head.appendChild(style);
            document.body.classList.add('animation-reset');
            
            // Force reflow
            void document.body.offsetHeight;
            
            // Remove the class after a brief moment to restart all animations together
            requestAnimationFrame(() => {
                requestAnimationFrame(() => {
                    document.body.classList.remove('animation-reset');
                    document.head.removeChild(style);
                });
            });
        }
    </script>
</body>
</html>
